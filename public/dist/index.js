!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).reactive=t()}(this,(function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function r(){return Object.create(null)}function i(e){e.forEach(n)}function o(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s,u;function l(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function c(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function h(e,t,n,r){if(e){const i=f(e,t,n,r);return e[0](i)}}function f(e,n,r,i){return e[1]&&i?t(r.ctx.slice(),e[1](i(n))):r.ctx}function p(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}function d(e,t,n,r,i,o){if(i){const a=f(t,n,r,o);e.p(a,i)}}function v(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function m(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}function g(e){return null==e?"":e}function y(e,t){e.appendChild(t)}function b(e,t,n){const r=function(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;if(t.host)return t;return document}(e);if(!r.getElementById(t)){const e=I("style");e.id=t,e.textContent=n,function(e,t){y(e.head||e,t)}(r,e)}}function w(e,t,n){e.insertBefore(t,n||null)}function _(e){e.parentNode.removeChild(e)}function k(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function I(e){return document.createElement(e)}function x(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function C(e){return document.createTextNode(e)}function T(){return C(" ")}function S(){return C("")}function E(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function N(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function A(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function P(e,t){e.value=null==t?"":t}class O{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.e=I(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)w(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(_)}}function R(e){u=e}function j(e){(function(){if(!u)throw new Error("Function called outside component initialization");return u})().$$.on_mount.push(e)}const $=[],D=[],z=[],L=[],M=Promise.resolve();let F=!1;function q(e){z.push(e)}let U=!1;const V=new Set;function W(){if(!U){U=!0;do{for(let e=0;e<$.length;e+=1){const t=$[e];R(t),B(t.$$)}for(R(null),$.length=0;D.length;)D.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];V.has(t)||(V.add(t),t())}z.length=0}while($.length);for(;L.length;)L.pop()();F=!1,U=!1,V.clear()}}function B(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(q)}}const H=new Set;let K;function G(){K={r:0,c:[],p:K}}function Y(){K.r||i(K.c),K=K.p}function X(e,t){e&&e.i&&(H.delete(e),e.i(t))}function J(e,t,n,r){if(e&&e.o){if(H.has(e))return;H.add(e),K.c.push((()=>{H.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function Q(e,t){e.d(1),t.delete(e.key)}function Z(e,t){J(e,1,1,(()=>{t.delete(e.key)}))}function ee(e,t,n,r,i,o,a,s,u,l,c,h){let f=e.length,p=o.length,d=f;const v={};for(;d--;)v[e[d].key]=d;const m=[],g=new Map,y=new Map;for(d=p;d--;){const e=h(i,o,d),s=n(e);let u=a.get(s);u?r&&u.p(e,t):(u=l(s,e),u.c()),g.set(s,m[d]=u),s in v&&y.set(s,Math.abs(d-v[s]))}const b=new Set,w=new Set;function _(e){X(e,1),e.m(s,c),a.set(e.key,e),c=e.first,p--}for(;f&&p;){const t=m[p-1],n=e[f-1],r=t.key,i=n.key;t===n?(c=t.first,f--,p--):g.has(i)?!a.has(r)||b.has(r)?_(t):w.has(i)?f--:y.get(r)>y.get(i)?(w.add(r),_(t)):(b.add(i),f--):(u(n,a),f--)}for(;f--;){const t=e[f];g.has(t.key)||u(t,a)}for(;p;)_(m[p-1]);return m}function te(e,t){const n={},r={},i={$$scope:1};let o=e.length;for(;o--;){const a=e[o],s=t[o];if(s){for(const e in a)e in s||(r[e]=1);for(const e in s)i[e]||(n[e]=s[e],i[e]=1);e[o]=s}else for(const e in a)i[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function ne(e){return"object"==typeof e&&null!==e?e:{}}function re(e){e&&e.c()}function ie(e,t,r,a){const{fragment:s,on_mount:u,on_destroy:l,after_update:c}=e.$$;s&&s.m(t,r),a||q((()=>{const t=u.map(n).filter(o);l?l.push(...t):i(t),e.$$.on_mount=[]})),c.forEach(q)}function oe(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ae(e,t){-1===e.$$.dirty[0]&&($.push(e),F||(F=!0,M.then(W)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function se(t,n,o,a,s,l,c,h=[-1]){const f=u;R(t);const p=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:n.context||[]),callbacks:r(),dirty:h,skip_bound:!1,root:n.target||f.$$.root};c&&c(p.root);let d=!1;if(p.ctx=o?o(t,n.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=i)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](i),d&&ae(t,e)),n})):[],p.update(),d=!0,i(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(_)}else p.fragment&&p.fragment.c();n.intro&&X(t.$$.fragment),ie(t,n.target,n.anchor,n.customElement),W()}R(f)}class ue{$destroy(){oe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var le=function(e,t){return(le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}le(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var he=function(){return(he=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function fe(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function pe(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function de(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function me(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ge=!1,ye="${JSCORE_VERSION}",be=function(e,t){if(!e)throw we(t)},we=function(e){return new Error("Firebase Database ("+ye+") INTERNAL ASSERT FAILED: "+e)},_e=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|l>>6,p=63&l;u||(p=64,a||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_e(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var l=o<<2|a>>4;if(r.push(l),64!==s){var c=a<<4&240|s>>2;if(r.push(c),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ie=function(e){try{return ke.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function xe(e){return Ce(void 0,e)}function Ce(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ce(e[n],t[n]));return e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Te=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Se(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")}function Ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function Ne(){return!0===ge}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ae=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Pe.prototype.create),o}return ce(t,e),t}(Error),Pe=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?Oe(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new Ae(i,s,r);return u},e}();function Oe(e,t){return e.replace(Re,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var Re=/\{\$([^}]+)}/g;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function je(e){return JSON.parse(e)}function $e(e){return JSON.stringify(e)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var De=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=je(Ie(o[0])||""),n=je(Ie(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function ze(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Le(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Me(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Fe(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var qe=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=c^u&(l^c),a=1518500249):(o=u^l^c,a=1859775393):r<60?(o=u&l|c&(u|l),a=2400959708):(o=u^l^c,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=c,c=l,l=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function Ue(e,t){var n=new Ve(e,t);return n.subscribe.bind(n)}var Ve=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=We),void 0===r.error&&(r.error=We),void 0===r.complete&&(r.complete=We);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function We(){}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Be=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function He(e,t){return e+" failed: "+t+" argument "}function Ke(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(He(e,t)+"must be a valid function.")}function Ge(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(He(e,t)+"must be a valid context object.")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ye=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
     * @license
     * Copyright 2021 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Xe(e){return e&&e._delegate?e._delegate:e}var Je=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),Qe="[DEFAULT]",Ze=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Te;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e))try{this.getOrInitializeService({instanceIdentifier:Qe})}catch(e){}try{for(var r=de(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=ve(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var l=this.getOrInitializeService({instanceIdentifier:u});s.resolve(l)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=Qe),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return fe(this,void 0,void 0,(function(){var e;return pe(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(me(me([],ve(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),ve(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=Qe),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=de(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var l=ve(u.value,2),c=l[0],h=l[1];o===this.normalizeInstanceIdentifier(c)&&h.resolve(a)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=de(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Qe?void 0:t),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=Qe),this.component?this.component.multipleInstances?e:Qe:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var et,tt=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ze(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function nt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var rt,it=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(rt||(rt={}));var ot,at={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},st=rt.INFO,ut=((et={})[rt.DEBUG]="log",et[rt.VERBOSE]="log",et[rt.INFO]="info",et[rt.WARN]="warn",et[rt.ERROR]="error",et),lt=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=ut[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,nt(["["+i+"]  "+e.name+":"],n))}},ct=function(){function e(e){this.name=e,this._logLevel=st,this._logHandler=lt,this._userLogHandler=null,it.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in rt))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?at[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,nt([this,rt.DEBUG],e)),this._logHandler.apply(this,nt([this,rt.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,nt([this,rt.VERBOSE],e)),this._logHandler.apply(this,nt([this,rt.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,nt([this,rt.INFO],e)),this._logHandler.apply(this,nt([this,rt.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,nt([this,rt.WARN],e)),this._logHandler.apply(this,nt([this,rt.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,nt([this,rt.ERROR],e)),this._logHandler.apply(this,nt([this,rt.ERROR],e))},e}();function ht(e){it.forEach((function(t){t.setLogLevel(e)}))}var ft,pt=((ot={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ot["bad-app-name"]="Illegal App name: '{$appName}",ot["duplicate-app"]="Firebase App named '{$appName}' already exists",ot["app-deleted"]="Firebase App named '{$appName}' already deleted",ot["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ot["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ot),dt=new Pe("app","Firebase",pt),vt="@firebase/app",mt="[DEFAULT]",gt=((ft={})[vt]="fire-core",ft["@firebase/analytics"]="fire-analytics",ft["@firebase/app-check"]="fire-app-check",ft["@firebase/auth"]="fire-auth",ft["@firebase/database"]="fire-rtdb",ft["@firebase/functions"]="fire-fn",ft["@firebase/installations"]="fire-iid",ft["@firebase/messaging"]="fire-fcm",ft["@firebase/performance"]="fire-perf",ft["@firebase/remote-config"]="fire-rc",ft["@firebase/storage"]="fire-gcs",ft["@firebase/firestore"]="fire-fst",ft["fire-js"]="fire-js",ft["firebase-wrapper"]="fire-js-all",ft),yt=new ct("@firebase/app"),bt=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=xe(e),this.container=new tt(t.name),this._addComponent(new Je("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=mt),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=mt),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){yt.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw dt.create("app-deleted",{appName:this.name_})},e}();bt.prototype.name&&bt.prototype.options||bt.prototype.delete||console.log("dc");
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function wt(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=mt);var a=o.name;if("string"!=typeof a||!a)throw dt.create("bad-app-name",{appName:String(a)});if(ze(t,a))throw dt.create("duplicate-app",{appName:a});var s=new e(n,o,r);return t[a]=s,s},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=gt[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void yt.warn(u.join(" "))}o(new Je(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:ht,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw dt.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=at[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:rt[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=it;r<i.length;r++)n(i[r])}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!ze(t,e=e||mt))throw dt.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return yt.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var s=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[a])throw dt.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&Ce(s,o.serviceProps),r[a]=s,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var u=0,l=Object.keys(t);u<l.length;u++){var c=l[u];t[c]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var _t=function e(){var t=wt(bt);return t.INTERNAL=he(he({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Ce(t,e)},createSubscribe:Ue,ErrorFactory:Pe,deepExtend:Ce}),t}(),kt=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();
/**
     * @license
     * Copyright 2019 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){yt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var It=self.firebase.SDK_VERSION;It&&It.indexOf("LITE")>=0&&yt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var xt=_t.initializeApp;_t.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ee()&&yt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),xt.apply(void 0,e)};var Ct=_t;!function(e,t){e.INTERNAL.registerComponent(new Je("platform-logger",(function(e){return new kt(e)}),"PRIVATE")),e.registerVersion(vt,"0.6.29",t),e.registerVersion("fire-js","")}(Ct);var Tt="8.9.0";
/**
     * @license
     * Copyright 2018 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
Ct.registerVersion("firebase",Tt,"app"),Ct.SDK_VERSION=Tt,function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var n=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis}(this);function r(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:r(e)}}!function(e,r){if(r){var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function r(){this.a=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;r.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=n.setTimeout;r.prototype.c=function(e){a(e,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},r.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new r;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){o(e)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=i(e),a=r.next();!a.done;a=r.next())o(a.value).Ra(t,n)}))},t.all=function(e){var n=i(e),r=n.next();return r.done?o([]):new t((function(e,t){function i(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Ra(i(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function l(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""}function c(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==h(e)}function d(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function g(e,t,n){return e.call.apply(e.bind,arguments)}function y(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function k(e){return e}function I(e,t,n){this.code=T+e,this.message=t||S[e]||"",this.a=n||null}function x(e){var t=e&&e.code;return t?new I(t.substring(T.length),e.message,e.serverResponse):null}_(I,Error),I.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},I.prototype.toJSON=function(){return this.w()};var C,T="auth/",S={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},E={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(e){for(var t in E)if(E[t].id===e)return{firebaseEndpoint:(e=E[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function A(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function P(e){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function O(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");P.call(this,n+e[r])}function R(e,t){throw new O("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function j(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function $(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function D(){this.b=this.a=null}C=N("__EID__")?"__EID__":void 0,_(P,Error),P.prototype.name="CustomError",_(O,P),O.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var z=new j((function(){return new M}),(function(e){e.reset()}));function L(){var e=gt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function M(){this.next=this.b=this.a=null}D.prototype.add=function(e,t){var n=z.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},M.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},M.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},q=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var U=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},V=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},W=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function B(e,t){return 0<=F(e,t)}function H(e,t){var n;return(n=0<=(t=F(e,t)))&&Array.prototype.splice.call(e,t,1),n}function K(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function G(e){return Array.prototype.concat.apply([],arguments)}function Y(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var X,J=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},Q=/&/g,Z=/</g,ee=/>/g,te=/"/g,ne=/'/g,re=/\x00/g,ie=/[\x00&<>"']/;function oe(e,t){return-1!=e.indexOf(t)}function ae(e,t){return e<t?-1:e>t?1:0}e:{var se=a.navigator;if(se){var ue=se.userAgent;if(ue){X=ue;break e}}X=""}function le(e){return oe(X,e)}function ce(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function he(e){for(var t in e)return!1;return!0}function fe(e){var t,n={};for(t in e)n[t]=e[t];return n}var pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function de(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<pe.length;o++)n=pe[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ve(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(d(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function me(e,t){this.a=e===we&&t||"",this.b=be}function ge(e){return e instanceof me&&e.constructor===me&&e.b===be?e.a:(R("expected object of type Const, got '"+e+"'"),"type_error:Const")}me.prototype.ta=!0,me.prototype.sa=function(){return this.a},me.prototype.toString=function(){return"Const{"+this.a+"}"};var ye,be={},we={};function _e(){if(void 0===ye){var e=null,t=a.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(e){a.console&&a.console.error(e.message)}ye=e}else ye=e}return ye}function ke(e,t){this.a=t===Se?e:""}function Ie(e){return e instanceof ke&&e.constructor===ke?e.a:(R("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function xe(e,t){var n=ge(e);if(!Te.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=_e();return new ke(e=t?t.createScriptURL(e):e,Se)}(e=n.replace(Ce,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof me?ge(e):encodeURIComponent(String(e))})))}ke.prototype.ta=!0,ke.prototype.sa=function(){return this.a.toString()},ke.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ce=/%{(\w+)}/g,Te=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Se={};function Ee(e,t){this.a=t===$e?e:""}function Ne(e){return e instanceof Ee&&e.constructor===Ee?e.a:(R("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Ee.prototype.ta=!0,Ee.prototype.sa=function(){return this.a.toString()},Ee.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ae=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Pe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Oe=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Re(e){if(e instanceof Ee)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Oe.test(e))e=new Ee(e,$e);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Pe);e=t&&Ae.test(t[1])?new Ee(e,$e):null}return e}function je(e){return e instanceof Ee?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Oe.test(e)||(e="about:invalid#zClosurez"),new Ee(e,$e))}var $e={},De=new Ee("about:invalid#zClosurez",$e);function ze(e,t,n){this.a=n===Le?e:""}ze.prototype.ta=!0,ze.prototype.sa=function(){return this.a.toString()},ze.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Le={};function Me(e,t,n,r){return e=e instanceof Ee?e:je(e),t=t||a,n=n instanceof me?ge(n):n||"",t.open(Ne(e),n,r,void 0)}function Fe(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function qe(e){return ie.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(Q,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(Z,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ee,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(te,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ne,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(re,"&#0;"))),e}function Ue(e){return Ue[" "](e),e}Ue[" "]=c;var Ve,We,Be=le("Opera"),He=le("Trident")||le("MSIE"),Ke=le("Edge"),Ge=Ke||He,Ye=le("Gecko")&&!(oe(X.toLowerCase(),"webkit")&&!le("Edge"))&&!(le("Trident")||le("MSIE"))&&!le("Edge"),Xe=oe(X.toLowerCase(),"webkit")&&!le("Edge");function Je(){var e=a.document;return e?e.documentMode:void 0}e:{var Qe="",Ze=(We=X,Ye?/rv:([^\);]+)(\)|;)/.exec(We):Ke?/Edge\/([\d\.]+)/.exec(We):He?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(We):Xe?/WebKit\/(\S+)/.exec(We):Be?/(?:Version)[ \/]?(\S+)/.exec(We):void 0);if(Ze&&(Qe=Ze?Ze[1]:""),He){var et=Je();if(null!=et&&et>parseFloat(Qe)){Ve=String(et);break e}}Ve=Qe}var tt,nt={};function rt(e){return function(e,t){var n=nt;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=J(String(Ve)).split("."),r=J(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=ae(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ae(0==a[2].length,0==s[2].length)||ae(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(a.document&&He){var it=Je();tt=it||(parseInt(Ve,10)||void 0)}else tt=void 0;var ot=tt;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(We){}var at=!He||9<=Number(ot);function st(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ut(e,t){ce(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ht.hasOwnProperty(n)?e.setAttribute(ht[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var lt,ct,ht={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ft(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||d(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(d(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(p(o)){a="function"==typeof o.item;break e}}a=!1}q(a?Y(o):o,r)}}}function pt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function dt(e){a.setTimeout((function(){throw e}),0)}function vt(e,t){ct||function(){if(a.Promise&&a.Promise.resolve){var e=a.Promise.resolve(void 0);ct=function(){e.then(yt)}}else ct=function(){var e=yt;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!le("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(lt||(lt=function(){var e=a.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!le("Presto")&&(e=function(){var e=pt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=b((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!le("Trident")&&!le("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){a.setTimeout(e,0)}}()),lt(e)):a.setImmediate(e)}}(),mt||(ct(),mt=!0),gt.add(e,t)}var mt=!1,gt=new D;function yt(){for(var e;e=L();){try{e.a.call(e.b)}catch(e){dt(e)}$(z,e)}mt=!1}function bt(e,t){if(this.a=wt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=c)try{var n=this;e.call(t,(function(e){jt(n,_t,e)}),(function(e){if(!(e instanceof qt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}jt(n,kt,e)}))}catch(e){jt(this,kt,e)}}var wt=0,_t=2,kt=3;function It(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}It.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xt=new j((function(){return new It}),(function(e){e.reset()}));function Tt(e,t,n){var r=xt.get();return r.g=e,r.b=t,r.f=n,r}function St(e){if(e instanceof bt)return e;var t=new bt(c);return jt(t,_t,e),t}function Et(e){return new bt((function(t,n){n(e)}))}function Nt(e,t,n){$t(e,t,n,null)||vt(w(t,e))}function At(e){return new bt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Nt(e[o],w(i,o,!0),w(i,o,!1));else t(r)}))}function Pt(e,t){if(e.a==wt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==wt&&1==r?Pt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):zt(n),Lt(n,i,kt,t)))}e.c=null}else jt(e,kt,t)}function Ot(e,t){e.b||e.a!=_t&&e.a!=kt||Dt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Rt(e,t,n,r){var i=Tt(null,null,null);return i.a=new bt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof qt?o(t):e(i)}catch(e){o(e)}}:o})),i.a.c=e,Ot(e,i),i.a}function jt(e,t,n){e.a==wt&&(e===n&&(t=kt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,$t(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Dt(e),t!=kt||n instanceof qt||function(e,t){e.g=!0,vt((function(){e.g&&Ft.call(null,t)}))}(e,n)))}function $t(e,t,n,r){if(e instanceof bt)return Ot(e,Tt(t||c,n||null,r)),!0;if(A(e))return e.then(t,n,r),!0;if(d(e))try{var i=e.then;if(p(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(e){o(e)}}(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function Dt(e){e.h||(e.h=!0,vt(e.gc,e))}function zt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Lt(e,t,n,r){if(n==kt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Mt(t,n,r);else try{t.c?t.g.call(t.f):Mt(t,n,r)}catch(e){Ft.call(null,e)}$(xt,t)}function Mt(e,t,n){t==_t?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}bt.prototype.then=function(e,t,n){return Rt(this,p(e)?e:null,p(t)?t:null,n)},bt.prototype.$goog_Thenable=!0,(e=bt.prototype).oa=function(e,t){return(e=Tt(e,e,t)).c=!0,Ot(this,e),this},e.o=function(e,t){return Rt(this,null,e,t)},e.cancel=function(e){if(this.a==wt){var t=new qt(e);vt((function(){Pt(this,t)}),this)}},e.$c=function(e){this.a=wt,jt(this,_t,e)},e.ad=function(e){this.a=wt,jt(this,kt,e)},e.gc=function(){for(var e;e=zt(this);)Lt(this,e,this.a,this.i);this.h=!1};var Ft=dt;function qt(e){P.call(this,e)}function Ut(){this.ya=this.ya,this.pa=this.pa}_(qt,P),qt.prototype.name="cancel";var Vt={};function Wt(e){if(!e.ya&&(e.ya=!0,e.Da(),0)){var t=function(e){return Object.prototype.hasOwnProperty.call(e,v)&&e[v]||(e[v]=++m)}(e);delete Vt[t]}}Ut.prototype.ya=!1,Ut.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Bt=Object.freeze||function(e){return e},Ht=!He||9<=Number(ot),Kt=He&&!rt("9"),Gt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",c,t),a.removeEventListener("test",c,t)}catch(e){}return e}();function Yt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Xt(e,t){if(Yt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Ye){e:{try{Ue(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Jt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Yt.prototype.preventDefault=function(){this.defaultPrevented=!0},_(Xt,Yt);var Jt=Bt({2:"touch",3:"pen",4:"mouse"});Xt.prototype.preventDefault=function(){Xt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Kt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},Xt.prototype.g=function(){return this.a};var Qt="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function en(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Zt,this.wa=this.Qa=!1}function tn(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function nn(e){this.src=e,this.a={},this.b=0}function rn(e,t){var n=t.type;n in e.a&&H(e.a[n],t)&&(tn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function on(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}nn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=on(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new en(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var an="closure_lm_"+(1e6*Math.random()|0),sn={};function un(e,t,n,r,i){if(r&&r.once)cn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)un(e,t[o],n,r,i);else n=bn(n),e&&e[Qt]?_n(e,t,n,d(r)?!!r.capture:!!r,i):ln(e,t,n,!1,r,i)}function ln(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i,s=gn(e);if(s||(e[an]=s=new nn(e)),!(n=s.add(t,n,r,a,o)).proxy)if(r=function(){var e=mn,t=Ht?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Gt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(pn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function cn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);else n=bn(n),e&&e[Qt]?kn(e,t,n,d(r)?!!r.capture:!!r,i):ln(e,t,n,!0,r,i)}function hn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=bn(n),e&&e[Qt]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=on(o=e.a[t],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=gn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=on(t,n,r,i)),(n=-1<e?t[e]:null)&&fn(n))}function fn(e){if("number"!=typeof e&&e&&!e.wa){var t=e.src;if(t&&t[Qt])rn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(pn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=gn(t))?(rn(n,e),0==n.b&&(n.src=null,t[an]=null)):tn(e)}}}function pn(e){return e in sn?sn[e]:sn[e]="on"+e}function dn(e,t,n,r){var i=!0;if((e=gn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=vn(o,r),i=i&&!1!==o)}return i}function vn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&fn(e),n.call(r,t)}function mn(e,t){if(e.wa)return!0;if(!Ht){if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Xt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=dn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=dn(r[i],e,!1,t),n=n&&o}return n}return vn(e,new Xt(t,this))}function gn(e){return(e=e[an])instanceof nn?e:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(e){return p(e)?e:(e[yn]||(e[yn]=function(t){return e.handleEvent(t)}),e[yn])}function wn(){Ut.call(this),this.v=new nn(this),this.bc=this,this.hb=null}function _n(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function kn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function In(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&rn(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function xn(e,t,n){if(p(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function Cn(e){var t=null;return new bt((function(n,r){-1==(t=xn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw a.clearTimeout(t),e}))}function Tn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Sn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(f(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function En(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof En)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Nn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];An(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)An(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function An(e,t){return Object.prototype.hasOwnProperty.call(e,t)}_(wn,Ut),wn.prototype[Qt]=!0,wn.prototype.addEventListener=function(e,t,n,r){un(this,e,t,n,r)},wn.prototype.removeEventListener=function(e,t,n,r){hn(this,e,t,n,r)},wn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"==typeof e)e=new Yt(e,n);else if(e instanceof Yt)e.target=e.target||n;else{var i=e;de(e=new Yt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=In(a,r,!0,e)&&i}if(i=In(a=e.b=n,r,!0,e)&&i,i=In(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=In(a=e.b=t[o],r,!1,e)&&i;return i},wn.prototype.Da=function(){if(wn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)tn(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=En.prototype).X=function(){Nn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Nn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return An(this.b,e)?this.b[e]:t},e.set=function(e,t){An(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof On?(this.i=void 0!==t?t:e.i,Rn(this,e.c),this.l=e.l,this.a=e.a,jn(this,e.g),this.f=e.f,$n(this,er(e.b)),this.h=e.h):e&&(n=String(e).match(Pn))?(this.i=!!t,Rn(this,n[1]||"",!0),this.l=Fn(n[2]||""),this.a=Fn(n[3]||"",!0),jn(this,n[4]),this.f=Fn(n[5]||"",!0),$n(this,n[6]||"",!0),this.h=Fn(n[7]||"")):(this.i=!!t,this.b=new Gn(null,this.i))}function Rn(e,t,n){e.c=n?Fn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function jn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function $n(e,t,n){t instanceof Gn?(e.b=t,function(e,t){t&&!e.f&&(Yn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Jn(this,t),Zn(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=qn(t,Hn)),e.b=new Gn(t,e.i))}function Dn(e,t,n){e.b.set(t,n)}function zn(e,t){return e.b.get(t)}function Ln(e){return e instanceof On?new On(e):new On(e,void 0)}function Mn(e,t,n,r){var i=new On(null,void 0);return e&&Rn(i,e),t&&(i.a=t),n&&jn(i,n),r&&(i.f=r),i}function Fn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Un),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Un(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}On.prototype.toString=function(){var e=[],t=this.c;t&&e.push(qn(t,Vn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(qn(t,Vn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(qn(n,"/"==n.charAt(0)?Bn:Wn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",qn(n,Kn)),e.join("")},On.prototype.resolve=function(e){var t=new On(this),n=!!e.c;n?Rn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)jn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(oe(i,"./")||oe(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?$n(t,er(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Vn=/[#\/\?@]/g,Wn=/[#\?:]/g,Bn=/[#\?]/g,Hn=/[#\?@]/g,Kn=/#/g;function Gn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Yn(e){e.a||(e.a=new En,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xn(e){var t=Sn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Gn(null,void 0);e=Tn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Jn(e,t){Yn(e),t=tr(e,t),An(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,An((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Nn(e)))}function Qn(e,t){return Yn(e),t=tr(e,t),An(e.a.b,t)}function Zn(e,t,n){Jn(e,t),0<n.length&&(e.c=null,e.a.set(tr(e,t),Y(n)),e.b+=n.length)}function er(e){var t=new Gn;return t.c=e.c,e.a&&(t.a=new En(e.a),t.b=e.b),t}function tr(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function nr(e){var t=[];return ir(new rr,e,t),t.join("")}function rr(){}function ir(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),ir(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),sr(r,n),n.push(":"),ir(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":sr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Gn.prototype).add=function(e,t){Yn(this),this.c=null,e=tr(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Yn(this),this.a.forEach((function(n,r){q(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Yn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Yn(this);var t=[];if("string"==typeof e)Qn(this,e)&&(t=G(t,this.a.get(tr(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=G(t,e[n])}return t},e.set=function(e,t){return Yn(this),this.c=null,Qn(this,e=tr(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var or={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function sr(e,t){t.push('"',e.replace(ar,(function(e){var t=or[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),or[e]=t),t})),'"')}function ur(){var e=Er();return He&&!!ot&&11==ot||/Edge\/\d+/.test(e)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function cr(e,t){t=t||a.window;var n="about:blank";e&&(n=Ne(Re(e)||De)),t.location.href=n}function hr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<hr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function fr(e){return!!((e=(e||Er()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function pr(e){e=e||a.window;try{e.close()}catch(e){}}function dr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Er().toLowerCase(),r&&(t.target=r,oe(n,"crios/")&&(t.target="_blank")),Cr(Er())==Ir&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ee?n:Re(void 0!==n.href?n.href:String(n))||De,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((le("iPhone")&&!le("iPod")&&!le("iPad")||le("iPad")||le("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(ve(a=pt(document,"A"),"HTMLAnchorElement"),t=t instanceof Ee?t:je(t),a.href=Ne(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Me("",r,n,a),e=Ne(t),a&&(Ge&&oe(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qe(e)+'">',e=new ze(e=(r=_e())?r.createHTML(e):e,null,Le),r=a.document)&&(r.write(function(e){return e instanceof ze&&e.constructor===ze?e.a:(R("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Me(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var vr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mr=/^[^@]+@[^@]+$/;function gr(){var e=null;return new bt((function(t){"complete"==a.document.readyState?t():(e=function(){t()},cn(window,"load",e))})).o((function(t){throw hn(window,"load",e),t}))}function yr(e){return e=e||Er(),!("file:"!==Rr()&&"ionic:"!==Rr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var e=a.window;try{return!(!e||e==e.top)}catch(e){return!1}}function wr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function _r(){return Ct.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ct.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function kr(){var e=_r();return"ReactNative"===e||"Node"===e}var Ir="Firefox",xr="Chrome";function Cr(e){var t=e.toLowerCase();return oe(t,"opera/")||oe(t,"opr/")||oe(t,"opios/")?"Opera":oe(t,"iemobile")?"IEMobile":oe(t,"msie")||oe(t,"trident/")?"IE":oe(t,"edge/")?"Edge":oe(t,"firefox/")?Ir:oe(t,"silk/")?"Silk":oe(t,"blackberry")?"Blackberry":oe(t,"webos")?"Webos":!oe(t,"safari/")||oe(t,"chrome/")||oe(t,"crios/")||oe(t,"android")?!oe(t,"chrome/")&&!oe(t,"crios/")||oe(t,"edge/")?oe(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":xr:"Safari"}var Tr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Sr(e,t){t=t||[];var n,r=[],i={};for(n in Tr)i[Tr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=_r())?r=Cr(i=Er()):"Worker"===r&&(r=Cr(i=Er())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Er(){return a.navigator&&a.navigator.userAgent||""}function Nr(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Ar(){try{var e=a.localStorage,t=Lr();if(e)return e.setItem(t,"1"),e.removeItem(t),!ur()||!!a.indexedDB}catch(e){return wr()&&!!a.indexedDB}return!1}function Pr(){return(Or()||"chrome-extension:"===Rr()||yr())&&!kr()&&Ar()&&!wr()}function Or(){return"http:"===Rr()||"https:"===Rr()}function Rr(){return a.location&&a.location.protocol||null}function jr(e){return!fr(e=e||Er())&&Cr(e)!=Ir}function $r(e){return void 0===e?null:nr(e)}function Dr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function zr(e){if(null!==e)return JSON.parse(e)}function Lr(e){return e||Math.floor(1e9*Math.random()).toString()}function Mr(e){return"Safari"!=Cr(e=e||Er())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Fr(){var e=a.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function qr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Er(),t=_r(),this.b=fr(e)||"ReactNative"===t}function Ur(){var e=a.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Vr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Wr(){return!(!Nr("fireauth.oauthhelper",a)&&!Nr("fireauth.iframe",a))}qr.prototype.get=function(){var e=a.navigator;return!e||"boolean"!=typeof e.onLine||!Or()&&"chrome-extension:"!==Rr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Br,Hr={};function Kr(e){Hr[e]||(Hr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),Br=2==Gr.abcd}catch(We){Br=!1}function Yr(e,t,n){Br?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Xr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Yr(e,n,t[n])}function Jr(e){var t={};return Xr(t,e),t}function Qr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Yr(t,n,Qr(e[n]));return t}function Zr(e){var t=e&&(e[ii]?"phone":null);if(!(t&&e&&e[ri]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");Yr(this,"uid",e[ri]),Yr(this,"displayName",e[ti]||null);var n=null;e[ni]&&(n=new Date(e[ni]).toUTCString()),Yr(this,"enrollmentTime",n),Yr(this,"factorId",t)}function ei(e){try{var t=new oi(e)}catch(e){t=null}return t}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(e){Zr.call(this,e),Yr(this,"phoneNumber",e[ii])}function ai(e){var t={},n=e[ci],r=e[fi],i=e[pi];if(e=ei(e[hi]),!i||i!=ui&&i!=li&&!n||i==li&&!r||i==si&&!e)throw Error("Invalid checkActionCode response!");i==li?(t[vi]=n||null,t[gi]=n||null,t[di]=r):(t[vi]=r||null,t[gi]=r||null,t[di]=n||null),t[mi]=e||null,Yr(this,bi,i),Yr(this,yi,Qr(t))}_(oi,Zr),oi.prototype.w=function(){var e=oi.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var si="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",ci="email",hi="mfaInfo",fi="newEmail",pi="requestType",di="email",vi="fromEmail",mi="multiFactorInfo",gi="previousEmail",yi="data",bi="operation";function wi(e){var t=zn(e=Ln(e),_i)||null,n=zn(e,ki)||null,r=zn(e,Ci)||null;if(r=r&&Si[r]||null,!t||!n||!r)throw new I("argument-error",_i+", "+ki+"and "+Ci+" are required in a valid action code URL.");Xr(this,{apiKey:t,operation:r,code:n,continueUrl:zn(e,Ii)||null,languageCode:zn(e,xi)||null,tenantId:zn(e,Ti)||null})}var _i="apiKey",ki="oobCode",Ii="continueUrl",xi="languageCode",Ci="mode",Ti="tenantId",Si={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ui,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Ei(e){try{return new wi(e)}catch(e){return null}}function Ni(e){var t=e[ji];if(void 0===t)throw new I("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new I("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ai];if(n&&"object"==typeof n){t=n[zi];var r=n[$i];if(n=n[Di],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new I("argument-error",$i+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new I("argument-error",Di+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new I("argument-error",zi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new I("missing-android-pkg-name")}}else if(void 0!==n)throw new I("argument-error",Ai+" property must be a non null object when specified.");if(this.f=null,(t=e[Ri])&&"object"==typeof t){if("string"==typeof(t=t[Li])&&t.length)this.f=t;else if(void 0!==t)throw new I("argument-error",Li+" property must be a non empty string when specified.")}else if(void 0!==t)throw new I("argument-error",Ri+" property must be a non null object when specified.");if(void 0!==(t=e[Oi])&&"boolean"!=typeof t)throw new I("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Pi])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new I("argument-error",Pi+" property must be a non empty string when specified.");this.i=e||null}var Ai="android",Pi="dynamicLinkDomain",Oi="handleCodeInApp",Ri="iOS",ji="url",$i="installApp",Di="minimumVersion",zi="packageName",Li="bundleId";function Mi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Fi=null;function qi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Fi){Fi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Ui(e){var t=Wi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Vi(e){try{return new Ui(e)}catch(e){return null}}function Wi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=qi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(e){}return null}Ui.prototype.T=function(){return this.f},Ui.prototype.l=function(){return this.c},Ui.prototype.toString=function(){return this.h};var Bi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Hi=["client_id","response_type","scope","redirect_uri","state"],Ki={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Hi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Hi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Hi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Bi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Gi(e){for(var t in Ki)if(Ki[t].fa==e)return Ki[t];return null}function Yi(e){var t={};t["facebook.com"]=eo,t["google.com"]=no,t["github.com"]=to,t["twitter.com"]=ro;var n=e&&e[Ji];try{if(n)return t[n]?new t[n](e):new Zi(e);if(void 0!==e[Xi])return new Qi(e)}catch(e){}return null}var Xi="idToken",Ji="providerId";function Qi(e){var t=e[Ji];if(!t&&e[Xi]){var n=Vi(e[Xi]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Yr(this,"providerId",t),Yr(this,"isNewUser",n)}function Zi(e){Qi.call(this,e),Yr(this,"profile",Qr((e=zr(e.rawUserInfo||"{}"))||{}))}function eo(e){if(Zi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(e){if(Zi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",this.profile&&this.profile.login||null)}function no(e){if(Zi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(e){if(Zi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",e.screenName||null)}function io(e){var t=Ln(e),n=zn(t,"link"),r=zn(Ln(n),"link");return t=zn(t,"deep_link_id"),zn(Ln(t),"link")||t||r||n||e}function oo(e,t){if(!e&&!t)throw new I("internal-error","Internal assert: no raw session string available");if(e&&t)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?ao:so}_(Zi,Qi),_(eo,Zi),_(to,Zi),_(no,Zi),_(ro,Zi);var ao="enroll",so="signin";function uo(){}function lo(e,t){return e.then((function(e){if(e[Qa]){var n=Vi(e[Qa]);if(!n||t!=n.i)throw new I("user-mismatch");return e}throw new I("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==T+"user-not-found"?new I("user-mismatch"):e}))}function co(e,t){if(!t)throw new I("internal-error","failed to construct a credential");this.a=t,Yr(this,"providerId",e),Yr(this,"signInMethod",e)}function ho(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function fo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new co(e.providerId,e.pendingToken)}catch(e){}return null}function po(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Yr(this,"idToken",t.idToken),t.accessToken&&Yr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Yr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");Yr(this,"accessToken",t.oauthToken),Yr(this,"secret",t.oauthTokenSecret)}Yr(this,"providerId",e),Yr(this,"signInMethod",n)}function vo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Xn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function mo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new po(e.providerId,t,e.signInMethod)}catch(e){}}return null}function go(e,t){this.Qc=t||[],Xr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Gi(e)||{}).Ja||null,this.pb=null}function yo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,e,[])}function bo(e){go.call(this,e,Hi),this.a=[]}function wo(){bo.call(this,"facebook.com")}function _o(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new wo).credential({accessToken:t})}function ko(){bo.call(this,"github.com")}function Io(e){if(!e)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return d(e)&&(t=e.accessToken),(new ko).credential({accessToken:t})}function xo(){bo.call(this,"google.com"),this.Ca("profile")}function Co(e,t){var n=e;return d(e)&&(n=e.idToken,t=e.accessToken),(new xo).credential({idToken:n,accessToken:t})}function To(){go.call(this,"twitter.com",Bi)}function So(e,t){var n=e;if(d(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function Eo(e,t,n){this.a=e,this.f=t,Yr(this,"providerId","password"),Yr(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function No(e){return e&&e.email&&e.password?new Eo(e.email,e.password,e.signInMethod):null}function Ao(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function Po(e,t){if(!(t=Oo(t)))throw new I("argument-error","Invalid email link!");return new Eo(e,t.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(e){return(e=Ei(e=io(e)))&&e.operation===ui?e:null}function Ro(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new I("internal-error");this.a=e,Yr(this,"providerId","phone"),this.fa="phone",Yr(this,"signInMethod","phone")}function jo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Ro(t)}return null}function $o(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Do(e){try{this.a=e||Ct.auth()}catch(e){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function zo(e,t){if(!e)throw new I("missing-verification-id");if(!t)throw new I("missing-verification-code");return new Ro({fb:e,eb:t})}function Lo(e){if(e.temporaryProof&&e.phoneNumber)return new Ro({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Co(o,n);case"facebook.com":return _o(n);case"github.com":return Io(n);case"twitter.com":return So(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new co(t,a):new po(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new bo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function Mo(e){if(!e.isOAuthProvider)throw new I("invalid-oauth-provider")}function Fo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function qo(e){return(e=e||{}).type?new Fo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&x(e.error),e.postBody,e.tenantId):null}function Uo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return this.a?St(this.a):St(this.b)},oo.prototype.w=function(){return this.type==ao?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},co.prototype.ka=function(e){return ws(e,ho(this))},co.prototype.b=function(e,t){var n=ho(this);return n.idToken=t,_s(e,n)},co.prototype.c=function(e,t){return lo(ks(e,ho(this)),t)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(e){return ws(e,vo(this))},po.prototype.b=function(e,t){var n=vo(this);return n.idToken=t,_s(e,n)},po.prototype.c=function(e,t){return lo(ks(e,vo(this)),t)},po.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},go.prototype.Ka=function(e){return this.Jb=fe(e),this},_(yo,go),_(bo,go),bo.prototype.Ca=function(e){return B(this.a,e)||this.a.push(e),this},bo.prototype.Rb=function(){return Y(this.a)},bo.prototype.credential=function(e,t){var n;if(!(n=d(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},_(wo,bo),Yr(wo,"PROVIDER_ID","facebook.com"),Yr(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(ko,bo),Yr(ko,"PROVIDER_ID","github.com"),Yr(ko,"GITHUB_SIGN_IN_METHOD","github.com"),_(xo,bo),Yr(xo,"PROVIDER_ID","google.com"),Yr(xo,"GOOGLE_SIGN_IN_METHOD","google.com"),_(To,go),Yr(To,"PROVIDER_ID","twitter.com"),Yr(To,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ka=function(e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?ru(e,As,{email:this.a,oobCode:this.f}):ru(e,Qs,{email:this.a,password:this.f})},Eo.prototype.b=function(e,t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?ru(e,Ps,{idToken:t,email:this.a,oobCode:this.f}):ru(e,Ws,{idToken:t,email:this.a,password:this.f})},Eo.prototype.c=function(e,t){return lo(this.ka(e),t)},Eo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(Ao,{PROVIDER_ID:"password"}),Xr(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ka=function(e){return e.gb($o(this))},Ro.prototype.b=function(e,t){var n=$o(this);return n.idToken=t,ru(e,eu,n)},Ro.prototype.c=function(e,t){var n=$o(this);return n.operation="REAUTH",lo(e=ru(e,tu,n),t)},Ro.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Do.prototype.gb=function(e,t){var n=this.a.a;return St(t.verify()).then((function(r){if("string"!=typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":var i=d(e)?e.session:null,o=d(e)?e.phoneNumber:e;return(i&&i.type==ao?i.Ha().then((function(e){return function(e,t){return ru(e,Hs,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==so?i.Ha().then((function(t){return function(e,t){return ru(e,Ks,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return ru(e,Us,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}));default:throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Xr(Do,{PROVIDER_ID:"phone"}),Xr(Do,{PHONE_SIGN_IN_METHOD:"phone"}),Fo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Fo.prototype.T=function(){return this.h},Fo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,Wo=null;function Bo(e){var t="unauthorized-domain",n=void 0,r=Ln(e);e=r.a,"chrome-extension"==(r=r.c)?n=Fe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Fe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",I.call(this,t,n)}function Ho(e,t,n){I.call(this,e,n),(e=t||{}).Kb&&Yr(this,"email",e.Kb),e.ea&&Yr(this,"phoneNumber",e.ea),e.credential&&Yr(this,"credential",e.credential),e.$b&&Yr(this,"tenantId",e.$b)}function Ko(e){if(e.code){var t=e.code||"";0==t.indexOf(T)&&(t=t.substring(T.length));var n={credential:Lo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new I(t,e.message||void 0);return new Ho(t,n,e.message)}return null}function Go(){}function Yo(e){return e.c||(e.c=e.b())}function Xo(){}function Jo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Qo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Tb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function ea(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ta(e,t,n){this.reset(e,t,n,void 0,void 0)}function na(e){this.f=e,this.b=this.c=this.a=null}function ra(e,t){this.name=e,this.value=t}_(Bo,I),_(Ho,I),Ho.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&de(e,t),e},Ho.prototype.toJSON=function(){return this.w()},Go.prototype.c=null,_(Xo,Go),Xo.prototype.a=function(){var e=Jo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Xo.prototype.b=function(){var e={};return Jo(this)&&(e[0]=!0,e[1]=!0),e},Vo=new Xo,_(Qo,Go),Qo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(e=Zo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ea(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",ea(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,ea(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ta.prototype.a=null,ta.prototype.reset=function(e,t,n,r,i){delete this.a},ra.prototype.toString=function(){return this.name};var ia=new ra("SEVERE",1e3),oa=new ra("WARNING",900),aa=new ra("CONFIG",700),sa=new ra("FINE",500);function ua(e){return e.c?e.c:e.a?ua(e.a):(R("Root logger has no level set."),null)}na.prototype.log=function(e,t,n){if(e.value>=ua(this).value)for(p(t)&&(t=t()),e=new ta(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var la={},ca=null;function ha(e){var t;if(ca||(ca=new na(""),la[""]=ca,ca.c=aa),!(t=la[e])){t=new na(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ha(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,la[e]=t}return t}function fa(e,t){e&&e.log(sa,t,void 0)}function pa(e){this.f=e}function da(e){wn.call(this),this.u=e,this.h=void 0,this.readyState=va,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ha("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}_(pa,Go),pa.prototype.a=function(){return new da(this.f)},pa.prototype.b=function(e){return function(){return e}}({}),_(da,wn);var va=0;function ma(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function ga(e){e.readyState=4,e.g=null,e.c=null,e.m=null,ya(e)}function ya(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ba(e){wn.call(this),this.headers=new En,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=wa,this.u=this.S=!1}(e=da.prototype).open=function(e,t){if(this.readyState!=va)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,ya(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ga(this)),this.readyState=va},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,ya(this)),this.a&&(this.readyState=3,ya(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ma(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ga(this):ya(this),3==this.readyState&&ma(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,ga(this))},e.sc=function(e){this.a&&(this.response=e,ga(this))},e.Va=function(e){var t=this.i;t&&t.log(oa,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ga(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(oa,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(oa,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(da.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),_(ba,wn);var wa="";ba.prototype.b=ha("goog.net.XhrIo");var _a=/^https?$/i,ka=["POST","PUT"];function Ia(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Vo.a(),e.C=e.D?Yo(e.D):Yo(Vo),e.a.onreadystatechange=b(e.Wb,e);try{fa(e.b,Oa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(t){return fa(e.b,Oa(e,"Error opening Xhr: "+t.message)),void Ca(e,t)}t=r||"";var o=new En(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)q(e,t,void 0);else for(var n=Sn(e),r=Tn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=xa,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=a.FormData&&t instanceof a.FormData,!B(ka,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Na(e),0<e.g&&(e.u=function(e){return He&&rt(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),fa(e.b,Oa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=b(e.Ma,e)):e.s=xn(e.Ma,e.g,e)),fa(e.b,Oa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){fa(e.b,Oa(e,"Send error: "+t.message)),Ca(e,t)}}function xa(e){return"content-type"==e.toLowerCase()}function Ca(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Ta(e),Ea(e)}function Ta(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Sa(e){if(e.c&&void 0!==o)if(e.C[1]&&4==Aa(e)&&2==Pa(e))fa(e.b,Oa(e,"Local request error detected and ignored"));else if(e.i&&4==Aa(e))xn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Aa(e)){fa(e.b,Oa(e,"Request complete")),e.c=!1;try{var t,n=Pa(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.l).match(Pn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!_a.test(s?s.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var l=2<Aa(e)?e.a.statusText:""}catch(t){fa(e.b,"Can not get status: "+t.message),l=""}e.h=l+" ["+Pa(e)+"]",Ta(e)}}finally{Ea(e)}}}function Ea(e,t){if(e.a){Na(e);var n=e.a,r=e.C[0]?c:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(ia,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Na(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(a.clearTimeout(e.s),e.s=null)}function Aa(e){return e.a?e.a.readyState:0}function Pa(e){try{return 2<Aa(e)?e.a.status:-1}catch(e){return-1}}function Oa(e,t){return t+" ["+e.P+" "+e.l+" "+Pa(e)+"]"}function Ra(e){var t=Wa;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function ja(e,t,n){e.a=!0,e.c=n,e.f=!t,La(e)}function $a(e){if(e.a){if(!e.v)throw new Ma(e);e.v=!1}}function Da(e,t,n,r){e.g.push([t,n,r]),e.a&&La(e)}function za(e){return W(e.g,(function(e){return p(e[1])}))}function La(e){if(e.h&&e.a&&za(e)){var t=e.h,n=Ua[t];n&&(a.clearTimeout(n.a),delete Ua[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],s=i[1];if(i=i[2],o=e.f?s:o)try{var u=o.call(i||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(A(t)||"function"==typeof a.Promise&&t instanceof a.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,za(e)||(n=!0)}}e.c=t,r&&(u=b(e.m,e,!0),r=b(e.m,e,!1),t instanceof Ra?(Da(t,u,r),t.C=!0):t.then(u,r)),n&&(t=new qa(t),Ua[t.a]=t,e.h=t.a)}function Ma(){P.call(this)}function Fa(){P.call(this)}function qa(e){this.a=a.setTimeout(b(this.c,this),0),this.b=e}(e=ba.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fa(this.b,Oa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(fa(this.b,Oa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ea(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ea(this,!0)),ba.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Sa(this):this.Jc())},e.Jc=function(){Sa(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case wa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ia,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return fa(this.b,"Can not get response: "+e.message),null}},Ra.prototype.cancel=function(e){if(this.a)this.c instanceof Ra&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Fa(this),$a(this),ja(this,!1,e))}},Ra.prototype.m=function(e,t){this.i=!1,ja(this,e,t)},Ra.prototype.then=function(e,t,n){var r,i,o=new bt((function(e,t){r=e,i=t}));return Da(this,r,(function(e){e instanceof Fa?o.cancel():i(e)})),o.then(e,t,n)},Ra.prototype.$goog_Thenable=!0,_(Ma,P),Ma.prototype.message="Deferred has already fired",Ma.prototype.name="AlreadyCalledError",_(Fa,P),Fa.prototype.message="Deferred was canceled",Fa.prototype.name="CanceledError",qa.prototype.c=function(){throw delete Ua[this.a],this.b};var Ua={};function Va(e){var t,n=document,r=Ie(e).toString(),i=pt(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Ra(o);return t=window.setTimeout((function(){Ba(i,!0);var e=new Ga(Ka,"Timeout reached for loading script "+r);$a(s),ja(s,!1,e)}),5e3),o.Ma=t,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ba(i,!1,t),$a(s),ja(s,!0,null))},i.onerror=function(){Ba(i,!0,t);var e=new Ga(Ha,"Error while loading script "+r);$a(s),ja(s,!1,e)},de(o={},{type:"text/javascript",charset:"UTF-8"}),ut(i,o),function(e,t){ve(e,"HTMLScriptElement"),e.src=Ie(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=a?t=l(t.document):(null===u&&(u=l(a.document)),t=u),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),s}function Wa(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Ba(e,!0,this.Ma)}}function Ba(e,t,n){null!=n&&a.clearTimeout(n),e.onload=c,e.onerror=c,e.onreadystatechange=c,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ha=0,Ka=1;function Ga(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),P.call(this,n),this.code=e}function Ya(e){this.f=e}function Xa(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Za,this.g=fe(e.secureTokenHeaders||es),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ts,this.a=fe(e.firebaseHeaders||ns),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==_r(),!(n=a.XMLHttpRequest||n&&Ct.INTERNAL.node&&Ct.INTERNAL.node.XMLHttpRequest)&&!wr())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new pa(self):kr()?this.f=new Ya(n):this.f=new Qo,this.b=null}_(Ga,P),_(Ya,Go),Ya.prototype.a=function(){return new this.f},Ya.prototype.b=function(){return{}};var Ja,Qa="idToken",Za=new qr(3e4,6e4),es={"Content-Type":"application/x-www-form-urlencoded"},ts=new qr(3e4,6e4),ns={"Content-Type":"application/json"};function rs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function is(e,t){t&&(e.l=os("https://securetoken.googleapis.com/v1/token",t),e.h=os("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=os("https://identitytoolkit.googleapis.com/v2/",t))}function os(e,t){return e=Ln(e),t=Ln(t.url),e.f=e.a+e.f,Rn(e,t.c),e.a=t.a,jn(e,t.g),e.toString()}function as(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ss(e,t,n,r,i,o,s){(function(){var e=Er();return!((e=Cr(e)!=xr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||He&&ot&&!(9<ot))})()||wr()?e=b(e.u,e):(Ja||(Ja=new bt((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{a[ls]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Da(e,null,t,void 0)}(Va(xe(us,{onload:ls})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=b(e.s,e)),e(t,n,r,i,o,s)}Xa.prototype.T=function(){return this.b},Xa.prototype.u=function(e,t,n,r,i,o){if(wr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ba(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}_n(s,"complete",(function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return fa(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)})),kn(s,"ready",(function(){u&&clearTimeout(u),Wt(this)})),kn(s,"timeout",(function(){u&&clearTimeout(u),Wt(this),t&&t(null)})),Ia(s,e,n,r,i)};var us=new me(we,"https://apis.google.com/js/client.js?onload=%{onload}"),ls="__fcb"+Math.floor(1e6*Math.random()).toString();function cs(e,t,n,r,i,o,a){var s=Ln(t+n);Dn(s,"key",e.c),a&&Dn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var l in i)i.hasOwnProperty(l)&&Dn(s,l,i[l]);return new bt((function(t,n){ss(e,s.toString(),(function(e){e?e.error?n(ou(e,o||{})):t(e):n(new I("network-request-failed"))}),r,u?void 0:nr(Dr(i)),e.a,e.v.get())}))}function hs(e){if("string"!=typeof(e=e.email)||!mr.test(e))throw new I("invalid-email")}function fs(e){"email"in e&&hs(e)}function ps(e){if(!e[Qa]){if(e.mfaPendingCredential)throw new I("multi-factor-auth-required",null,fe(e));throw new I("internal-error")}}function ds(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new I("internal-error")}else{if(!e.sessionInfo)throw new I("missing-verification-id");if(!e.code)throw new I("missing-verification-code")}}Xa.prototype.s=function(e,t,n,r,i){var o=this;Ja.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Xa.prototype.Ab=function(){return ru(this,Bs,{})},Xa.prototype.Cb=function(e,t){return ru(this,Vs,{idToken:e,email:t})},Xa.prototype.Db=function(e,t){return ru(this,Ws,{idToken:e,password:t})};var vs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ms(e){if(!e.phoneVerificationInfo)throw new I("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new I("missing-verification-code")}function gs(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new I("internal-error")}function ys(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(Qn(e=new Gn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function bs(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Ko(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Ko(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Ko(e)):e.errorMessage&&(t=iu(e.errorMessage)),t)throw t;ps(e)}function ws(e,t){return t.returnIdpCredential=!0,ru(e,Gs,t)}function _s(e,t){return t.returnIdpCredential=!0,ru(e,Xs,t)}function ks(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,ru(e,Ys,t)}function Is(e){if(!e.oobCode)throw new I("invalid-action-code")}(e=Xa.prototype).Eb=function(e,t){var n={idToken:e},r=[];return ce(vs,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),ru(this,Vs,n)},e.wb=function(e,t){return de(e={requestType:"PASSWORD_RESET",email:e},t),ru(this,Ls,e)},e.xb=function(e,t){return de(e={requestType:"EMAIL_SIGNIN",email:e},t),ru(this,$s,e)},e.vb=function(e,t){return de(e={requestType:"VERIFY_EMAIL",idToken:e},t),ru(this,Ds,e)},e.Fb=function(e,t,n){return de(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),ru(this,zs,e)},e.gb=function(e){return ru(this,Zs,e)},e.ob=function(e,t){return ru(this,qs,{oobCode:e,newPassword:t})},e.Sa=function(e){return ru(this,Cs,{oobCode:e})},e.kb=function(e){return ru(this,xs,{oobCode:e})};var xs={endpoint:"setAccountInfo",A:Is,Z:"email",B:!0},Cs={endpoint:"resetPassword",A:Is,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new I("internal-error")},B:!0},Ts={endpoint:"signupNewUser",A:function(e){if(hs(e),!e.password)throw new I("weak-password")},G:ps,V:!0,B:!0},Ss={endpoint:"createAuthUri",B:!0},Es={endpoint:"deleteAccount",O:["idToken"]},Ns={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new I("internal-error")}},As={endpoint:"emailLinkSignin",O:["email","oobCode"],A:hs,G:ps,V:!0,B:!0},Ps={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:hs,G:ps,V:!0},Os={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ms,G:ps,B:!0,Na:!0},Rs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ms,G:ps,B:!0,Na:!0},js={endpoint:"getAccountInfo"},$s={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new I("internal-error");hs(e)},Z:"email",B:!0},Ds={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},zs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new I("internal-error")},Z:"email",B:!0},Ls={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new I("internal-error");hs(e)},Z:"email",B:!0},Ms={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Fs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new I("internal-error")}},qs={endpoint:"resetPassword",A:Is,Z:"email",B:!0},Us={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Vs={endpoint:"setAccountInfo",O:["idToken"],A:fs,V:!0},Ws={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(fs(e),!e.password)throw new I("weak-password")},G:ps,V:!0},Bs={endpoint:"signupNewUser",G:ps,V:!0,B:!0},Hs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new I("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Ks={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Gs={endpoint:"verifyAssertion",A:gs,Za:ys,G:bs,V:!0,B:!0},Ys={endpoint:"verifyAssertion",A:gs,Za:ys,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new I("user-not-found");if(e.errorMessage)throw iu(e.errorMessage);ps(e)},V:!0,B:!0},Xs={endpoint:"verifyAssertion",A:function(e){if(gs(e),!e.idToken)throw new I("internal-error")},Za:ys,G:bs,V:!0},Js={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new I("invalid-custom-token")},G:ps,V:!0,B:!0},Qs={endpoint:"verifyPassword",A:function(e){if(hs(e),!e.password)throw new I("wrong-password")},G:ps,V:!0,B:!0},Zs={endpoint:"verifyPhoneNumber",A:ds,G:ps,B:!0},eu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new I("internal-error");ds(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Ko(e);ps(e)}},tu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ds,G:ps,B:!0},nu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Qa]^!!e.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function ru(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.O))return Et(new I("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return St(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),cs(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new I("internal-error");return r[t.Z]}))}function iu(e){return ou({error:{errors:[{message:e}],code:400,message:e}})}function ou(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new I(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",de(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new I(r[i],t);return!t&&e&&(t=$r(e)),new I("internal-error",t)}function au(e){this.b=e,this.a=null,this.sb=function(e){return(cu||(cu=new bt((function(e,t){function n(){Fr(),Nr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Fr(),t(Error("Network Error"))},timeout:uu.get()})}if(Nr("gapi.iframes.Iframe"))e();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Nr("gapi.load")?n():t(Error("Network Error"))},St(Va(r=xe(su,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw cu=null,e})))).then((function(){return new bt((function(t,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),lu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var su=new me(we,"https://apis.google.com/js/api.js?onload=%{onload}"),uu=new qr(3e4,6e4),lu=new qr(5e3,15e3),cu=null;function hu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Mn((e=Ln(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Mn("https",this.l,null,"/__/auth/iframe"),this.a=e,Dn(this.a,"apiKey",this.h),Dn(this.a,"appName",this.i),this.b=null,this.c=[]}function fu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function pu(e){try{return Ct.app(e).auth().Ga()}catch(e){return[]}}function du(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vu(e){var t=lr();return function(e){return ru(e,Ms,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Ln(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Ln(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:vr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Bo(lr())}))}function mu(e){return e.m||(e.m=gr().then((function(){if(!e.u){var t=e.c,n=e.i,r=pu(e.b),i=new hu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=Y(r||[]),e.u=i.toString()}e.v=new au(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=qo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",St(n)}return n.status="ERROR",St(n)}))}(e)}))),e.m}function gu(e){return e.l||(e.C=e.c?Sr(e.c,pu(e.b)):null,e.l=new Xa(e.g,N(e.i),e.C),e.f&&is(e.l,e.f)),e.l}function yu(e,t,n,r,i,o,a,s,u,l,c,h){return(e=new fu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=fe(u||null),e.f=l,e.zb(c).toString()}function bu(e){if(this.a=e||Ct.INTERNAL.reactNative&&Ct.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function wu(e){this.b=e,this.a={},this.f=b(this.c,this)}hu.prototype.toString=function(){return this.f?Dn(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?Dn(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?Dn(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},fu.prototype.zb=function(e){return this.h=e,this},fu.prototype.toString=function(){if(this.v){var e=Ln(this.v.url);e=Mn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Mn("https",this.u,null,"/__/auth/handler");if(Dn(e,"apiKey",this.s),Dn(e,"appName",this.c),Dn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Ct.app(this.c).auth().la()}catch(e){n=null}for(var r in t.pb=n,Dn(e,"providerId",this.a.providerId),t=Dr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=fe(t);for(var i=0;i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),he(t)||Dn(e,"customParameters",$r(t))}if("function"==typeof this.a.Rb&&((n=this.a.Rb()).length&&Dn(e,"scopes",n.join(","))),this.l?Dn(e,"redirectUrl",this.l):Jn(e.b,"redirectUrl"),this.g?Dn(e,"eventId",this.g):Jn(e.b,"eventId"),this.i?Dn(e,"v",this.i):Jn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!zn(e,a)&&Dn(e,a,this.b[a]);return this.h?Dn(e,"tid",this.h):Jn(e.b,"tid"),this.f?Dn(e,"eid",this.f):Jn(e.b,"eid"),(a=pu(this.c)).length&&Dn(e,"fw",a.join(",")),e.toString()},(e=du.prototype).Pb=function(e,t,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return mu(e).then((function(){return function(e,t){return e.sb.then((function(){return new bt((function(n){e.a.send(t.type,t,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&pr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new bt((function(t){return function n(){Cn(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return Cn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Er();return!jr(e)&&!Mr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Et(new I("popup-blocked"));if(a&&!jr())return this.ma().o((function(t){pr(e),i(t)})),r(),St();this.a||(this.a=vu(gu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw pr(e),i(t),t}));return r(),t})).then((function(){(Mo(n),a)||cr(yu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=vu(gu(this)));var i=this;return this.a.then((function(){Mo(t),cr(yu(i.s,i.g,i.b,e,t,lr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return mu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new I("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){K(this.h,(function(t){return t==e}))},(e=bu.prototype).get=function(e){return St(this.a.getItem(e)).then((function(e){return e&&zr(e)}))},e.set=function(e,t){return St(this.a.setItem(e,$r(t)))},e.U=function(e){return St(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var _u,ku=[];function Iu(e,t,n){he(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function xu(e){this.a=e}function Cu(e){this.c=e,this.b=!1,this.a=[]}function Tu(e,t,n,r){var i,o,a,s,u=n||{},l=null;if(e.b)return Et(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new bt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),c),l={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(l),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Su(e,l),t})).o((function(t){throw Su(e,l),t}))}function Su(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),K(e.a,(function(e){return e==t}))}}function Eu(){if(!Ou())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;wr()&&self?(this.v=function(){var e=wr()?self:null;if(q(ku,(function(n){n.b==e&&(t=n)})),!t){var t=new wu(e);ku.push(t)}return t}(),Iu(this.v,"keyChanged",(function(t,n){return zu(e).then((function(t){return 0<t.length&&q(e.a,(function(e){e(t)})),{keyProcessed:B(t,n.key)}}))})),Iu(this.v,"ping",(function(){return St(["keyChanged"])}))):function(){var e=a.navigator;return e&&e.serviceWorker?St().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):St(null)}().then((function(t){(e.h=t)&&(e.g=new Cu(new xu(t)),Tu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&B(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Nu(e){return new bt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new bt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Nu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Au(e){return e.i||(e.i=Nu(e)),e.i}function Pu(e,t){var n=0;return new bt((function r(i,o){Au(e).then(t).then(i).o((function(t){if(!(3<++n))return Au(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Ou(){try{return!!a.indexedDB}catch(e){return!1}}function Ru(e){return e.objectStore("firebaseLocalStorage")}function ju(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function $u(e){return new bt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Du(e,t){return e.g&&e.h&&function(){var e=a.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Tu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):St()}function zu(e){return Au(e).then((function(e){var t=Ru(ju(e,!1));return t.getAll?$u(t.getAll()):new bt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=hr(e.c,n),e.c=n}return r}))}function Lu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Mu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=St().then((function(){if(Ou()){var e=Lr(),r="__sak"+e;return _u||(_u=new Eu),(n=_u).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){q(t.a,(function(t){t(e)}))})),e}))}function Fu(){this.a={},this.type="inMemory"}function qu(){if(!function(){var e="Node"==_r();if(!(e=Uu()||e&&Ct.INTERNAL.node&&Ct.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==_r())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Uu()||Ct.INTERNAL.node.localStorage,this.type="localStorage"}function Uu(){try{var e=a.localStorage,t=Lr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Vu(){this.type="nullStorage"}function Wu(){if(!function(){var e="Node"==_r();if(!(e=Bu()||e&&Ct.INTERNAL.node&&Ct.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==_r())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Bu()||Ct.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Bu(){try{var e=a.sessionStorage,t=Lr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Hu(){var e={};e.Browser=Yu,e.Node=Xu,e.ReactNative=Ju,e.Worker=Qu,this.a=e[_r()]}wu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];q(r,(function(t){i.push(St().then((function(){return t(e.origin,e.data.data)})))})),At(i).then((function(r){var i=[];q(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),q(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},xu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Cu.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(e=Eu.prototype).set=function(e,t){var n=this,r=!1;return Pu(this,(function(t){return $u((t=Ru(ju(t,!0))).get(e))})).then((function(i){return Pu(n,(function(o){if(o=Ru(ju(o,!0)),i)return i.value=t,$u(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,$u(o.add(a))}))})).then((function(){return n.c[e]=t,Du(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Pu(this,(function(t){return $u(Ru(ju(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Pu(this,(function(r){return n=!0,t.b++,$u(Ru(ju(r,!0)).delete(e))})).then((function(){return delete t.c[e],Du(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=zu(e).then((function(t){0<t.length&&q(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Lu(e),t()}(this),this.a.push(e)},e.ia=function(e){K(this.a,(function(t){return t==e})),0==this.a.length&&Lu(this)},(e=Mu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){K(this.a,(function(t){return t==e}))},(e=Fu.prototype).get=function(e){return St(this.a[e])},e.set=function(e,t){return this.a[e]=t,St()},e.U=function(e){return delete this.a[e],St()},e.ca=function(){},e.ia=function(){},(e=qu.prototype).get=function(e){var t=this;return St().then((function(){return zr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return St().then((function(){var r=$r(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return St().then((function(){t.a.removeItem(e)}))},e.ca=function(e){a.window&&un(a.window,"storage",e)},e.ia=function(e){a.window&&hn(a.window,"storage",e)},(e=Vu.prototype).get=function(){return St(null)},e.set=function(){return St()},e.U=function(){return St()},e.ca=function(){},e.ia=function(){},(e=Wu.prototype).get=function(e){var t=this;return St().then((function(){return zr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return St().then((function(){var r=$r(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return St().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Ku,Gu,Yu={F:qu,cb:Wu},Xu={F:qu,cb:Wu},Ju={F:bu,cb:Vu},Qu={F:qu,cb:Vu},Zu={rd:"local",NONE:"none",td:"session"};function el(){var e=!(Mr(Er())||!br()),t=jr(),n=Ar();this.m=e,this.h=t,this.l=n,this.a={},Ku||(Ku=new Hu),e=Ku;try{this.g=!ur()&&Wr()||!a.indexedDB?new e.a.F:new Mu(wr()?new Fu:new e.a.F)}catch(e){this.g=new Fu,this.h=!0}try{this.i=new e.a.cb}catch(e){this.i=new Fu}this.v=new Fu,this.f=b(this.Zb,this),this.b={}}function tl(){return Gu||(Gu=new el),Gu}function nl(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function rl(e,t){return"firebase:"+e.name+(t?":"+t:"")}function il(e,t,n){return n=rl(t,n),"local"==t.F&&(e.b[n]=null),nl(e,t.F).U(n)}function ol(e){e.c&&(clearInterval(e.c),e.c=null)}function al(e){this.a=e,this.b=tl()}(e=el.prototype).get=function(e,t){return nl(this,e.F).get(rl(e,t))},e.set=function(e,t,n){var r=rl(e,n),i=this,o=nl(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=rl(e,t),this.l&&(this.b[e]=a.localStorage.getItem(e)),he(this.a)&&(nl(this,"local").ca(this.f),this.h||(ur()||!Wr())&&a.indexedDB||!this.l||function(e){ol(e),e.c=setInterval((function(){for(var t in e.a){var n=a.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Xt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=rl(e,t),this.a[e]&&(K(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),he(this.a)&&(nl(this,"local").ia(this.f),ol(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?nl(this,"local").ia(this.f):ol(this),this.m)if(n=a.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?a.localStorage.setItem(t,r):a.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===a.localStorage.getItem(t)||(o.b[t]=a.localStorage.getItem(t),o.nb(t))},He&&ot&&10==ot&&a.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else q(e,b(this.nb,this))},e.nb=function(e){this.a[e]&&q(this.a[e],(function(e){e()}))};var sl,ul={name:"authEvent",F:"local"};function ll(){this.a=tl()}function cl(e,t){this.b=hl,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===sl&&(sl=a.Int32Array?new Int32Array(yl):yl),this.reset()}_(cl,(function(){this.b=-1}));for(var hl=64,fl=hl-1,pl=[],dl=0;dl<fl;dl++)pl[dl]=0;var vl=G(128,pl);function ml(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],l=0|e.a[4],c=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((a=(a=l&c^~l&h)+(0|sl[t])|0)+(0|n[t])|0)|0,o=h,h=c,c=l,l=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+l|0,e.a[5]=e.a[5]+c|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function gl(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(ml(e),i=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(ml(e),i=0)}}e.c=i,e.g+=n}cl.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Y(this.h)};var yl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bl(){cl.call(this,8,wl)}_(bl,cl);var wl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _l(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new ll,this.g=new al(this.h),this.f=null,this.b=[],this.a=this.c=null}function kl(e){return new I("invalid-cordova-configuration",e)}function Il(e){var t=new bl;gl(t,e),e=[];var n=8*t.g;56>t.c?gl(t,vl,56-t.c):gl(t,vl,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(ml(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return V(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function xl(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Cl(e){return e.f||(e.f=e.ma().then((function(){return new bt((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Tl(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=io(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=zr(zn(o=Ln(i),"firebaseError")||null))?x(o):null)?new Fo(r.c,r.b,null,null,o,null,r.T()):new Fo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}xl(e,i)}))}var n=new Fo("unknown",null,null,null,new I("no-auth-event")),r=!1,i=Cn(500).then((function(){return Tl(e).then((function(){r||xl(e,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Nr("BuildInfo.packageName",a).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(e){console.error(e)}},Wo||(Wo=new Uo),function(e){var t=Wo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=Nr("universalLinks.subscribe",a))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Tl(e){var t=null;return function(e){return e.b.get(ul,e.a).then((function(e){return qo(e)}))}(e.g).then((function(n){return t=n,il((n=e.g).b,ul,n.a)})).then((function(){return t}))}function Sl(e){this.a=e,this.b=tl()}(e=_l.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?gr().then((function(){return new bt((function(e,t){var n=a.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Et(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Nr("universalLinks.subscribe",a))throw kl("cordova-universal-links-plugin-fix is not installed");if(void 0===Nr("BuildInfo.packageName",a))throw kl("cordova-plugin-buildinfo is not installed");if("function"!=typeof Nr("cordova.plugins.browsertab.openUrl",a))throw kl("cordova-plugin-browsertab is not installed");if("function"!=typeof Nr("cordova.InAppBrowser.open",a))throw kl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new I("cordova-not-ready")}))},e.Pb=function(e,t){return t(new I("operation-not-supported-in-this-environment")),St()},e.Nb=function(){return Et(new I("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Et(new I("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,l=null,c=null;return this.c=St().then((function(){return Mo(t),Cl(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new Fo(t,r,null,o,new I("no-auth-event"),null,i),u=Nr("BuildInfo.packageName",a);if("string"!=typeof u)throw new I("invalid-cordova-configuration");var l=Nr("BuildInfo.displayName",a),c={};if(Er().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=u;else{if(!Er().toLowerCase().match(/android/))return Et(new I("operation-not-supported-in-this-environment"));c.apn=u}l&&(c.appDisplayName=l),o=Il(o),c.sessionId=o;var h=yu(e.v,e.i,e.l,t,n,null,r,e.m,c,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(ul,s.w(),t)})).then((function(){var t=Nr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof t)throw new I("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=Nr("cordova.plugins.browsertab.openUrl",a)))throw new I("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Nr("cordova.InAppBrowser.open",a)))throw new I("invalid-cordova-configuration");t=Er(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new bt((function(e,t){u=function(){var t=Nr("cordova.plugins.browsertab.close",a);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){s||(s=Cn(2e3).then((function(){t(new I("redirect-cancelled-by-user"))})))},c=function(){Ur()&&l()},o.addEventListener("resume",l,!1),Er().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(e){return Tl(i).then((function(){throw e}))}))})).oa((function(){l&&o.removeEventListener("resume",l,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),Cl(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Fo("unknown",null,null,null,new I("no-auth-event")),e(t))}))},e.Ta=function(e){K(this.b,(function(t){return t==e}))};var El={name:"pendingRedirect",F:"session"};function Nl(e){return il(e.b,El,e.a)}function Al(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Bl,this.C=new Xl,this.g=new Sl(Vl(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Pl(this.D,this.v,this.m,C,this.J)}function Pl(e,t,n,r,i){var o=Ct.SDK_VERSION||null;return yr()?new _l(e,t,n,o,r,i):new du(e,t,n,o,r,i)}function Ol(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Rl(e){e.a.Yb()&&Ol(e).o((function(t){var n=new Fo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Ml(t)&&e.s(n)})),e.a.Ub()||Hl(e.b)}function jl(e,t){B(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(El,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Nl(e.g).then((function(){Ol(e).o((function(t){var n=new Fo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Ml(t)&&e.s(n)}))})):Rl(e)})).o((function(){Rl(e)}))}function $l(e,t){K(e.h,(function(e){return e==t}))}Al.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Pl(this.D,this.v,this.m,null,this.J),this.i={}},Al.prototype.s=function(e){if(!e)throw new I("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Hl(this.b),t};var Dl=new qr(2e3,1e4),zl=new qr(3e4,6e4);function Ll(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Ml(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Fl(e,t,n,r,i){var o;return function(e){return e.b.set(El,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Ml(t))throw new I("operation-not-supported-in-this-environment");return o=t,Nl(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new bt((function(){})):Nl(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function ql(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Dl.get())}Al.prototype.ra=function(){return this.b.ra()};var Ul={};function Vl(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Wl(e,t,n,r){var i=Vl(t,n,r);return Ul[i]||(Ul[i]=new Al(e,t,n,r)),Ul[i]}function Bl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Hl(e){e.g||(e.g=!0,Yl(e,!1,null,null))}function Kl(e){e.g&&!e.i&&Yl(e,!1,null,null)}function Gl(e,t){if(e.b=function(){return St(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Yl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Et(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Gl(e,n):Gl(e,{user:null}),e.f=[],e.c=[]}function Xl(){}function Jl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function Ql(e,t){this.a=t,Yr(this,"verificationId",e)}function Zl(e,t,n,r){return new Do(e).gb(t,n).then((function(e){return new Ql(e,r)}))}function ec(e){var t=Wi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:e,expirationTime:Vr(1e3*t.exp),authTime:Vr(1e3*t.auth_time),issuedAtTime:Vr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function tc(e,t,n){var r=t&&t[rc];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=fe(t),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;q(t[nc]||[],(function(e){(e=ei(e))&&i.b.push(e)})),Yr(this,"auth",this.a),Yr(this,"session",this.c),Yr(this,"hints",this.b)}Bl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bl.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Yl(this,!0,null,e.a),St()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Yl(e,s,t,null)})).o((function(t){Yl(e,s,null,t)}))}(this,e,t):Et(new I("invalid-auth-event")):(Yl(this,!1,null,null),St())}else Et(new I("invalid-auth-event"))},Bl.prototype.ra=function(){var e=this;return new bt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new I("timeout");e.a&&e.a.cancel(),e.a=Cn(zl.get()).then((function(){e.b||(e.g=!0,Yl(e,!0,null,t))}))}(e))}))},Xl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),St()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Et(new I("invalid-auth-event"))}else Et(new I("invalid-auth-event"))},Ql.prototype.confirm=function(e){return e=zo(this.verificationId,e),this.a(e)};var nc="mfaInfo",rc="mfaPendingCredential";function ic(e,t,n,r){I.call(this,"multi-factor-auth-required",r,t),this.b=new tc(e,t,n),Yr(this,"resolver",this.b)}function oc(e,t,n){if(e&&d(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ic(t,e.serverResponse,n,e.message)}catch(e){}return null}function ac(){}function sc(e){Yr(this,"factorId",e.fa),this.a=e}function uc(e){if(sc.call(this,e),this.a.fa!=Do.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function lc(e,t){for(var n in Yt.call(this,e),t)this[n]=t[n]}function cc(e,t){this.a=e,this.b=[],this.c=b(this.yc,this),un(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&q(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ri]=e.uid),e.displayName&&(r[ti]=e.displayName),e.enrollmentTime&&(r[ni]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ii]=e.phoneNumber);try{t=new oi(r)}catch(e){}e=t}else e=null;e&&n.push(e)})),hc(this,n)}function hc(e,t){e.b=t,Yr(e,"enrolledFactors",t)}function fc(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function pc(e,t){e.stop(),e.b=Cn(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=a.document,t=null;return Ur()||!e?St():new bt((function(n){t=function(){Ur()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){pc(e,!0)})).o((function(t){e.i(t)&&pc(e,!1)}))}function dc(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function vc(e,t){void 0===t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function mc(e,t){e.b=Vi(t[Qa]||""),e.a=t.refreshToken,vc(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function gc(e,t){return function(e,t){return new bt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ss(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(ou(e)):e.access_token&&e.refresh_token?n(e):r(new I("internal-error")):r(new I("network-request-failed"))}),"POST",Xn(t).toString(),e.g,e.m.get()):r(new I("internal-error"))}))}(e.f,t).then((function(t){return e.b=Vi(t.access_token),e.a=t.refresh_token,vc(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function yc(e,t){this.a=e||null,this.b=t||null,Xr(this,{lastSignInTime:Vr(t||null),creationTime:Vr(e||null)})}function bc(e,t,n,r,i,o){Xr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function wc(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=Ct.SDK_VERSION?Sr(Ct.SDK_VERSION):null;this.a=new Xa(this.l,N(C),r),(this.u=e.emulatorConfig||null)&&is(this.a,this.u),this.h=new dc(this.a),Nc(this,t[Qa]),mc(this.h,t),Yr(this,"refreshToken",this.h.a),Oc(this,n||{}),wn.call(this),this.P=!1,this.s&&Pr()&&(this.b=Wl(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new fc((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=b(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){_c(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){xc(i,e.f)},this.ja=null,this.S=new cc(this,n),Yr(this,"multiFactor",this.S)}function _c(e,t){e.u=t,is(e.a,t),e.b&&(t=e.b,e.b=Wl(e.s,e.l,e.m,e.u),e.P&&($l(t,e),jl(e.b,e)))}function kc(e,t){e.qa&&hn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&un(t,"languageCodeChanged",e.Pa)}function Ic(e,t){e.$&&hn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&un(t,"emulatorConfigChanged",e.Ba)}function xc(e,t){e.aa=t,as(e.a,Ct.SDK_VERSION?Sr(Ct.SDK_VERSION,e.aa):null)}function Cc(e,t){e.ja&&hn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&un(t,"frameworkChanged",e.Oa)}function Tc(e){try{return Ct.app(e.m).auth()}catch(t){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Sc(e){e.J||e.D.b||(e.D.start(),hn(e,"tokenChanged",e.ba),un(e,"tokenChanged",e.ba))}function Ec(e){hn(e,"tokenChanged",e.ba),e.D.stop()}function Nc(e,t){e.Aa=t,Yr(e,"_lat",t)}function Ac(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return At(t).then((function(){return e}))}function Pc(e){e.b&&!e.P&&(e.P=!0,jl(e.b,e))}function Oc(e,t){Xr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new yc(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Rc(){}function jc(e){return St().then((function(){if(e.J)throw new I("app-deleted")}))}function $c(e){return V(e.providerData,(function(e){return e.providerId}))}function Dc(e,t){t&&(zc(e,t.providerId),e.providerData.push(t))}function zc(e,t){K(e.providerData,(function(e){return e.providerId==t}))}function Lc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Yr(e,t,n)}function Mc(e,t){e!=t&&(Xr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Yr(e,"metadata",function(e){return new yc(e.a,e.b)}(t.metadata)):Yr(e,"metadata",new yc),q(t.providerData,(function(t){Dc(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Yr(e,"refreshToken",e.h.a),hc(e.S,t.S.b))}function Fc(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return ru(e.a,js,{idToken:t}).then(b(e.Kc,e))}(e,t).then((function(){return n||Lc(e,"isAnonymous",!1),t}))}))}function qc(e,t){t[Qa]&&e.Aa!=t[Qa]&&(mc(e.h,t),e.dispatchEvent(new lc("tokenChanged")),Nc(e,t[Qa]),Lc(e,"refreshToken",e.h.a))}function Uc(e,t){return Fc(e).then((function(){if(B($c(e),t))return Ac(e).then((function(){throw new I("provider-already-linked")}))}))}function Vc(e,t,n){return Jr({user:e,credential:Lo(t),additionalUserInfo:t=Yi(t),operationType:n})}function Wc(e,t){return qc(e,t),e.reload().then((function(){return e}))}function Bc(e,t,n,r,i){if(!Pr())return Et(new I("operation-not-supported-in-this-environment"));if(e.i&&!i)return Et(e.i);var o=Gi(n.providerId),a=Lr(e.uid+":::"),s=null;(!jr()||br())&&e.s&&n.isOAuthProvider&&(s=yu(e.s,e.l,e.m,t,n,null,a,Ct.SDK_VERSION||null,null,null,e.tenantId,e.u));var u=dr(s,o&&o.va,o&&o.ua);return r=r().then((function(){if(Kc(e),!i)return e.I().then((function(){}))})).then((function(){return Ll(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new bt((function(n,r){e.na(t,null,new I("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=ql(e.b,e,t,u,a)}))})).then((function(e){return u&&pr(u),e?Jr(e):null})).o((function(e){throw u&&pr(u),e})),Gc(e,r,i)}function Hc(e,t,n,r,i){if(!Pr())return Et(new I("operation-not-supported-in-this-environment"));if(e.i&&!i)return Et(e.i);var o=null,a=Lr(e.uid+":::");return r=r().then((function(){if(Kc(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Ac(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Jc,e.w(),t.a)),t})).then((function(){return Fl(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Qc(e.ha);throw o})).then((function(){if(o)throw o})),Gc(e,r,i)}function Kc(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new I("internal-error");throw new I("auth-domain-config-required")}}function Gc(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Et(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new lc("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){H(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=oc(t.w(),Tc(e),b(e.jc,e))),n||t}))}function Yc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Qa]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new wc(t,n,e);return e.providerData&&q(e.providerData,(function(e){e&&Dc(i,Jr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function Xc(e){this.a=e,this.b=tl()}tc.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=fe(t.f);return delete n[nc],delete n[rc],de(n,e),t.g(n)}))},_(ic,I),ac.prototype.tb=function(e,t,n){return t.type==ao?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),de(n,{phoneVerificationInfo:$o(e.a)}),ru(t,Os,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return de(n={mfaPendingCredential:n},{phoneVerificationInfo:$o(e.a)}),ru(t,Rs,n)}))}(this,e,t)},_(sc,ac),_(uc,sc),_(lc,Yt),(e=cc.prototype).yc=function(e){hc(this,function(e){var t=[];return q(e.mfaInfo||[],(function(e){(e=ei(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new oo(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return qc(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return ru(r,nu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=U(t.b,(function(e){return e.uid!=n}));return hc(t,r),qc(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:V(this.b,(function(e){return e.w()}))}}},fc.prototype.start=function(){this.a=this.c,pc(this,!0)},fc.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},dc.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},dc.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Et(new I("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?gc(this,{grant_type:"refresh_token",refresh_token:this.a}):St(null):St({accessToken:this.b.toString(),refreshToken:this.a})},yc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(wc,wn),wc.prototype.xa=function(e){this.za=e,rs(this.a,e)},wc.prototype.la=function(){return this.za},wc.prototype.Ga=function(){return Y(this.aa)},wc.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Yr(wc.prototype,"providerId","firebase"),(e=wc.prototype).reload=function(){var e=this;return Gc(this,jc(this).then((function(){return Fc(e).then((function(){return Ac(e)})).then(Rc)})))},e.oc=function(e){return this.I(e).then((function(e){return new ec(e)}))},e.I=function(e){var t=this;return Gc(this,jc(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new I("internal-error");return e.accessToken!=t.Aa&&(Nc(t,e.accessToken),t.dispatchEvent(new lc("tokenChanged"))),Lc(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new I("internal-error");Oc(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?V(e,(function(e){return new bc(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Dc(this,t[n]);Lc(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new lc("userReloaded",{hd:e}))},e.Lc=function(e){return Kr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return Gc(this,e.c(this.a,this.uid).then((function(e){return qc(t,e),n=Vc(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Kr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return Gc(this,Uc(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Vc(t,e,"link"),Wc(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Gc(this,Uc(this,"phone").then((function(){return Zl(Tc(n),e,t,b(n.rb,n))})))},e.Mc=function(e,t){var n=this;return Gc(this,St().then((function(){return Zl(Tc(n),e,t,b(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return Gc(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return qc(t,e),t.reload()})))},e.ed=function(e){var t=this;return Gc(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return qc(t,e),t.reload()})))},e.Db=function(e){var t=this;return Gc(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return qc(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return jc(this);var t=this;return Gc(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return qc(t,e),Lc(t,"displayName",e.displayName||null),Lc(t,"photoURL",e.photoUrl||null),q(t.providerData,(function(e){"password"===e.providerId&&(Yr(e,"displayName",t.displayName),Yr(e,"photoURL",t.photoURL))})),Ac(t)})).then(Rc))},e.cd=function(e){var t=this;return Gc(this,Fc(this).then((function(n){return B($c(t),e)?function(e,t,n){return ru(e,Ns,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return q(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),q($c(t),(function(e){n[e]||zc(t,e)})),n[Do.PROVIDER_ID]||Yr(t,"phoneNumber",null),Ac(t)})):Ac(t).then((function(){throw new I("no-such-provider")}))})))},e.delete=function(){var e=this;return Gc(this,this.I().then((function(t){return ru(e.a,Es,{idToken:t})})).then((function(){e.dispatchEvent(new lc("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");kc(e,null),Ic(e,null),Cc(e,null),e.N=[],e.J=!0,Ec(e),Yr(e,"refreshToken",null),e.b&&$l(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?b(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?b(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?b(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?b(this.Mb,this):null},e.Ec=function(e){var t=this;return Bc(this,"linkViaPopup",e,(function(){return Uc(t,e.providerId).then((function(){return Ac(t)}))}),!1)},e.Nc=function(e){return Bc(this,"reauthViaPopup",e,(function(){return St()}),!0)},e.Fc=function(e){var t=this;return Hc(this,"linkViaRedirect",e,(function(){return Uc(t,e.providerId)}),!1)},e.Oc=function(e){return Hc(this,"reauthViaRedirect",e,(function(){return St()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gc(this,this.I().then((function(n){return _s(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Vc(i,e,"link"),Wc(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Gc(this,St().then((function(){return lo(ks(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Vc(i,e,"reauthenticate"),qc(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return Gc(this,this.I().then((function(t){return n=t,void 0===e||he(e)?{}:Mi(new Ni(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return Gc(this,this.I().then((function(e){return r=e,void 0===t||he(t)?{}:Mi(new Ni(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Gc(this,e=lo(St(e),n.uid).then((function(e){return t=Vc(n,e,"reauthenticate"),qc(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&de(e,this.metadata.w()),q(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),de(e,this.S.w()),e};var Jc={name:"redirectUser",F:"session"};function Qc(e){return il(e.b,Jc,e.a)}function Zc(e){this.a=e,this.b=tl(),this.c=null,this.f=function(e){var t=nh("local"),n=nh("session"),r=nh("none");return function(e,t,n){var r=rl(t,n),i=nl(e,t.F);return e.get(t,n).then((function(o){var s=null;try{s=zr(a.localStorage.getItem(r))}catch(e){}if(s&&!o)return a.localStorage.removeItem(r),e.set(t,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(th,e.a).then((function(e){return e?nh(e):t}))}))}))})).then((function(t){return e.c=t,eh(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(nh("local"),this.a,b(this.g,this))}function eh(e,t){var n,r=[];for(n in Zu)Zu[n]!==t&&r.push(il(e.b,nh(Zu[n]),e.a));return r.push(il(e.b,th,e.a)),function(e){return new bt((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Nt(e[s],w(o,s),a);else t(i)}))}(r)}Zc.prototype.g=function(){var e=this,t=nh("local");ah(this,(function(){return St().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return eh(e,"local").then((function(){e.c=t}))}))}))};var th={name:"persistence",F:"session"};function nh(e){return{name:"authUser",F:e}}function rh(e,t){return ah(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function ih(e){return ah(e,(function(){return il(e.b,e.c,e.a)}))}function oh(e,t,n){return ah(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Yc(e||{})}))}))}function ah(e,t){return e.f=e.f.then(t,t),e.f}function sh(e){if(this.l=!1,Yr(this,"settings",new Jl),Yr(this,"app",e),!mh(this).options||!mh(this).options.apiKey)throw new I("invalid-api-key");e=Ct.SDK_VERSION?Sr(Ct.SDK_VERSION):null,this.a=new Xa(mh(this).options&&mh(this).options.apiKey,N(C),e),this.P=[],this.s=[],this.N=[],this.Pa=Ct.INTERNAL.createSubscribe(b(this.zc,this)),this.W=void 0,this.ib=Ct.INTERNAL.createSubscribe(b(this.Ac,this)),dh(this,null),this.i=new Zc(mh(this).options.apiKey+":"+mh(this).name),this.D=new Xc(mh(this).options.apiKey+":"+mh(this).name),this.$=wh(this,function(e){var t=mh(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Jc,e.a).then((function(e){return e&&t&&(e.authDomain=t),Yc(e||{})}))}(e.D,mh(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Qc(e.D)}));return wh(e,t)}(e).then((function(){return oh(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return rh(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:ih(e.i)}))):null})).then((function(t){dh(e,t||null)}));return wh(e,n)}(this)),this.h=wh(this,function(e){return e.$.then((function(){return fh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(nh("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.qa=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,function(e){var t=mh(e).options.authDomain,n=mh(e).options.apiKey;t&&Pr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Wl(t,n,mh(e).name,e.R),jl(e.b,e),gh(e)&&Pc(gh(e)),e.m){Pc(e.m);var r=e.m;r.xa(e.la()),kc(r,e),xc(r=e.m,e.J),Cc(r,e),_c(r=e.m,e.R),Ic(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,wn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Ln(this.R.url);e=Jr({protocol:e.c,host:e.a,port:e.g,options:Jr({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function uh(e){Yt.call(this,"languageCodeChanged"),this.h=e}function lh(e){Yt.call(this,"emulatorConfigChanged"),this.c=e}function ch(e){Yt.call(this,"frameworkChanged"),this.f=e}function hh(e){return e.Oa||Et(new I("auth-domain-config-required"))}function fh(e){if(!Pr())return Et(new I("operation-not-supported-in-this-environment"));var t=hh(e).then((function(){return e.b.ra()})).then((function(e){return e?Jr(e):null}));return wh(e,t)}function ph(e,t){var n={};return n.apiKey=mh(e).options.apiKey,n.authDomain=mh(e).options.authDomain,n.appName=mh(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new wc(e,t);return n&&(i.ha=n),r&&xc(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return gh(e)&&t.uid==gh(e).uid?(Mc(gh(e),t),e.da(t)):(dh(e,t),Pc(t),e.da(t))})).then((function(){bh(e)}))}function dh(e,t){gh(e)&&(function(e,t){K(e.W,(function(e){return e==t}))}(gh(e),e.Ba),hn(gh(e),"tokenChanged",e.qa),hn(gh(e),"userDeleted",e.za),hn(gh(e),"userInvalidated",e.Aa),Ec(gh(e))),t&&(t.W.push(e.Ba),un(t,"tokenChanged",e.qa),un(t,"userDeleted",e.za),un(t,"userInvalidated",e.Aa),0<e.u&&Sc(t)),Yr(e,"currentUser",t),t&&(t.xa(e.la()),kc(t,e),xc(t,e.J),Cc(t,e),_c(t,e.R),Ic(t,e))}function vh(e,t){var n=null,r=null;return wh(e,t.then((function(t){return n=Lo(t),r=Yi(t),ph(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=oc(t.w(),e,b(e.kc,e))),n||t})).then((function(){return Jr({user:gh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function mh(e){return e.app}function gh(e){return e.currentUser}function yh(e){return gh(e)&&gh(e)._lat||null}function bh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](yh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](yh(e))}}function wh(e,t){return e.P.push(t),t.oa((function(){H(e.P,t)})),t}function _h(){}function kh(){this.a={},this.b=1e12}Zc.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");e:{for(r in Zu)if(Zu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(_r()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Ou()&&"none"!==e)throw n;break;default:if(!Ar()&&"none"!==e)throw n}}(e),ah(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,eh(n,e)})).then((function(){if(n.c=nh(e),t)return n.b.set(n.c,t,n.a)})):St()}))},_(sh,wn),_(uh,Yt),_(lh,Yt),_(ch,Yt),(e=sh.prototype).yb=function(e){return wh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,rs(this.a,this.aa),this.dispatchEvent(new uh(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=a.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!e&&gr().then((function(){var e=a.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),a.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,is(this.a,this.R),this.dispatchEvent(new lh(this.R))}},e.Gc=function(e){this.J.push(e),as(this.a,Ct.SDK_VERSION?Sr(Ct.SDK_VERSION,this.J):null),this.dispatchEvent(new ch(this.J))},e.Ga=function(){return Y(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:mh(this).options.apiKey,authDomain:mh(this).options.authDomain,appName:mh(this).name,currentUser:gh(this)&&gh(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?b(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return vh(i,ws(i.a,o))}))},e.Xc=function(e){if(!Pr())return Et(new I("operation-not-supported-in-this-environment"));var t=this,n=Gi(e.providerId),r=Lr(),i=null;(!jr()||br())&&mh(this).options.authDomain&&e.isOAuthProvider&&(i=yu(mh(this).options.authDomain,mh(this).options.apiKey,mh(this).name,"signInViaPopup",e,null,r,Ct.SDK_VERSION||null,null,null,this.T(),this.R));var o=dr(i,n&&n.va,n&&n.ua);return wh(this,n=hh(this).then((function(n){return Ll(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new bt((function(e,n){t.na("signInViaPopup",null,new I("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=ql(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&pr(o),e?Jr(e):null})).o((function(e){throw o&&pr(o),e})))},e.Yc=function(e){if(!Pr())return Et(new I("operation-not-supported-in-this-environment"));var t=this;return wh(this,hh(this).then((function(){return function(e){return ah(e,(function(){return e.b.set(th,e.c.F,e.a)}))}(t.i)})).then((function(){return Fl(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.ra=function(){var e=this;return fh(this).then((function(t){return e.b&&Kl(e.b.b),t})).o((function(t){throw e.b&&Kl(e.b.b),t}))},e.dd=function(e){if(!e)return Et(new I("null-user"));if(this.S!=e.tenantId)return Et(new I("tenant-id-mismatch"));var t=this,n={};n.apiKey=mh(this).options.apiKey,n.authDomain=mh(this).options.authDomain,n.appName=mh(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[Qa]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new wc(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&xc(t,r),Mc(t,e),t}(e,n,t.D,t.Ga());return wh(this,this.h.then((function(){if(mh(t).options.apiKey!=e.l)return r.reload()})).then((function(){return gh(t)&&e.uid==gh(t).uid?(Mc(gh(t),e),t.da(e)):(dh(t,r),Pc(r),t.da(r))})).then((function(){bh(t)})))},e.Bb=function(){var e=this;return wh(this,this.h.then((function(){return e.b&&Kl(e.b.b),gh(e)?(dh(e,null),ih(e.i).then((function(){bh(e)}))):St()})))},e.Zc=function(){var e=this;return oh(this.i,mh(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=gh(e)&&t){n=gh(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Mc(gh(e),t),gh(e).I();(gh(e)||t)&&(dh(e,t),t&&(Pc(t),t.ha=e.D),e.b&&jl(e.b,e),bh(e))}}))},e.da=function(e){return rh(this.i,e)},e.mc=function(){bh(this),this.da(gh(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return vh(t,St(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(gh(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),wh(e,e.h.then((function(){!e.l&&B(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(yh(e)))})))}(this,(function(){e.next(gh(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(gh(r)):"function"==typeof e.next&&e.next(gh(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof e?e(gh(r)):"function"==typeof e.next&&e.next(gh(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return wh(this,this.h.then((function(){return gh(t)?gh(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return vh(t,ru(t.a,Js,{token:e}))})).then((function(e){var n=e.user;return Lc(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return vh(n,ru(n.a,Qs,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return vh(n,ru(n.a,Ts,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return vh(t,e.ka(t.a))}))},e.Sc=function(e){return Kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=gh(e);if(t&&t.isAnonymous){var n=Jr({providerId:null,isNewUser:!1});return Jr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return vh(e,e.a.Ab()).then((function(t){var n=t.user;return Lc(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return gh(this)&&gh(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&gh(this)&&Sc(gh(this))},e.Pc=function(e){var t=this;q(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&gh(this)&&Ec(gh(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),wh(this,this.h.then((function(){t.l||B(t.s,e)&&e(yh(t))})))},e.removeAuthTokenListener=function(e){K(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(nh("local"),e.a,this.ja),this.b&&($l(this.b,this),Kl(this.b.b)),Promise.resolve()},e.hc=function(e){return wh(this,function(e,t){return ru(e,Ss,{identifier:t,continueUri:Or()?lr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Oo(e)},e.xb=function(e,t){var n=this;return wh(this,St().then((function(){var e=new Ni(t);if(!e.c)throw new I("argument-error",Oi+" must be true when sending sign in link to email");return Mi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return wh(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return wh(this,this.a.Sa(e).then((function(e){return new ai(e)})))},e.kb=function(e){return wh(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return wh(this,St().then((function(){return void 0===t||he(t)?{}:Mi(new Ni(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return wh(this,Zl(this,e,t,b(this.ab,this)))},e.Vc=function(e,t){var n=this;return wh(this,St().then((function(){var r=t||lr(),i=Po(e,r);if(!(r=Oo(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new I("tenant-id-mismatch");return n.ab(i)})))},_h.prototype.render=function(){},_h.prototype.reset=function(){},_h.prototype.getResponse=function(){},_h.prototype.execute=function(){};var Ih=null;function xh(e,t){return(t=Ch(t))&&e.a[t]||null}function Ch(e){return(e=void 0===e?1e12:e)?e.toString():null}function Th(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=st(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function Sh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Eh(){}function Nh(){}kh.prototype.render=function(e,t){return this.a[this.b.toString()]=new Th(e,t),this.b++},kh.prototype.reset=function(e){var t=xh(this,e);e=Ch(e),t&&e&&(t.delete(),delete this.a[e])},kh.prototype.getResponse=function(e){return(e=xh(this,e))?e.getResponse():null},kh.prototype.execute=function(e){(e=xh(this,e))&&e.execute()},Th.prototype.getResponse=function(){return Sh(this),this.b},Th.prototype.execute=function(){Sh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()}),6e4)}),500))},Th.prototype.delete=function(){Sh(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Yr(Eh,"FACTOR_ID","phone"),Nh.prototype.g=function(){return Ih||(Ih=new kh),St(Ih)},Nh.prototype.c=function(){};var Ah=null;function Ph(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Oh=new me(we,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rh=new qr(3e4,6e4);Ph.prototype.g=function(e){var t=this;return new bt((function(n,r){var i=setTimeout((function(){r(new I("network-request-failed"))}),Rh.get());!a.grecaptcha||e!==t.f&&!t.b?(a[t.a]=function(){if(a.grecaptcha){t.f=e;var o=a.grecaptcha.render;a.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new I("internal-error"));delete a[t.a]},St(Va(xe(Oh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Ph.prototype.c=function(){this.b--};var jh=null;function $h(e,t,n,r,i,o,s){if(Yr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,s?(Ah||(Ah=new Nh),s=Ah):(jh||(jh=new Ph),s=jh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Lh])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Mh],!a.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!st(t)||!this.i&&st(t).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xa(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var l=this.a[Dh];this.a[Dh]=function(e){if(Fh(u,e),"function"==typeof l)l(e);else if("string"==typeof l){var t=Nr(l,a);"function"==typeof t&&t(e)}};var c=this.a[zh];this.a[zh]=function(){if(Fh(u,null),"function"==typeof c)c();else if("string"==typeof c){var e=Nr(c,a);"function"==typeof e&&e()}}}var Dh="callback",zh="expired-callback",Lh="sitekey",Mh="size";function Fh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function qh(e,t){return e.h.push(t),t.oa((function(){H(e.h,t)})),t}function Uh(e){if(e.J)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function Vh(e,t,n){var r=!1;try{this.b=n||Ct.app()}catch(e){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(e){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=Ct.SDK_VERSION?Sr(Ct.SDK_VERSION,o):null,$h.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),o,N(C),r)}function Wh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Bh.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=Bh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new I("argument-error",e+" failed: "+r)}(e=$h.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=qh(this,St().then((function(){if(Or()&&!wr())return gr();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,ru(e.s,Fs,{})})).then((function(t){e.a[Lh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Uh(this);var e=this;return qh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=st(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!at&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',qe(a.name),'"'),a.type){o.push(' type="',qe(a.type),'"');var s={};de(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=pt(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ut(o,a)),2<r.length&&ft(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Uh(this);var e=this;return qh(this,this.render().then((function(t){return new bt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){K(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Uh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Uh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=st(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},_(Vh,$h);var Bh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Hh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Kh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function Gh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:d}}function Yh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Xh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function Jh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Qh(e,t){return d(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Zh(e){return d(e)&&"string"==typeof e.uid}function ef(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function tf(e,t){for(var n in t){var r=t[n].name;e[r]=of(r,e[n],t[n].j)}}function nf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:w((function(e){return this[e]}),n),set:w((function(e,t,n,r){Wh(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function rf(e,t,n,r){e[t]=of(t,n,r)}function of(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Wh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}tf(sh.prototype,{kb:{name:"applyActionCode",j:[Hh("code")]},Sa:{name:"checkActionCode",j:[Hh("code")]},ob:{name:"confirmPasswordReset",j:[Hh("code"),Hh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Hh("email"),Hh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Hh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Hh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ef(Gh(),Yh(),"nextOrObserver"),Yh("opt_error",!0),Yh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ef(Gh(),Yh(),"nextOrObserver"),Yh("opt_error",!0),Yh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Hh("email"),ef(Gh("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Hh("email"),Gh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Hh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Jh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Jh()]},Tc:{name:"signInWithCustomToken",j:[Hh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Hh("email"),Hh("password")]},Vc:{name:"signInWithEmailLink",j:[Hh("email"),Hh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Hh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[ef({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof wc)}},Xh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Hh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Hh("url"),Gh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Hh("code")]}}),nf(sh.prototype,{lc:{name:"languageCode",lb:ef(Hh(),Xh(),"languageCode")},ti:{name:"tenantId",lb:ef(Hh(),Xh(),"tenantId")}}),sh.Persistence=Zu,sh.Persistence.LOCAL="local",sh.Persistence.SESSION="session",sh.Persistence.NONE="none",tf(wc.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Kh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Kh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Jh()]},rb:{name:"linkWithCredential",j:[Jh()]},Dc:{name:"linkWithPhoneNumber",j:[Hh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Jh()]},ub:{name:"reauthenticateWithCredential",j:[Jh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Hh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ef(Gh("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Hh(null,!0)]},cd:{name:"unlink",j:[Hh("provider")]},Cb:{name:"updateEmail",j:[Hh("email")]},Db:{name:"updatePassword",j:[Hh("password")]},ed:{name:"updatePhoneNumber",j:[Jh("phone")]},Eb:{name:"updateProfile",j:[Gh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Hh("email"),ef(Gh("opt_actionCodeSettings",!0),Xh(null,!0),"opt_actionCodeSettings",!0)]}}),tf(kh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(_h.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),tf(bt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),nf(Jl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Kh("appVerificationDisabledForTesting")}}),tf(Ql.prototype,{confirm:{name:"confirm",j:[Hh("verificationCode")]}}),rf(uo,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[mo,No,jo,fo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[ef(Hh(),Gh(),"json")]),rf(Ao,"credential",(function(e,t){return new Eo(e,t)}),[Hh("email"),Hh("password")]),tf(Eo.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),tf(wo.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),rf(wo,"credential",_o,[ef(Hh(),Gh(),"token")]),rf(Ao,"credentialWithLink",Po,[Hh("email"),Hh("emailLink")]),tf(ko.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),rf(ko,"credential",Io,[ef(Hh(),Gh(),"token")]),tf(xo.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),rf(xo,"credential",Co,[ef(Hh(),ef(Gh(),Xh()),"idToken"),ef(Hh(),Xh(),"accessToken",!0)]),tf(To.prototype,{Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),rf(To,"credential",So,[ef(Hh(),Gh(),"token"),Hh("secret",!0)]),tf(bo.prototype,{Ca:{name:"addScope",j:[Hh("scope")]},credential:{name:"credential",j:[ef(Hh(),ef(Gh(),Xh()),"optionsOrIdToken"),ef(Hh(),Xh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gh("customOAuthParameters")]}}),tf(po.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),tf(co.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),rf(Do,"credential",zo,[Hh("verificationId"),Hh("verificationCode")]),tf(Do.prototype,{gb:{name:"verifyPhoneNumber",j:[ef(Hh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Qh(e.session,ao)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Qh(e.session,so)&&Zh(e.multiFactorHint):e.session&&e.multiFactorUid?Qh(e.session,so)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),tf(Ro.prototype,{w:{name:"toJSON",j:[Hh(null,!0)]}}),tf(I.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),tf(Ho.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),tf(Bo.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),tf(ic.prototype,{toJSON:{name:"toJSON",j:[Hh(null,!0)]}}),tf(tc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),tf(cc.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Hh("displayName",!0)]},bd:{name:"unenroll",j:[ef({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Zh},Hh(),"multiFactorInfoIdentifier")]}}),tf(Vh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rf(wi,"parseLink",Ei,[Hh("link")]),rf(Eh,"assertion",(function(e){return new uc(e)}),[Jh("phone")]),function(){if(void 0===Ct||!Ct.INTERNAL||!Ct.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:sh,AuthCredential:uo,Error:I};rf(e,"EmailAuthProvider",Ao,[]),rf(e,"FacebookAuthProvider",wo,[]),rf(e,"GithubAuthProvider",ko,[]),rf(e,"GoogleAuthProvider",xo,[]),rf(e,"TwitterAuthProvider",To,[]),rf(e,"OAuthProvider",bo,[Hh("providerId")]),rf(e,"SAMLAuthProvider",yo,[Hh("providerId")]),rf(e,"PhoneAuthProvider",Do,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof sh)}}]),rf(e,"RecaptchaVerifier",Vh,[ef(Hh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Gh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Ct.app.App)}}]),rf(e,"ActionCodeURL",wi,[]),rf(e,"PhoneMultiFactorGenerator",Eh,[]),Ct.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new sh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),Ct.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:b((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:b(e.nc,e),addAuthTokenListener:b(e.cc,e),removeAuthTokenListener:b(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ct.registerVersion("@firebase/auth","0.16.8"),Ct.INTERNAL.extendNamespace({User:wc})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const St=[];function Et(t,n=e){let r;const i=new Set;function o(e){if(a(t,e)&&(t=e,r)){const e=!St.length;for(const e of i)e[1](),St.push(e,t);if(e){for(let e=0;e<St.length;e+=2)St[e][0](St[e+1]);St.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(a,s=e){const u=[a,s];return i.add(u),1===i.size&&(r=n(o)||e),a(t),()=>{i.delete(u),0===i.size&&(r(),r=null)}}}}const Nt=()=>{const e=Ct.auth();return{authStore:{subscribe:Et({user:null,loading:!0},(t=>e.onAuthStateChanged((async e=>{t(e?{user:e,loading:!1}:{user:null,loading:!1})})))).subscribe},loginWithGoogle:()=>{const t=new Ct.auth.GoogleAuthProvider;return e.signInWithPopup(t).then((async({user:e,additionalUserInfo:t})=>{if(e&&t.isNewUser){const t=Ct.database().ref(`users/info/${e.uid}`);await t.set({name:e.displayName,photo:e.photoURL})}}))},logout:()=>e.signOut()}};var At="";function Pt(e){At=e}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Ot,Rt=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$e(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:je(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),jt=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return ze(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),$t=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Rt(t)}}catch(e){}return new jt},Dt=$t("localStorage"),zt=$t("sessionStorage"),Lt=new ct("@firebase/database"),Mt=(Ot=1,function(){return Ot++}),Ft=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,be(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new qe;n.update(t);var r=n.digest();return ke.encodeByteArray(r)},qt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=qt.apply(null,i):n+="object"==typeof i?$e(i):i,n+=" "}return n},Ut=null,Vt=!0,Wt=function(e,t){be(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Lt.logLevel=rt.VERBOSE,Ut=Lt.log.bind(Lt),t&&zt.set("logging_enabled",!0)):"function"==typeof e?Ut=e:(Ut=null,zt.remove("logging_enabled"))},Bt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===Vt&&(Vt=!1,null===Ut&&!0===zt.get("logging_enabled")&&Wt(!0)),Ut){var n=qt.apply(null,e);Ut(n)}},Ht=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Bt.apply(void 0,me([e],ve(t)))}},Kt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+qt.apply(void 0,me([],ve(e)));Lt.error(n)},Gt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+qt.apply(void 0,me([],ve(e)));throw Lt.error(n),new Error(n)},Yt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+qt.apply(void 0,me([],ve(e)));Lt.warn(n)},Xt=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Jt="[MIN_NAME]",Qt="[MAX_NAME]",Zt=function(e,t){if(e===t)return 0;if(e===Jt||t===Qt)return-1;if(t===Jt||e===Qt)return 1;var n=cn(e),r=cn(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},en=function(e,t){return e===t?0:e<t?-1:1},tn=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+$e(t))},nn=function(e){if("object"!=typeof e||null===e)return $e(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=$e(t[i]),r+=":",r+=nn(e[t[i]]);return r+="}"},rn=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function on(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var an=function(e){be(!Xt(e),"Invalid JSON number");var t,n,r,i,o,a=1023;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),a))+a,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(o=0;o<64;o+=8){var c=parseInt(u.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var sn=new RegExp("^-?(0*)\\d{1,10}$"),un=-2147483648,ln=2147483647,cn=function(e){if(sn.test(e)){var t=Number(e);if(t>=un&&t<=ln)return t}return null},hn=function(e){try{e()}catch(e){setTimeout((function(){var t=e.stack||"";throw Yt("Exception was thrown by user callback.",t),e}),Math.floor(0))}},fn=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},pn=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){Yt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),dn=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Bt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Yt(e)},e}(),vn=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),mn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gn="websocket",yn="long_polling",bn=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Dt.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Dt.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function wn(e,t,n){var r;if(be("string"==typeof t,"typeof type must == string"),be("object"==typeof n,"typeof params must == object"),t===gn)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==yn)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return on(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var _n=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),ze(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return xe(this.counters_)},e}(),kn={},In={};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function xn(e){var t=e.toString();return kn[t]||(kn[t]=new _n),kn[t]}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Cn=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&hn((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),Tn="start",Sn="close",En=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ht(e),this.stats_=xn(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),wn(t,yn,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Cn(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Nn((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ve(e,5),i=r[0],o=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Tn)n.id=o,n.password=a;else{if(i!==Sn)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ve(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&mn.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!!e.forceAllow_||!(e.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=$e(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n,r=(n=_e(t),ke.encodeByteArray(n,!0)),i=rn(r,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(e){var t=$e(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Nn=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Mt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(e){Bt("frame writing exception"),e.stack&&Bt(e.stack),Bt(e)}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Bt("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Bt("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},e}(),An=null;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */"undefined"!=typeof MozWebSocket?An=MozWebSocket:"undefined"!=typeof WebSocket&&(An=WebSocket);var Pn=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ht(this.connId),this.stats_=xn(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={v:"5"};return"undefined"!=typeof location&&location.hostname&&mn.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),wn(e,gn,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Dt.set("previous_websocket_failure",!0);try{if(Ne());else{var r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new An(this.connURL,[],r)}}catch(e){this.log_("Error instantiating WebSocket.");var i=e.message||e.data;return i&&this.log_(i),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==An&&!e.forceDisallow_},e.previouslyFailed=function(){return Dt.isInMemoryStorage||!0===Dt.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){Dt.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=je(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(be(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=$e(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=rn(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),On=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[En,Pn]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Pn&&Pn.isAvailable(),o=i&&!Pn.previouslyFailed();if(t.webSocketOnly&&(i||Yt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Pn];else{var a=this.transports_=[];try{for(var s=de(e.ALL_TRANSPORTS),u=s.next();!u.done;u=s.next()){var l=u.value;l&&l.isAvailable()&&a.push(l)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Rn=function(){function e(e,t,n,r,i,o,a,s,u,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ht("c:"+this.id+":"),this.transportManager_=new On(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=fn((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=tn("t",e),n=tn("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=tn("t",e),n=tn("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=tn("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Kt("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kt("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&Yt("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),fn((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fn((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Dt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),jn=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),$n=function(){function e(e){this.allowedEvents_=e,this.listeners_={},be(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=me([],ve(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){be(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),Dn=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Se()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return ce(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return be("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}($n),zn=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ln(){return new zn("")}function Mn(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Fn(e){return e.pieces_.length-e.pieceNum_}function qn(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new zn(e.pieces_,t)}function Un(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Vn(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Wn(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new zn(t,0)}function Bn(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof zn)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new zn(n,0)}function Hn(e){return e.pieceNum_>=e.pieces_.length}function Kn(e,t){var n=Mn(e),r=Mn(t);if(null===n)return t;if(n===r)return Kn(qn(e),qn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Gn(e,t){for(var n=Vn(e,0),r=Vn(t,0),i=0;i<n.length&&i<r.length;i++){var o=Zt(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Yn(e,t){if(Fn(e)!==Fn(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Xn(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Fn(e)>Fn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Jn=function(e,t){this.errorPrefix_=t,this.parts_=Vn(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Ye(this.parts_[n]);Qn(this)};function Qn(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Zn(e))}function Zn(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var er,tr,nr=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return ce(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return be("visible"===e,"Unknown event type: "+e),[this.visible_]},t}($n),rr=1e3,ir=function(e){function t(n,r,i,o,a,s,u,l){var c=e.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=a,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=t.nextPersistentConnectionId_++,c.log_=Ht("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=rr,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!Ne())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return nr.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Dn.getInstance().on("online",c.onOnline_,c),c}return ce(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_($e(i)),be(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new Te,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),be(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&ze(e,"w")){var n=Le(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Yt("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t;(e&&40===e.length||"object"==typeof(t=De(e).claims)&&!0===t.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e,t=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(e=De(n).claims)&&"object"==typeof e&&e.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(e){var r=e.s,i=e.d||"error";t.authToken_===n&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),be(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+$e(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Kt("Unrecognized action received from server: "+$e(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;be(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=rr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=rr),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return fe(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,u,l,c,h,f,p,d,v=this;return pe(this,(function(m){switch(m.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,s=null,u=function(){s?s.close():(a=!0,r())},l=function(e){be(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)},this.realtime_={close:u,sendRequest:l},c=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)])];case 2:return h=ve.apply(void 0,[m.sent(),2]),f=h[0],p=h[1],a?Bt("getToken() completed but was canceled"):(Bt("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,s=new Rn(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){Yt(e+" ("+v.repoInfo_.toString()+")"),v.interrupt("server_kill")}),o)),[3,4];case 3:return d=m.sent(),this.log_("Failed to get token: "+d),a||(this.repoInfo_.nodeAdmin&&Yt(d),u()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){Bt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){Bt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Me(this.interruptReasons_)&&(this.reconnectDelay_=rr,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return nn(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new zn(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){Bt("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){Bt("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=de(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,de(a.values())),u=s.next();!u.done;u=s.next()){var l=u.value;this.sendListen_(l)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)},t.prototype.sendConnectStats_=function(){var e={};e["sdk.js."+At.replace(/\./g,"-")]=1,Se()?e["framework.cordova"]=1:"object"==typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Dn.getInstance().currentlyOnline();return Me(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(jn),or=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),ar=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new or(Jt,e),r=new or(Jt,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return or.MIN},e}(),sr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ce(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return er},set:function(e){er=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return Zt(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw we("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return or.MIN},t.prototype.maxPost=function(){return new or(Qt,er)},t.prototype.makePost=function(e,t){return be("string"==typeof e,"KeyIndex indexValue must always be a string."),new or(e,er)},t.prototype.toString=function(){return".key"},t}(ar),ur=new sr,lr=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),cr=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:fr.EMPTY_NODE,this.right=null!=o?o:fr.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return fr.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return fr.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),hr=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new cr(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),fr=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,cr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,cr.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new lr(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new lr(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new lr(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new lr(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new hr,e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function pr(e,t){return Zt(e.name,t.name)}function dr(e,t){return Zt(e,t)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var vr,mr,gr,yr=function(e){return"number"==typeof e?"number:"+an(e):"string:"+e},br=function(e){if(e.isLeafNode()){var t=e.val();be("string"==typeof t||"number"==typeof t||"object"==typeof t&&ze(t,".sv"),"Priority must be a string or number.")}else be(e===tr||e.isEmpty(),"priority of unexpected type.");be(e===tr||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},wr=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,be(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),br(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return vr},set:function(e){vr=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Hn(t)?this:".priority"===Mn(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=Mn(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(be(".priority"!==r||1===Fn(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(qn(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+yr(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?an(this.value_):this.value_,this.lazyHash_=Ft(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(be(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return be(i>=0,"Unknown leaf type: "+n),be(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var _r,kr,Ir=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ce(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Zt(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return or.MIN},t.prototype.maxPost=function(){return new or(Qt,new wr("[PRIORITY-POST]",gr))},t.prototype.makePost=function(e,t){var n=mr(e);return new or(t,new wr("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(ar)),xr=Math.log(2),Cr=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/xr,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Tr=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new cr(a,o.node,cr.BLACK,null,null);var u=parseInt(s/2,10)+t,l=i(t,u),c=i(u+1,r);return o=e[u],a=n?n(o):o,new cr(a,o.node,cr.BLACK,l,c)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var l=i(o+1,s),c=e[o],h=n?n(c):c;u(new cr(h,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),h=Math.pow(2,t.count-(l+1));c?s(h,cr.BLACK):(s(h,cr.BLACK),s(h,cr.RED))}return o}(new Cr(e.length));return new fr(r||t,o)},Sr={},Er=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return be(Sr&&Ir,"ChildrenNode.ts has not been loaded"),_r=_r||new e({".priority":Sr},{".priority":Ir})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Le(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof fr?t:null},e.prototype.hasIndex=function(e){return ze(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){be(t!==ur,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(or.Wrap),s=a.getNext();s;)o=o||t.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?Tr(i,t.getCompare()):Sr;var u=t.toString(),l=he({},this.indexSet_);l[u]=t;var c=he({},this.indexes_);return c[u]=r,new e(c,l)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Fe(this.indexes_,(function(e,i){var o=Le(r.indexSet_,i);if(be(o,"Missing index implementation for "+i),e===Sr){if(o.isDefinedOn(t.node)){for(var a=[],s=n.getIterator(or.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),Tr(a,o.getCompare())}return Sr}var l=n.get(t.name),c=e;return l&&(c=c.remove(new or(t.name,l))),c.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Fe(this.indexes_,(function(e){if(e===Sr)return e;var r=n.get(t.name);return r?e.remove(new or(t.name,r)):e})),this.indexSet_)},e}(),Nr=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&br(this.priorityNode_),this.children_.isEmpty()&&be(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return kr||(kr=new e(new fr(dr),null,Er.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||kr},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?kr:t},e.prototype.getChild=function(e){var t=Mn(e);return null===t?this:this.getImmediateChild(t).getChild(qn(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(be(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new or(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?kr:this.priorityNode_;return new e(i,a,o)},e.prototype.updateChild=function(e,t){var n=Mn(e);if(null===n)return t;be(".priority"!==Mn(e)||1===Fn(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(qn(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ir,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+yr(this.getPriority().val())+":"),this.forEachChild(Ir,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Ft(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new or(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new or(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new or(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,or.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,or.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ar?-1:0},e.prototype.withIndex=function(t){if(t===ur||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===ur||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Ir),r=t.getIterator(Ir),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===ur?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Ar=new(function(e){function t(){return e.call(this,new fr(dr),Nr.EMPTY_NODE,Er.Default)||this}return ce(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Nr.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Nr));Object.defineProperties(or,{MIN:{value:new or(Jt,Nr.EMPTY_NODE)},MAX:{value:new or(Qt,Ar)}}),sr.__EMPTY_NODE=Nr.EMPTY_NODE,wr.__childrenNodeConstructor=Nr,tr=Ar,function(e){gr=e}(Ar);function Pr(e,t){if(void 0===t&&(t=null),null===e)return Nr.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),be(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new wr(e,Pr(t));if(e instanceof Array){var n=Nr.EMPTY_NODE;return on(e,(function(t,r){if(ze(e,t)&&"."!==t.substring(0,1)){var i=Pr(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Pr(t))}var r=[],i=!1;if(on(e,(function(e,t){if("."!==e.substring(0,1)){var n=Pr(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new or(e,n)))}})),0===r.length)return Nr.EMPTY_NODE;var o=Tr(r,pr,(function(e){return e.name}),dr);if(i){var a=Tr(r,Ir.getCompare());return new Nr(o,Pr(t),new Er({".priority":a},{".priority":Ir}))}return new Nr(o,Pr(t),Er.Default)}!function(e){mr=e}(Pr);
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Or,Rr,jr=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,be(!Hn(t)&&".priority"!==Mn(t),"Can't create PathIndex with empty path or .priority key"),n}return ce(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Zt(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=Pr(e),r=Nr.EMPTY_NODE.updateChild(this.indexPath_,n);return new or(t,r)},t.prototype.maxPost=function(){var e=Nr.EMPTY_NODE.updateChild(this.indexPath_,Ar);return new or(Qt,e)},t.prototype.toString=function(){return Vn(this.indexPath_,0).join("/")},t}(ar),$r=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ce(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?Zt(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return or.MIN},t.prototype.maxPost=function(){return or.MAX},t.prototype.makePost=function(e,t){var n=Pr(e);return new or(t,n)},t.prototype.toString=function(){return".value"},t}(ar)),Dr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zr=(Or=0,Rr=[],function(e){var t,n=e===Or;Or=e;var r=new Array(8);for(t=7;t>=0;t--)r[t]=Dr.charAt(e%64),e=Math.floor(e/64);be(0===e,"Cannot push at time == 0");var i=r.join("");if(n){for(t=11;t>=0&&63===Rr[t];t--)Rr[t]=0;Rr[t]++}else for(t=0;t<12;t++)Rr[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)i+=Dr.charAt(Rr[t]);return be(20===i.length,"nextPushId: Length should be 20."),i}),Lr=function(e){if("2147483647"===e)return"-";var t=cn(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return Qt;var o=n[i],a=Dr.charAt(Dr.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},Mr=function(e){if("-2147483648"===e)return Jt;var t=cn(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Dr.charAt(Dr.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function Fr(e){return{type:"value",snapshotNode:e}}function qr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ur(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Vr(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var Wr=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){be(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Ur(t,a)):be(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(qr(t,n)):o.trackChildChange(Vr(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ir,(function(e,r){t.hasChild(e)||n.trackChildChange(Ur(e,r))})),t.isLeafNode()||t.forEachChild(Ir,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Vr(t,r,i))}else n.trackChildChange(qr(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Nr.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Br=function(){function e(t){this.indexedFilter_=new Wr(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new or(t,n))||(n=Nr.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Nr.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Nr.EMPTY_NODE);var i=this;return t.forEachChild(Ir,(function(e,t){i.matches(new or(e,t))||(r=r.updateImmediateChild(e,Nr.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Hr=function(){function e(e){this.rangedFilter_=new Br(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new or(t,n))||(n=Nr.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Nr.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Nr.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Nr.EMPTY_NODE);var s=void 0,u=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();l=function(e,t){return c(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&l(s,a)<=0&&(h=!0),h&&o<this.limit_&&l(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Nr.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var s=e;be(s.numChildren()===this.limit_,"");var u=new or(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(c&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(Vr(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Ur(t,h));var d=s.updateImmediateChild(t,Nr.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(qr(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return n.isEmpty()?e:c&&o(l,u)>=0?(null!=i&&(i.trackChildChange(Ur(l.name,l.node)),i.trackChildChange(qr(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,Nr.EMPTY_NODE)):e},e}(),Kr=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ir}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return be(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return be(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jt},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return be(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return be(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qt},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return be(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Ir},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Gr(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Yr(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Xr(e,t){var n=e.copy();return n.index_=t,n}function Jr(e){var t,n={};return e.isDefault()||(e.index_===Ir?t="$priority":e.index_===$r?t="$value":e.index_===ur?t="$key":(be(e.index_ instanceof jr,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=$e(t),e.startSet_&&(n.startAt=$e(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+$e(e.indexStartName_))),e.endSet_&&(n.endAt=$e(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+$e(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Qr(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ir&&(t.i=e.index_.toString()),t}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Zr=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=Ht("p:rest:"),o.listens_={},o}return ce(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(be(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var s=t.getListenId_(e,r),u={};this.listens_[s]=u;var l=Jr(e._queryParams);this.restRequest_(a+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),Le(o.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Jr(e._queryParams),r=e._path.toString(),i=new Te;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=ve(i,2),a=o[0],s=o[1];a&&a.accessToken&&(t.auth=a.accessToken),s&&s.token&&(t.ac=s.token);var u=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}(t);r.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=je(l.responseText)}catch(e){Yt("Failed to parse JSON response for "+u+": "+l.responseText)}n(null,e)}else 401!==l.status&&404!==l.status&&Yt("Got unsuccessful REST response for "+u+" Status: "+l.status),n(l.status);n=null}},l.open("GET",u,!0),l.send()}))},t}(jn),ei=function(){function e(){this.rootNode_=Nr.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function ti(){return{value:null,children:new Map}}function ni(e,t,n){if(Hn(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Mn(t);e.children.has(r)||e.children.set(r,ti()),ni(e.children.get(r),t=qn(t),n)}}function ri(e,t){if(Hn(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(Ir,(function(t,n){ni(e,new zn(t),n)})),ri(e,t)}if(e.children.size>0){var r=Mn(t);if(t=qn(t),e.children.has(r))ri(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function ii(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,(function(e,r){ii(r,new zn(t.toString()+"/"+e),n)}))}var oi,ai=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=he({},e);return this.last_&&on(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),si=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ai(e);var n=1e4+2e4*Math.random();fn(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;on(t,(function(t,i){i>0&&ze(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),fn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ui(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(oi||(oi={}));var li,ci=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=oi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Hn(this.path)){if(null!=this.affectedTree.value)return be(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new zn(t));return new e(Ln(),n,this.revert)}return be(Mn(this.path)===t,"operationForChild called for unrelated child."),new e(qn(this.path),this.affectedTree,this.revert)},e}(),hi=function(){function e(e,t){this.source=e,this.path=t,this.type=oi.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Hn(this.path)?new e(this.source,Ln()):new e(this.source,qn(this.path))},e}(),fi=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=oi.OVERWRITE}return e.prototype.operationForChild=function(t){return Hn(this.path)?new e(this.source,Ln(),this.snap.getImmediateChild(t)):new e(this.source,qn(this.path),this.snap)},e}(),pi=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=oi.MERGE}return e.prototype.operationForChild=function(t){if(Hn(this.path)){var n=this.children.subtree(new zn(t));return n.isEmpty()?null:n.value?new fi(this.source,Ln(),n.value):new e(this.source,Ln(),n)}return be(Mn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,qn(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),di=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Hn(e))return this.isFullyInitialized()&&!this.filtered_;var t=Mn(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),vi=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function mi(e,t,n,r,i,o){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw we("Should only compare child_ events.");var r=new or(t.childName,t.snapshotNode),i=new or(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t,n)})),a.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function gi(e,t){return{eventCache:e,serverCache:t}}function yi(e,t,n,r){return gi(new di(t,n,r),e.serverCache)}function bi(e,t,n,r){return gi(e.eventCache,new di(t,n,r))}function wi(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function _i(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ki=function(){function e(e,t){void 0===t&&(li||(li=new fr(en)),t=li),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return on(t,(function(e,t){n=n.set(new zn(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:Ln(),value:this.value};if(Hn(e))return null;var n=Mn(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(qn(e),t);return null!=i?{path:Bn(new zn(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Hn(t))return this;var n=Mn(t),r=this.children.get(n);return null!==r?r.subtree(qn(t)):new e(null)},e.prototype.set=function(t,n){if(Hn(t))return new e(n,this.children);var r=Mn(t),i=(this.children.get(r)||new e(null)).set(qn(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Hn(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Mn(t),r=this.children.get(n);if(r){var i=r.remove(qn(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Hn(e))return this.value;var t=Mn(e),n=this.children.get(t);return n?n.get(qn(e)):null},e.prototype.setTree=function(t,n){if(Hn(t))return n;var r=Mn(t),i=(this.children.get(r)||new e(null)).setTree(qn(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(Ln(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Bn(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,Ln(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Hn(e))return null;var i=Mn(e),o=this.children.get(i);return o?o.findOnPath_(qn(e),Bn(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,Ln(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Hn(t))return this;this.value&&r(n,this.value);var i=Mn(t),o=this.children.get(i);return o?o.foreachOnPath_(qn(t),Bn(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(Ln(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Bn(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),Ii=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new ki(null))},e}();function xi(e,t,n){if(Hn(t))return new Ii(new ki(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Kn(i,t);return o=o.updateChild(a,n),new Ii(e.writeTree_.set(i,o))}var s=new ki(n),u=e.writeTree_.setTree(t,s);return new Ii(u)}function Ci(e,t,n){var r=e;return on(n,(function(e,n){r=xi(r,Bn(t,e),n)})),r}function Ti(e,t){if(Hn(t))return Ii.empty();var n=e.writeTree_.setTree(t,new ki(null));return new Ii(n)}function Si(e,t){return null!=Ei(e,t)}function Ei(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Kn(n.path,t)):null}function Ni(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ir,(function(e,n){t.push(new or(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new or(e,n.value))})),t}function Ai(e,t){if(Hn(t))return e;var n=Ei(e,t);return new Ii(null!=n?new ki(n):e.writeTree_.subtree(t))}function Pi(e){return e.writeTree_.isEmpty()}function Oi(e,t){return Ri(Ln(),e.writeTree_,t)}function Ri(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(be(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ri(Bn(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Bn(e,".priority"),r)),n}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function ji(e,t){return Ki(t,e)}function $i(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));be(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=e.allWrites.length-1;i&&a>=0;){var s=e.allWrites[a];s.visible&&(a>=n&&Di(s,r.path)?i=!1:Xn(r.path,s.path)&&(o=!0)),a--}if(i){if(o)return function(e){e.visibleWrites=Li(e.allWrites,zi,Ln()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Ti(e.visibleWrites,r.path):on(r.children,(function(t){e.visibleWrites=Ti(e.visibleWrites,Bn(r.path,t))}));return!0}return!1}function Di(e,t){if(e.snap)return Xn(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Xn(Bn(e.path,n),t))return!0;return!1}function zi(e){return e.visible}function Li(e,t,n){for(var r=Ii.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)Xn(n,a)?r=xi(r,s=Kn(n,a),o.snap):Xn(a,n)&&(s=Kn(a,n),r=xi(r,Ln(),o.snap.getChild(s)));else{if(!o.children)throw we("WriteRecord should have .snap or .children");if(Xn(n,a))r=Ci(r,s=Kn(n,a),o.children);else if(Xn(a,n))if(Hn(s=Kn(a,n)))r=Ci(r,Ln(),o.children);else{var u=Le(o.children,Mn(s));if(u){var l=u.getChild(qn(s));r=xi(r,Ln(),l)}}}}}return r}function Mi(e,t,n,r,i){if(r||i){var o=Ai(e.visibleWrites,t);if(!i&&Pi(o))return n;if(i||null!=n||Si(o,Ln())){return Oi(Li(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Xn(e.path,t)||Xn(t,e.path))}),t),n||Nr.EMPTY_NODE)}return null}var a=Ei(e.visibleWrites,t);if(null!=a)return a;var s=Ai(e.visibleWrites,t);return Pi(s)?n:null!=n||Si(s,Ln())?Oi(s,n||Nr.EMPTY_NODE):null}function Fi(e,t,n,r){return Mi(e.writeTree,e.treePath,t,n,r)}function qi(e,t){return function(e,t,n){var r=Nr.EMPTY_NODE,i=Ei(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ir,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Ai(e.visibleWrites,t);return n.forEachChild(Ir,(function(e,t){var n=Oi(Ai(o,new zn(e)),t);r=r.updateImmediateChild(e,n)})),Ni(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Ni(Ai(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Ui(e,t,n,r){return function(e,t,n,r,i){be(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=Bn(t,n);if(Si(e.visibleWrites,o))return null;var a=Ai(e.visibleWrites,o);return Pi(a)?i.getChild(n):Oi(a,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Vi(e,t){return function(e,t){return Ei(e.visibleWrites,t)}(e.writeTree,Bn(e.treePath,t))}function Wi(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=Ai(e.visibleWrites,t),l=Ei(u,Ln());if(null!=l)s=l;else{if(null==n)return[];s=Oi(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var c=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),p=f.getNext();p&&c.length<i;)0!==h(p,r)&&c.push(p),p=f.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,o)}function Bi(e,t,n){return function(e,t,n,r){var i=Bn(t,n),o=Ei(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Oi(Ai(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Hi(e,t){return Ki(Bn(e.treePath,t),e.writeTree)}function Ki(e,t){return{treePath:e,writeTree:t}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Gi=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;be("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),be(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Vr(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Ur(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,qr(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw we("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Vr(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Yi=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),Xi=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bi(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:_i(this.viewCache_),i=Wi(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */function Ji(e,t,n,r,i){var o,a,s=new Gi;if(n.type===oi.OVERWRITE){var u=n;u.source.fromUser?o=eo(e,t,u.path,u.snap,r,i,s):(be(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!Hn(u.path),o=Zi(e,t,u.path,u.snap,r,i,a,s))}else if(n.type===oi.MERGE){var l=n;l.source.fromUser?o=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var l=Bn(n,r);to(t,Mn(l))&&(s=eo(e,s,l,u,i,o,a))})),r.foreach((function(r,u){var l=Bn(n,r);to(t,Mn(l))||(s=eo(e,s,l,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,s):(be(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=ro(e,t,l.path,l.children,r,i,a,s))}else if(n.type===oi.ACK_USER_WRITE){var c=n;o=c.revert?function(e,t,n,r,i,o){var a;if(null!=Vi(r,n))return t;var s=new Xi(r,t,i),u=t.eventCache.getNode(),l=void 0;if(Hn(n)||".priority"===Mn(n)){var c=void 0;if(t.serverCache.isFullyInitialized())c=Fi(r,_i(t));else{var h=t.serverCache.getNode();be(h instanceof Nr,"serverChildren would be complete if leaf node"),c=qi(r,h)}c=c,l=e.filter.updateFullNode(u,c,o)}else{var f=Mn(n),p=Bi(r,f,t.serverCache);null==p&&t.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(l=null!=p?e.filter.updateChild(u,f,p,qn(n),s,o):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(u,f,Nr.EMPTY_NODE,qn(n),s,o):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Fi(r,_i(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,a,o))}return a=t.serverCache.isFullyInitialized()||null!=Vi(r,Ln()),yi(t,l,a,e.filter.filtersNodes())}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t,c.path,r,i,s):function(e,t,n,r,i,o,a){if(null!=Vi(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Hn(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Zi(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Hn(n)){var l=new ki(null);return u.getNode().forEachChild(ur,(function(e,t){l=l.set(new zn(e),t)})),ro(e,t,n,l,i,o,s,a)}return t}var c=new ki(null);return r.foreach((function(e,t){var r=Bn(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),ro(e,t,n,c,i,o,s,a)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==oi.LISTEN_COMPLETE)throw we("Unknown operation type: "+n.type);o=function(e,t,n,r,i){var o=t.serverCache,a=bi(t,o.getNode(),o.isFullyInitialized()||Hn(n),o.isFiltered());return Qi(e,a,n,r,Yi,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=wi(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Fr(wi(t)))}}(t,o,h),{viewCache:o,changes:h}}function Qi(e,t,n,r,i,o){var a=t.eventCache;if(null!=Vi(r,n))return t;var s=void 0,u=void 0;if(Hn(n))if(be(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=_i(t),c=qi(r,l instanceof Nr?l:Nr.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{var h=Fi(r,_i(t));s=e.filter.updateFullNode(t.eventCache.getNode(),h,o)}else{var f=Mn(n);if(".priority"===f){be(1===Fn(n),"Can't have a priority with additional path components");var p=a.getNode(),d=Ui(r,n,p,u=t.serverCache.getNode());s=null!=d?e.filter.updatePriority(p,d):a.getNode()}else{var v=qn(n),m=void 0;if(a.isCompleteForChild(f)){u=t.serverCache.getNode();var g=Ui(r,n,a.getNode(),u);m=null!=g?a.getNode().getImmediateChild(f).updateChild(v,g):a.getNode().getImmediateChild(f)}else m=Bi(r,f,t.serverCache);s=null!=m?e.filter.updateChild(a.getNode(),f,m,v,i,o):a.getNode()}}return yi(t,s,a.isFullyInitialized()||Hn(n),e.filter.filtersNodes())}function Zi(e,t,n,r,i,o,a,s){var u,l=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(Hn(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),h,null)}else{var f=Mn(n);if(!l.isCompleteForPath(n)&&Fn(n)>1)return t;var p=qn(n),d=l.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?c.updatePriority(l.getNode(),d):c.updateChild(l.getNode(),f,d,p,Yi,null)}var v=bi(t,u,l.isFullyInitialized()||Hn(n),c.filtersNodes());return Qi(e,v,n,i,new Xi(i,v,o),s)}function eo(e,t,n,r,i,o,a){var s,u,l=t.eventCache,c=new Xi(i,t,o);if(Hn(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=yi(t,u,!0,e.filter.filtersNodes());else{var h=Mn(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=yi(t,u,l.isFullyInitialized(),l.isFiltered());else{var f=qn(n),p=l.getNode().getImmediateChild(h),d=void 0;if(Hn(f))d=r;else{var v=c.getCompleteChild(h);d=null!=v?".priority"===Un(f)&&v.getChild(Wn(f)).isEmpty()?v:v.updateChild(f,r):Nr.EMPTY_NODE}if(p.equals(d))s=t;else s=yi(t,e.filter.updateChild(l.getNode(),h,d,f,c,a),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function to(e,t){return e.eventCache.isCompleteForChild(t)}function no(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function ro(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=Hn(n)?r:new ki(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=no(0,t.serverCache.getNode().getImmediateChild(n),r);l=Zi(e,l,new zn(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){var h=no(0,t.serverCache.getNode().getImmediateChild(n),r);l=Zi(e,l,new zn(n),h,i,o,a,s)}})),l}var io,oo=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Wr(r.getIndex()),o=(n=r).loadsAllData()?new Wr(n.getIndex()):n.hasLimit()?new Hr(n):new Br(n);this.processor_=
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(Nr.EMPTY_NODE,a.getNode(),null),l=o.updateFullNode(Nr.EMPTY_NODE,s.getNode(),null),c=new di(u,a.isFullyInitialized(),i.filtersNodes()),h=new di(l,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=gi(h,c),this.eventGenerator_=new vi(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function ao(e,t){var n=_i(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Hn(t)&&!n.getImmediateChild(Mn(t)).isEmpty())?n.getChild(t):null}function so(e){return 0===e.eventRegistrations_.length}function uo(e,t,n){var r=[];if(n){be(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var s=e.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}else o.push(s)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function lo(e,t,n,r){t.type===oi.MERGE&&null!==t.source.queryId&&(be(_i(e.viewCache_),"We should always have a full cache before handling merges"),be(wi(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,a=e.viewCache_,s=Ji(e.processor_,a,t,n,r);return i=e.processor_,o=s.viewCache,be(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),be(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),be(s.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,co(e,s.changes,s.viewCache.eventCache.getNode(),null)}function co(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),mi(e,i,"child_removed",t,r,n),mi(e,i,"child_added",t,r,n),mi(e,i,"child_moved",o,r,n),mi(e,i,"child_changed",t,r,n),mi(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var ho,fo=function(){this.views=new Map};function po(e,t,n,r){var i,o,a=t.source.queryId;if(null!==a){var s=e.views.get(a);return be(null!=s,"SyncTree gave us an op for an invalid query."),lo(s,t,n,r)}var u=[];try{for(var l=de(e.views.values()),c=l.next();!c.done;c=l.next()){s=c.value;u=u.concat(lo(s,t,n,r))}}catch(e){i={error:e}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return u}function vo(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=Fi(n,i?r:null),u=!1;s?u=!0:r instanceof Nr?(s=qi(n,r),u=!1):(s=Nr.EMPTY_NODE,u=!1);var l=gi(new di(s,u,!1),new di(r,i,!1));return new oo(t,l)}return a}function mo(e,t,n,r,i,o){var a=vo(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ir,(function(e,t){r.push(qr(e,t))})),n.isFullyInitialized()&&r.push(Fr(n.getNode())),co(e,r,n.getNode(),t)}(a,n)}function go(e,t,n,r){var i,o,a=t._queryIdentifier,s=[],u=[],l=ko(e);if("default"===a)try{for(var c=de(e.views.entries()),h=c.next();!h.done;h=c.next()){var f=ve(h.value,2),p=f[0],d=f[1];u=u.concat(uo(d,n,r)),so(d)&&(e.views.delete(p),d.query._queryParams.loadsAllData()||s.push(d.query))}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}else(d=e.views.get(a))&&(u=u.concat(uo(d,n,r)),so(d)&&(e.views.delete(a),d.query._queryParams.loadsAllData()||s.push(d.query)));return l&&!ko(e)&&s.push(new(be(io,"Reference.ts has not been loaded"),io)(t._repo,t._path)),{removed:s,events:u}}function yo(e){var t,n,r=[];try{for(var i=de(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function bo(e,t){var n,r,i=null;try{for(var o=de(e.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;i=i||ao(s,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function wo(e,t){if(t._queryParams.loadsAllData())return Io(e);var n=t._queryIdentifier;return e.views.get(n)}function _o(e,t){return null!=wo(e,t)}function ko(e){return null!=Io(e)}function Io(e){var t,n;try{for(var r=de(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var xo=1,Co=function(e){this.listenProvider_=e,this.syncPointTree_=new ki(null),this.pendingWriteTree_={visibleWrites:Ii.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function To(e,t,n,r,i){return function(e,t,n,r,i){be(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=xi(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?jo(e,new fi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function So(e,t,n,r){!function(e,t,n,r){be(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Ci(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=ki.fromObject(n);return jo(e,new pi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Eo(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if($i(e.pendingWriteTree_,t)){var i=new ki(null);return null!=r.snap?i=i.set(Ln(),!0):on(r.children,(function(e){i=i.set(new zn(e),!0)})),jo(e,new ci(r.path,i,n))}return[]}function No(e,t,n){return jo(e,new fi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Ao(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||_o(o,t))){var s=go(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var l=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),c=e.syncPointTree_.findOnPath(i,(function(e,t){return ko(t)}));if(l&&!c){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&ko(t))return[Io(t)];var r=[];return t&&(r=yo(t)),on(n,(function(e,t){r=r.concat(t)})),r}))}(h),p=0;p<f.length;++p){var d=f[p],v=d.query,m=zo(e,d);e.listenProvider_.startListening(Vo(v),Lo(e,v),m.hashFn,m.onComplete)}}if(!c&&u.length>0&&!r)if(l){e.listenProvider_.stopListening(Vo(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(Mo(t));e.listenProvider_.stopListening(Vo(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Mo(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function Po(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Kn(e,r);i=i||bo(t,n),o=o||ko(t)}));var a,s=e.syncPointTree_.get(r);(s?(o=o||ko(s),i=i||bo(s,Ln())):(s=new fo,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i)?a=!0:(a=!1,i=Nr.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=bo(t,Ln());n&&(i=i.updateImmediateChild(e,n))})));var u=_o(s,t);if(!u&&!t._queryParams.loadsAllData()){var l=Mo(t);be(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var c=xo++;e.queryToTagMap.set(l,c),e.tagToQueryMap.set(c,l)}var h=mo(s,t,n,ji(e.pendingWriteTree_,r),i,a);if(!u&&!o){var f=wo(s,t);h=h.concat(function(e,t,n){var r=t._path,i=Lo(e,t),o=zo(e,n),a=e.listenProvider_.startListening(Vo(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)be(!ko(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!Hn(e)&&t&&ko(t))return[Io(t).query];var r=[];return t&&(r=r.concat(yo(t).map((function(e){return e.query})))),on(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var c=u[l];e.listenProvider_.stopListening(Vo(c),Lo(e,c))}return a}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e,t,f))}return h}function Oo(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=bo(n,Kn(e,t));if(r)return r}));return Mi(r,t,i,n,!0)}function Ro(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Kn(e,n);r=r||bo(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||bo(i,Ln()):(i=new fo,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new di(r,!0,!1):null;return function(e){return wi(e.viewCache_)}(vo(i,t,ji(e.pendingWriteTree_,t._path),o?a.getNode():Nr.EMPTY_NODE,o))}function jo(e,t){return $o(t,e.syncPointTree_,null,ji(e.pendingWriteTree_,Ln()))}function $o(e,t,n,r){if(Hn(e.path))return Do(e,t,n,r);var i=t.get(Ln());null==n&&null!=i&&(n=bo(i,Ln()));var o=[],a=Mn(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var l=n?n.getImmediateChild(a):null,c=Hi(r,a);o=o.concat($o(s,u,l,c))}return i&&(o=o.concat(po(i,e,r,n))),o}function Do(e,t,n,r){var i=t.get(Ln());null==n&&null!=i&&(n=bo(i,Ln()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Hi(r,t),u=e.operationForChild(t);u&&(o=o.concat(Do(u,i,a,s)))})),i&&(o=o.concat(po(i,e,r,n))),o}function zo(e,t){var n=t.query,r=Lo(e,n);return{hashFn:function(){return(function(e){return e.viewCache_.serverCache.getNode()}(t)||Nr.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Fo(e,n);if(r){var i=qo(r),o=i.path,a=i.queryId,s=Kn(o,t);return Uo(e,o,new hi(ui(a),s))}return[]}(e,n._path,r):function(e,t){return jo(e,new hi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Ao(e,n,null,i)}}}function Lo(e,t){var n=Mo(t);return e.queryToTagMap.get(n)}function Mo(e){return e._path.toString()+"$"+e._queryIdentifier}function Fo(e,t){return e.tagToQueryMap.get(t)}function qo(e){var t=e.indexOf("$");return be(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new zn(e.substr(0,t))}}function Uo(e,t,n){var r=e.syncPointTree_.get(t);return be(r,"Missing sync point for query tag that we're tracking"),po(r,n,ji(e.pendingWriteTree_,t),null)}function Vo(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(be(ho,"Reference.ts has not been loaded"),ho)(e._repo,e._path):e}var Wo=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Bo=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Bn(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Oo(this.syncTree_,this.path_)},e}(),Ho=function(e,t,n){return e&&"object"==typeof e?(be(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Ko(e[".sv"],t,n):"object"==typeof e[".sv"]?Go(e[".sv"],t):void be(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Ko=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:be(!1,"Unexpected server value: "+e)}},Go=function(e,t,n){e.hasOwnProperty("increment")||be(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&be(!1,"Unexpected increment value: "+r);var i=t.node();if(be(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},Yo=function(e,t,n,r){return Jo(t,new Bo(n,e),r)},Xo=function(e,t,n){return Jo(e,new Wo(t),n)};function Jo(e,t,n){var r,i=e.getPriority().val(),o=Ho(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Ho(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new wr(s,Pr(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new wr(o))),u.forEachChild(Ir,(function(e,i){var o=Jo(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Qo=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Zo(e,t){for(var n=t instanceof zn?t:new zn(t),r=e,i=Mn(n);null!==i;){var o=Le(r.node.children,i)||{children:{},childCount:0};r=new Qo(i,r,o),i=Mn(n=qn(n))}return r}function ea(e){return e.node.value}function ta(e,t){e.node.value=t,aa(e)}function na(e){return e.node.childCount>0}function ra(e,t){on(e.node.children,(function(n,r){t(new Qo(n,e,r))}))}function ia(e,t,n,r){n&&!r&&t(e),ra(e,(function(e){ia(e,t,!0,r)})),n&&r&&t(e)}function oa(e){return new zn(null===e.parent?e.name:oa(e.parent)+"/"+e.name)}function aa(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===ea(e)&&!na(e)}(n),i=ze(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,aa(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,aa(e))}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(e.parent,e.name,e)}var sa=/[\[\].#$\/\u0000-\u001F\u007F]/,ua=/[\[\].#$\u0000-\u001F\u007F]/,la=10485760,ca=function(e){return"string"==typeof e&&0!==e.length&&!sa.test(e)},ha=function(e){return"string"==typeof e&&0!==e.length&&!ua.test(e)},fa=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!Xt(e)||e&&"object"==typeof e&&ze(e,".sv")},pa=function(e,t,n,r){r&&void 0===t||da(He(e,"value"),t,n)},da=function(e,t,n){var r=n instanceof zn?new Jn(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Zn(r));if("function"==typeof t)throw new Error(e+"contains a function "+Zn(r)+" with contents = "+t.toString());if(Xt(t))throw new Error(e+"contains "+t.toString()+" "+Zn(r));if("string"==typeof t&&t.length>la/3&&Ye(t)>la)throw new Error(e+"contains a string greater than "+"10485760 utf8 bytes "+Zn(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(on(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!ca(t)))throw new Error(e+" contains an invalid key ("+t+") "+Zn(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,s;!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ye(t),Qn(e)}(r,t),da(e,n,r),s=(a=r).parts_.pop(),a.byteLength_-=Ye(s),a.parts_.length>0&&(a.byteLength_-=1)})),i&&o)throw new Error(e+' contains ".value" child '+Zn(r)+" in addition to actual children.")}},va=function(e,t,n,r){if(!r||void 0!==t){var i=He(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];on(t,(function(e,t){var r=new zn(e);if(da(i,t,Bn(n,r)),".priority"===Un(r)&&!fa(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Vn(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ca(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Gn);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Xn(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,o)}},ma=function(e,t,n){if(!n||void 0!==t){if(Xt(t))throw new Error(He(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fa(t))throw new Error(He(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ga=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(He(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ya=function(e,t,n,r){if(!(r&&void 0===n||ca(n)))throw new Error(He(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ba=function(e,t,n,r){if(!(r&&void 0===n||ha(n)))throw new Error(He(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},wa=function(e,t){if(".info"===Mn(t))throw new Error(e+" failed = Can't modify data under /.info/")},_a=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ca(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ha(e)}(n))throw new Error(He(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ka=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(He(e,t)+"must be a boolean.")},Ia=function(){this.eventLists_=[],this.recursionDepth_=0};function xa(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Yn(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Ca(e,t,n){xa(e,n),Sa(e,(function(e){return Yn(e,t)}))}function Ta(e,t,n){xa(e,n),Sa(e,(function(e){return Xn(e,t)||Xn(t,e)}))}function Sa(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Ea(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Ea(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Ut&&Bt("event: "+n.toString()),hn(r)}}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var Na="repo_interrupt",Aa=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ia,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ti(),this.transactionQueueTree_=new Qo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function Pa(e,t,n){if(e.stats_=xn(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Zr(e.repoInfo_,(function(t,n,r,i){ja(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return $a(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$e(n)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new ir(e.repoInfo_,t,(function(t,n,r,i){ja(e,t,n,r,i)}),(function(t){$a(e,t)}),(function(t){!function(e,t){on(t,(function(t,n){Da(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}var r,i,o;e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(r=e.repoInfo_,i=function(){return new si(e.stats_,e.server_)},o=r.toString(),In[o]||(In[o]=i()),In[o]),e.infoData_=new ei,e.infoSyncTree_=new Co({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=No(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Da(e,"connected",!1),e.serverSyncTree_=new Co({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);Ta(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Oa(e){var t=e.infoData_.getNode(new zn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Ra(e){return(t=(t={timestamp:Oa(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function ja(e,t,n,r,i){e.dataUpdateCount++;var o=new zn(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var s=Fe(n,(function(e){return Pr(e)}));a=function(e,t,n,r){var i=Fo(e,r);if(i){var o=qo(i),a=o.path,s=o.queryId,u=Kn(a,t),l=ki.fromObject(n);return Uo(e,a,new pi(ui(s),u,l))}return[]}(e.serverSyncTree_,o,s,i)}else{var u=Pr(n);a=function(e,t,n,r){var i=Fo(e,r);if(null!=i){var o=qo(i),a=o.path,s=o.queryId,u=Kn(a,t);return Uo(e,a,new fi(ui(s),u,n))}return[]}(e.serverSyncTree_,o,u,i)}else if(r){var l=Fe(n,(function(e){return Pr(e)}));a=function(e,t,n){var r=ki.fromObject(n);return jo(e,new pi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,l)}else{var c=Pr(n);a=No(e.serverSyncTree_,o,c)}var h=o;a.length>0&&(h=Ka(e,o)),Ta(e.eventQueue_,h,a)}function $a(e,t){Da(e,"connected",t),!1===t&&function(e){Va(e,"onDisconnectEvents");var t=Ra(e),n=ti();ii(e.onDisconnect_,Ln(),(function(r,i){var o=Yo(r,i,e.serverSyncTree_,t);ni(n,r,o)}));var r=[];ii(n,Ln(),(function(t,n){r=r.concat(No(e.serverSyncTree_,t,n));var i=Qa(e,t);Ka(e,i)})),e.onDisconnect_=ti(),Ta(e.eventQueue_,Ln(),r)}(e)}function Da(e,t,n){var r=new zn("/.info/"+t),i=Pr(n);e.infoData_.updateSnapshot(r,i);var o=No(e.infoSyncTree_,r,i);Ta(e.eventQueue_,r,o)}function za(e){return e.nextWriteId_++}function La(e,t,n,r,i){Va(e,"set",{path:t.toString(),value:n,priority:r});var o=Ra(e),a=Pr(n,r),s=Oo(e.serverSyncTree_,t),u=Xo(a,s,o),l=za(e),c=To(e.serverSyncTree_,t,u,l,!0);xa(e.eventQueue_,c),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||Yt("set at "+t+" failed: "+n);var a=Eo(e.serverSyncTree_,l,!o);Ta(e.eventQueue_,t,a),Wa(e,i,n,r)}));var h=Qa(e,t);Ka(e,h),Ta(e.eventQueue_,h,[])}function Ma(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&ri(e.onDisconnect_,t),Wa(e,n,r,i)}))}function Fa(e,t,n,r){var i=Pr(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&ni(e.onDisconnect_,t,i),Wa(e,r,n,o)}))}function qa(e,t,n){var r;r=".info"===Mn(t._path)?Ao(e.infoSyncTree_,t,n):Ao(e.serverSyncTree_,t,n),Ca(e.eventQueue_,t._path,r)}function Ua(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Na)}function Va(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),Bt.apply(void 0,me([r],ve(t)))}function Wa(e,t,n,r){t&&hn((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Ba(e,t,n){return Oo(e.serverSyncTree_,t,n)||Nr.EMPTY_NODE}function Ha(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Ja(e,t),ea(t)){var n=Ya(e,t);be(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ba(e,t,r),o=i,a=i.hash(),s=0;s<n.length;s++){var u=n[s];be(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=Kn(t,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var c=o.val(!0),h=t;e.server_.put(h.toString(),c,(function(r){Va(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(Eo(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Ja(e,Zo(e.transactionQueueTree_,t)),Ha(e,e.transactionQueueTree_),Ta(e.eventQueue_,t,i);for(s=0;s<o.length;s++)hn(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{Yt("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Ka(e,t)}}),a)}(e,oa(t),n)}else na(t)&&ra(t,(function(t){Ha(e,t)}))}function Ka(e,t){var n=Ga(e,t),r=oa(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),a=function(a){var s,u,l=t[a],c=Kn(n,l.path),h=!1;if(be(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,s=l.abortReason,i=i.concat(Eo(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)h=!0,s="maxretry",i=i.concat(Eo(e.serverSyncTree_,l.currentWriteId,!0));else{var f=Ba(e,l.path,o);l.currentInputSnapshot=f;var p=t[a].update(f.val());if(void 0!==p){da("transaction failed: Data returned ",p,l.path);var d=Pr(p);"object"==typeof p&&null!=p&&ze(p,".priority")||(d=d.updatePriority(f.getPriority()));var v=l.currentWriteId,m=Ra(e),g=Xo(d,f,m);l.currentOutputSnapshotRaw=d,l.currentOutputSnapshotResolved=g,l.currentWriteId=za(e),o.splice(o.indexOf(v),1),i=(i=i.concat(To(e.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally))).concat(Eo(e.serverSyncTree_,v,!0))}else h=!0,s="nodata",i=i.concat(Eo(e.serverSyncTree_,l.currentWriteId,!0))}Ta(e.eventQueue_,n,i),i=[],h&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},s=0;s<t.length;s++)a(s);Ja(e,e.transactionQueueTree_);for(s=0;s<r.length;s++)hn(r[s]);Ha(e,e.transactionQueueTree_)}(e,Ya(e,n),r),r}function Ga(e,t){var n,r=e.transactionQueueTree_;for(n=Mn(t);null!==n&&void 0===ea(r);)r=Zo(r,n),n=Mn(t=qn(t));return r}function Ya(e,t){var n=[];return Xa(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Xa(e,t,n){var r=ea(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);ra(t,(function(t){Xa(e,t,n)}))}function Ja(e,t){var n=ea(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,ta(t,n.length>0?n:void 0)}ra(t,(function(t){Ja(e,t)}))}function Qa(e,t){var n=oa(Ga(e,t)),r=Zo(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Za(e,t)})),Za(e,r),ia(r,(function(t){Za(e,t)})),n}function Za(e,t){var n=ea(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(be(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(be(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Eo(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?ta(t,void 0):n.length=o+1,Ta(e.eventQueue_,oa(t),i);for(a=0;a<r.length;a++)hn(r[a])}}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var es=function(e,t){var n=ts(e),r=n.namespace;"firebase.com"===n.domain&&Gt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Gt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Yt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new bn(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new zn(n.pathString)}},ts=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(c,h)));var f=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=de(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var s=a.split("=");2===s.length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Yt("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(l=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var d=t.indexOf(".");r=t.substring(0,d).toLowerCase(),n=t.substring(d+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},ns=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+$e(this.snapshot.exportVal())},e}(),rs=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),is=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return be(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),os=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new Te;return Ma(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){wa("OnDisconnect.remove",this._path);var e=new Te;return Fa(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){wa("OnDisconnect.set",this._path),pa("OnDisconnect.set",e,this._path,!1);var t=new Te;return Fa(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){wa("OnDisconnect.setWithPriority",this._path),pa("OnDisconnect.setWithPriority",e,this._path,!1),ma("OnDisconnect.setWithPriority",t,!1);var n=new Te;return function(e,t,n,r,i){var o=Pr(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&ni(e.onDisconnect_,t,o),Wa(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){wa("OnDisconnect.update",this._path),va("OnDisconnect.update",e,this._path,!1);var t=new Te;return function(e,t,n,r){if(Me(n))return Bt("onDisconnect().update() called with empty data.  Don't do anything."),void Wa(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&on(n,(function(n,r){var i=Pr(r);ni(e.onDisconnect_,Bn(t,n),i)})),Wa(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),as=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Hn(this._path)?null:Un(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new cs(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Qr(this._queryParams),t=nn(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Qr(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Xe(t))instanceof e))return!1;var n=this._repo===t._repo,r=Yn(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function ss(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function us(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===ur){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Jt)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Qt)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Ir){if(null!=t&&!fa(t)||null!=n&&!fa(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(be(e.getIndex()instanceof jr||e.getIndex()===$r,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ls(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var cs=function(e){function t(t,n){return e.call(this,t,n,new Kr,!1)||this}return ce(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Wn(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(as),hs=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new zn(t),r=ds(this.ref,t);return new e(this._node.getChild(n),r,Ir)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,ds(n.ref,r),Ir))}))},e.prototype.hasChild=function(e){var t=new zn(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function fs(e,t){return(e=Xe(e))._checkNotDeleted("ref"),void 0!==t?ds(e._root,t):e._root}function ps(e,t){(e=Xe(e))._checkNotDeleted("refFromURL");var n=es(t,e._repo.repoInfo_.nodeAdmin);_a("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||Gt("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),fs(e,n.path.toString())}function ds(e,t){var n,r,i,o;return null===Mn((e=Xe(e))._path)?(n="child",r="path",o=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ba(n,r,i,o)):ba("child","path",t,!1),new cs(e._repo,Bn(e._path,t))}function vs(e,t){e=Xe(e),wa("push",e._path),pa("push",t,e._path,!0);var n,r=Oa(e._repo),i=zr(r),o=ds(e,i),a=ds(e,i);return n=null!=t?gs(a,t).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),o}function ms(e){return wa("remove",e._path),gs(e,null)}function gs(e,t){e=Xe(e),wa("set",e._path),pa("set",t,e._path,!1);var n=new Te;return La(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function ys(e,t){e=Xe(e),wa("setPriority",e._path),ma("setPriority",t,!1);var n=new Te;return La(e._repo,Bn(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function bs(e,t,n){if(wa("setWithPriority",e._path),pa("setWithPriority",t,e._path,!1),ma("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new Te;return La(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function ws(e,t){va("update",t,e._path,!1);var n=new Te;return function(e,t,n,r){Va(e,"update",{path:t.toString(),value:n});var i=!0,o=Ra(e),a={};if(on(n,(function(n,r){i=!1,a[n]=Yo(Bn(t,n),Pr(r),e.serverSyncTree_,o)})),i)Bt("update() called with empty data.  Don't do anything."),Wa(0,r,"ok",void 0);else{var s=za(e),u=So(e.serverSyncTree_,t,a,s);xa(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||Yt("update at "+t+" failed: "+n);var a=Eo(e.serverSyncTree_,s,!o),u=a.length>0?Ka(e,t):t;Ta(e.eventQueue_,u,a),Wa(0,r,n,i)})),on(n,(function(n){var r=Qa(e,Bn(t,n));Ka(e,r)})),Ta(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function _s(e){return function(e,t){var n=Ro(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=Pr(n).withIndex(t._queryParams.getIndex()),i=No(e.serverSyncTree_,t._path,r);return Ca(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Va(e,"get for query "+$e(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Xe(e))._repo,e).then((function(t){return new hs(t,new cs(e._repo,e._path),e._queryParams.getIndex())}))}var ks=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new ns("value",this,new hs(e.snapshotNode,new cs(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new rs(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),Is=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new rs(this,e,t):null},e.prototype.createEvent=function(e,t){be(null!=e.childName,"Child events should have a childName.");var n=ds(new cs(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new ns(e.type,this,new hs(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function xs(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){qa(e._repo,e,l),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new is(n,o||void 0),l="value"===t?new ks(u):new Is(t,u);return function(e,t,n){var r;r=".info"===Mn(t._path)?Po(e.infoSyncTree_,t,n):Po(e.serverSyncTree_,t,n),Ca(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return qa(e._repo,e,l)}}function Cs(e,t,n,r){return xs(e,"value",t,n,r)}function Ts(e,t,n,r){return xs(e,"child_added",t,n,r)}function Ss(e,t,n,r){return xs(e,"child_changed",t,n,r)}function Es(e,t,n,r){return xs(e,"child_moved",t,n,r)}function Ns(e,t,n,r){return xs(e,"child_removed",t,n,r)}function As(e,t,n){var r=null,i=n?new is(n):null;"value"===t?r=new ks(i):t&&(r=new Is(t,i)),qa(e._repo,e,r)}var Ps=function(){},Os=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return ce(t,e),t.prototype._apply=function(e){pa("endAt",this._value,e._path,!0);var t=Yr(e._queryParams,this._value,this._key);if(ls(t),us(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new as(e._repo,e._path,t,e._orderByCalled)},t}(Ps);function Rs(e,t){return ya("endAt","key",t,!0),new Os(e,t)}var js=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return ce(t,e),t.prototype._apply=function(e){pa("endBefore",this._value,e._path,!1);var t,n,r,i,o=(t=e._queryParams,n=this._value,r=this._key,t.index_===ur?("string"==typeof n&&(n=Mr(n)),i=Yr(t,n,r)):i=Yr(t,n,null==r?Jt:Mr(r)),i.endBeforeSet_=!0,i);if(ls(o),us(o),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new as(e._repo,e._path,o,e._orderByCalled)},t}(Ps);function $s(e,t){return ya("endBefore","key",t,!0),new js(e,t)}var Ds=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return ce(t,e),t.prototype._apply=function(e){pa("startAt",this._value,e._path,!0);var t=Gr(e._queryParams,this._value,this._key);if(ls(t),us(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new as(e._repo,e._path,t,e._orderByCalled)},t}(Ps);function zs(e,t){return void 0===e&&(e=null),ya("startAt","key",t,!0),new Ds(e,t)}var Ls=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return ce(t,e),t.prototype._apply=function(e){pa("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===ur?("string"==typeof t&&(t=Lr(t)),r=Gr(e,t,n)):r=Gr(e,t,null==n?Qt:Lr(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(ls(t),us(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new as(e._repo,e._path,t,e._orderByCalled)},t}(Ps);function Ms(e,t){return ya("startAfter","key",t,!0),new Ls(e,t)}var Fs=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return ce(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new as(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),e._orderByCalled);var t,n,r},t}(Ps);function qs(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Fs(e)}var Us=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return ce(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new as(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),e._orderByCalled);var t,n,r},t}(Ps);function Vs(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Us(e)}var Ws=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return ce(t,e),t.prototype._apply=function(e){ss(e,"orderByChild");var t=new zn(this._path);if(Hn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new jr(t),r=Xr(e._queryParams,n);return us(r),new as(e._repo,e._path,r,!0)},t}(Ps);function Bs(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ba("orderByChild","path",e,!1),new Ws(e)}var Hs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ce(t,e),t.prototype._apply=function(e){ss(e,"orderByKey");var t=Xr(e._queryParams,ur);return us(t),new as(e._repo,e._path,t,!0)},t}(Ps);function Ks(){return new Hs}var Gs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ce(t,e),t.prototype._apply=function(e){ss(e,"orderByPriority");var t=Xr(e._queryParams,Ir);return us(t),new as(e._repo,e._path,t,!0)},t}(Ps);function Ys(){return new Gs}var Xs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ce(t,e),t.prototype._apply=function(e){ss(e,"orderByValue");var t=Xr(e._queryParams,$r);return us(t),new as(e._repo,e._path,t,!0)},t}(Ps);function Js(){return new Xs}var Qs=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return ce(t,e),t.prototype._apply=function(e){if(pa("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Os(this._value,this._key)._apply(new Ds(this._value,this._key)._apply(e))},t}(Ps);function Zs(e,t){return ya("equalTo","key",t,!0),new Qs(e,t)}function eu(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=Xe(e);try{for(var a=de(r),s=a.next();!s.done;s=a.next()){var u=s.value;o=u._apply(o)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}!function(e){be(!io,"__referenceConstructor has already been defined"),io=e}(cs),function(e){be(!ho,"__referenceConstructor has already been defined"),ho=e}(cs);
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var tu={},nu=!1;function ru(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Gt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Bt("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=es(o,i),u=s.repoInfo,l=void 0;"undefined"!=typeof process&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(a=!0,o="http://"+l+"?ns="+u.namespace,u=(s=es(o,i)).repoInfo):a=!s.repoInfo.secure;var c=i&&a?new vn(vn.OWNER):new dn(e.name,e.options,t);_a("Invalid Firebase Database URL",s),Hn(s.path)||Gt("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=tu[t.name];i||(i={},tu[t.name]=i);var o=i[e.toURLString()];o&&Gt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new Aa(e,nu,n,r),i[e.toURLString()]=o,o}(u,e,c,new pn(e.name,n));return new iu(h,e)}var iu=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(Pa(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new cs(this._repo,Ln())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){var e,t,n;return null!==this._rootInternal&&(e=this._repo,t=this.app.name,(n=tu[t])&&n[e.key]===e||Gt("Database "+t+"("+e.repoInfo_+") has already been deleted."),Ua(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&Gt("Cannot call "+e+" on a deleted database.")},e}();function ou(e,t,n,r){void 0===r&&(r={}),(e=Xe(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Gt("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,o=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Gt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new vn(vn.OWNER);else if(r.mockUserToken){var a=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=he({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ke.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),ke.encodeString(JSON.stringify(o),!1),""].join(".")}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */(r.mockUserToken,e.app.options.projectId);o=new vn(a)}!function(e,t,n,r){e.repoInfo_=new bn(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,o)}function au(e){(e=Xe(e))._checkNotDeleted("goOffline"),Ua(e._repo)}function su(e){var t;(e=Xe(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Na)}
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var uu={".sv":"timestamp"};
/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
var lu=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function cu(e,t,n){var r;if(e=Xe(e),wa("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new Te,a=Cs(e,(function(){}));return function(e,t,n,r,i,o){Va(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:Mt(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Ba(e,t,void 0);a.currentInputSnapshot=s;var u=a.update(s.val());if(void 0===u)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{da("transaction failed: Data returned ",u,a.path),a.status=0;var l=Zo(e.transactionQueueTree_,t),c=ea(l)||[];c.push(a),ta(l,c);var h=void 0;"object"==typeof u&&null!==u&&ze(u,".priority")?(h=Le(u,".priority"),be(fa(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(Oo(e.serverSyncTree_,t)||Nr.EMPTY_NODE).getPriority().val();var f=Ra(e),p=Pr(u,h),d=Xo(p,s,f);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=d,a.currentWriteId=za(e);var v=To(e.serverSyncTree_,t,d,a.currentWriteId,a.applyLocally);Ta(e.eventQueue_,t,v),Ha(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?o.reject(t):(i=new hs(r,new cs(e._repo,e._path),Ir),o.resolve(new lu(n,i)))}),a,i),o.promise}
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var hu=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Be("OnDisconnect.cancel",0,1,arguments.length),Ke("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){Be("OnDisconnect.remove",0,1,arguments.length),Ke("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){Be("OnDisconnect.set",1,2,arguments.length),Ke("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){Be("OnDisconnect.setWithPriority",2,3,arguments.length),Ke("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(Be("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Yt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ke("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),fu=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Be("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),pu=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Be("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Be("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Be("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Be("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Be("DataSnapshot.child",0,1,arguments.length),t=String(t),ba("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Be("DataSnapshot.hasChild",1,1,arguments.length),ba("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Be("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Be("DataSnapshot.forEach",1,1,arguments.length),Ke("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return Be("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Be("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Be("DataSnapshot.ref",0,0,arguments.length),new vu(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),du=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var o,a=this;Be("Query.on",2,4,arguments.length),Ke("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new pu(a.database,e),t)};u.userCallback=n,u.context=s.context;var l=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return Cs(this._delegate,u,l),n;case"child_added":return Ts(this._delegate,u,l),n;case"child_removed":return Ns(this._delegate,u,l),n;case"child_changed":return Ss(this._delegate,u,l),n;case"child_moved":return Es(this._delegate,u,l),n;default:throw new Error(He("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Be("Query.off",0,3,arguments.length),ga("Query.off",e,!0),Ke("Query.off","callback",t,!0),Ge("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,As(this._delegate,e,r)}else As(this._delegate,e)},e.prototype.get=function(){var e=this;return _s(this._delegate).then((function(t){return new pu(e.database,t)}))},e.prototype.once=function(t,n,r,i){var o=this;Be("Query.once",1,4,arguments.length),Ke("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),s=new Te,u=function(e,t){var r=new pu(o.database,e);n&&n.call(a.context,r,t),s.resolve(r)};u.userCallback=n,u.context=a.context;var l=function(e){a.cancel&&a.cancel.call(a.context,e),s.reject(e)};switch(t){case"value":Cs(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":Ts(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":Ns(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":Ss(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":Es(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(He("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise},e.prototype.limitToFirst=function(t){return Be("Query.limitToFirst",1,1,arguments.length),new e(this.database,eu(this._delegate,qs(t)))},e.prototype.limitToLast=function(t){return Be("Query.limitToLast",1,1,arguments.length),new e(this.database,eu(this._delegate,Vs(t)))},e.prototype.orderByChild=function(t){return Be("Query.orderByChild",1,1,arguments.length),new e(this.database,eu(this._delegate,Bs(t)))},e.prototype.orderByKey=function(){return Be("Query.orderByKey",0,0,arguments.length),new e(this.database,eu(this._delegate,Ks()))},e.prototype.orderByPriority=function(){return Be("Query.orderByPriority",0,0,arguments.length),new e(this.database,eu(this._delegate,Ys()))},e.prototype.orderByValue=function(){return Be("Query.orderByValue",0,0,arguments.length),new e(this.database,eu(this._delegate,Js()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Be("Query.startAt",0,2,arguments.length),new e(this.database,eu(this._delegate,zs(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Be("Query.startAfter",0,2,arguments.length),new e(this.database,eu(this._delegate,Ms(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Be("Query.endAt",0,2,arguments.length),new e(this.database,eu(this._delegate,Rs(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Be("Query.endBefore",0,2,arguments.length),new e(this.database,eu(this._delegate,$s(t,n)))},e.prototype.equalTo=function(t,n){return Be("Query.equalTo",1,2,arguments.length),new e(this.database,eu(this._delegate,Zs(t,n)))},e.prototype.toString=function(){return Be("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Be("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Be("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Ke(e,"cancel",r.cancel,!0),r.context=n,Ge(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(He(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new vu(this.database,new cs(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),vu=function(e){function t(t,n){var r=e.call(this,t,new as(n._repo,n._path,new Kr,!1))||this;return r.database=t,r._delegate=n,r}return ce(t,e),t.prototype.getKey=function(){return Be("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Be("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,ds(this._delegate,e))},t.prototype.getParent=function(){Be("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Be("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Be("Reference.set",1,2,arguments.length),Ke("Reference.set","onComplete",t,!0);var n=gs(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(Be("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,Yt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}wa("Reference.update",this._delegate._path),Ke("Reference.update","onComplete",t,!0);var i=ws(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){Be("Reference.setWithPriority",2,3,arguments.length),Ke("Reference.setWithPriority","onComplete",n,!0);var r=bs(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){Be("Reference.remove",0,1,arguments.length),Ke("Reference.remove","onComplete",e,!0);var t=ms(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;Be("Reference.transaction",1,3,arguments.length),Ke("Reference.transaction","transactionUpdate",e,!1),Ke("Reference.transaction","onComplete",t,!0),ka("Reference.transaction","applyLocally",n,!0);var i=cu(this._delegate,e,{applyLocally:n}).then((function(e){return new fu(e.committed,new pu(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){Be("Reference.setPriority",1,2,arguments.length),Ke("Reference.setPriority","onComplete",t,!0);var n=ys(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;Be("Reference.push",0,2,arguments.length),Ke("Reference.push","onComplete",n,!0);var i=vs(this._delegate,e),o=i.then((function(e){return new t(r.database,e)}));n&&o.then((function(){return n(null)}),(function(e){return n(e)}));var a=new t(this.database,i);return a.then=o.then.bind(o),a.catch=o.catch.bind(o,void 0),a},t.prototype.onDisconnect=function(){return wa("Reference.onDisconnect",this._delegate._path),new hu(new os(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(du),mu=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),ou(this._delegate,e,t,n)},e.prototype.ref=function(e){if(Be("database.ref",0,1,arguments.length),e instanceof vu){var t=ps(this._delegate,e.toString());return new vu(this,t)}t=fs(this._delegate,e);return new vu(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";Be(t,1,1,arguments.length);var n=ps(this._delegate,e);return new vu(this,n)},e.prototype.goOffline=function(){return Be("database.goOffline",0,0,arguments.length),au(this._delegate)},e.prototype.goOnline=function(){return Be("database.goOnline",0,0,arguments.length),su(this._delegate)},e.ServerValue={TIMESTAMP:uu,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */var gu=Object.freeze({__proto__:null,forceLongPolling:function(){Pn.forceDisallow(),En.forceAllow()},forceWebSockets:function(){En.forceDisallow()},isWebSocketsAvailable:function(){return Pn.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var n;t?(e.statsListener_||(e.statsListener_=new ai(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);on(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,a=e.nodeAdmin,s=void 0!==a&&a;Pt(r);var u=new Ze("auth-internal",new tt("database-standalone"));return u.setComponent(new Je("auth-internal",(function(){return i}),"PRIVATE")),{instance:new mu(ru(t,u,void 0,n,s),t),namespace:o}}}),yu=ir;
/**
     * @license
     * Copyright 2017 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */ir.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},ir.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var bu=Rn,wu=bn,_u=Object.freeze({__proto__:null,DataConnection:yu,RealTimeConnection:bu,hijackHash:function(e){var t=ir.prototype.put;return ir.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){ir.prototype.put=t}},ConnectionTarget:wu,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){nu=e}(e)}}),ku=mu.ServerValue;function Iu(e){b(e,"svelte-3zjr5v",".h-4.svelte-3zjr5v{height:1rem\n}.w-4.svelte-3zjr5v{width:1rem\n}")}function xu(t){let n,r,i,o;return{c(){n=x("svg"),r=x("path"),i=x("polyline"),o=x("line"),N(r,"d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"),N(i,"points","16 17 21 12 16 7"),N(o,"x1","21"),N(o,"y1","12"),N(o,"x2","9"),N(o,"y2","12"),N(n,"xmlns","http://www.w3.org/2000/svg"),N(n,"width","24"),N(n,"height","24"),N(n,"viewBox","0 0 24 24"),N(n,"fill","none"),N(n,"stroke","currentColor"),N(n,"stroke-width","2"),N(n,"stroke-linecap","round"),N(n,"stroke-linejoin","round"),N(n,"class","h-4 w-4 svelte-3zjr5v")},m(e,t){w(e,n,t),y(n,r),y(n,i),y(n,o)},p:e,i:e,o:e,d(e){e&&_(n)}}}!function(e){Pt(e.SDK_VERSION),e.INTERNAL.registerComponent(new Je("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new mu(ru(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:vu,Query:du,Database:mu,DataSnapshot:pu,enableLogging:Wt,INTERNAL:gu,ServerValue:ku,TEST_ACCESS:_u}).setMultipleInstances(!0)),e.registerVersion("@firebase/database","0.10.9")}(Ct);class Cu extends ue{constructor(e){super(),se(this,e,null,xu,a,{},Iu)}}var Tu=function(e){var t=e.map((function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})),n={},r={};e.forEach((function(e,i){n[e]=t[i],r[t[i]]=e}));var i=new RegExp("["+(e.join("").replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")+"]"),"g"),o=new RegExp(t.join("|"),"g");return{encode:function(e){return e.replace(i,(function(e){return n[e]}))},decode:function(e){return e.replace(o,(function(e){return r[e]}))}}},Su=Tu(".$[]#/%".split("")),Eu=Su.encode;Su.decode;var Nu=Tu(".$[]#%".split(""));Nu.encode,Nu.decode;var Au=Eu;function Pu(e){b(e,"svelte-p8darm",'.svelte-p8darm.svelte-p8darm,.svelte-p8darm.svelte-p8darm::before,.svelte-p8darm.svelte-p8darm::after{box-sizing:border-box}button.svelte-p8darm.svelte-p8darm{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button.svelte-p8darm.svelte-p8darm{text-transform:none}button.svelte-p8darm.svelte-p8darm,[type=\'button\'].svelte-p8darm.svelte-p8darm{-webkit-appearance:button}.svelte-p8darm.svelte-p8darm::-moz-focus-inner{border-style:none;padding:0}.svelte-p8darm.svelte-p8darm:-moz-focusring{outline:1px dotted ButtonText}.svelte-p8darm.svelte-p8darm:-moz-ui-invalid{box-shadow:none}.svelte-p8darm.svelte-p8darm::-webkit-inner-spin-button,.svelte-p8darm.svelte-p8darm::-webkit-outer-spin-button{height:auto}.svelte-p8darm.svelte-p8darm::-webkit-search-decoration{-webkit-appearance:none}.svelte-p8darm.svelte-p8darm::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}button.svelte-p8darm.svelte-p8darm{background-color:transparent;background-image:none}.svelte-p8darm.svelte-p8darm,.svelte-p8darm.svelte-p8darm::before,.svelte-p8darm.svelte-p8darm::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}button.svelte-p8darm.svelte-p8darm{cursor:pointer}button.svelte-p8darm.svelte-p8darm{padding:0;line-height:inherit;color:inherit}.svelte-p8darm.svelte-p8darm,.svelte-p8darm.svelte-p8darm::before,.svelte-p8darm.svelte-p8darm::after{--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59, 130, 246, 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-blur:var(--tw-empty,/*!*/ /*!*/);--tw-brightness:var(--tw-empty,/*!*/ /*!*/);--tw-contrast:var(--tw-empty,/*!*/ /*!*/);--tw-grayscale:var(--tw-empty,/*!*/ /*!*/);--tw-hue-rotate:var(--tw-empty,/*!*/ /*!*/);--tw-invert:var(--tw-empty,/*!*/ /*!*/);--tw-saturate:var(--tw-empty,/*!*/ /*!*/);--tw-sepia:var(--tw-empty,/*!*/ /*!*/);--tw-drop-shadow:var(--tw-empty,/*!*/ /*!*/);--tw-filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.form-input.svelte-p8darm.svelte-p8darm,.form-textarea.svelte-p8darm.svelte-p8darm,.form-select.svelte-p8darm.svelte-p8darm,.form-multiselect.svelte-p8darm.svelte-p8darm{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#6b7280;border-width:1px;border-radius:0px;padding-top:0.5rem;padding-right:0.75rem;padding-bottom:0.5rem;padding-left:0.75rem;font-size:1rem;line-height:1.5rem}.form-input.svelte-p8darm.svelte-p8darm:focus,.form-textarea.svelte-p8darm.svelte-p8darm:focus,.form-select.svelte-p8darm.svelte-p8darm:focus,.form-multiselect.svelte-p8darm.svelte-p8darm:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#2563eb;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);border-color:#2563eb}.form-input.svelte-p8darm.svelte-p8darm::-moz-placeholder,.form-textarea.svelte-p8darm.svelte-p8darm::-moz-placeholder{color:#6b7280;opacity:1}.form-input.svelte-p8darm.svelte-p8darm:-ms-input-placeholder,.form-textarea.svelte-p8darm.svelte-p8darm:-ms-input-placeholder{color:#6b7280;opacity:1}.form-input.svelte-p8darm.svelte-p8darm::placeholder,.form-textarea.svelte-p8darm.svelte-p8darm::placeholder{color:#6b7280;opacity:1}.prose.svelte-p8darm.svelte-p8darm{color:#374151;max-width:65ch}.prose.svelte-p8darm.svelte-p8darm{font-size:1rem;line-height:1.75}.prose.svelte-p8darm>.svelte-p8darm:first-child{margin-top:0}.prose.svelte-p8darm>.svelte-p8darm:last-child{margin-bottom:0}.mx-auto.svelte-p8darm.svelte-p8darm{margin-left:auto;margin-right:auto}.my-16.svelte-p8darm.svelte-p8darm{margin-top:4rem;margin-bottom:4rem}.mt-4.svelte-p8darm.svelte-p8darm{margin-top:1rem}.mt-6.svelte-p8darm.svelte-p8darm{margin-top:1.5rem}.mb-2.svelte-p8darm.svelte-p8darm{margin-bottom:0.5rem}.mt-3.svelte-p8darm.svelte-p8darm{margin-top:0.75rem}.mr-2.svelte-p8darm.svelte-p8darm{margin-right:0.5rem}.flex.svelte-p8darm.svelte-p8darm{display:flex}.h-9.svelte-p8darm.svelte-p8darm{height:2.25rem}.h-28.svelte-p8darm.svelte-p8darm{height:7rem}.h-12.svelte-p8darm.svelte-p8darm{height:3rem}.h-6.svelte-p8darm.svelte-p8darm{height:1.5rem}.h-4.svelte-p8darm.svelte-p8darm{height:1rem}.w-full.svelte-p8darm.svelte-p8darm{width:100%}.w-3\\/4.svelte-p8darm.svelte-p8darm{width:75%}.w-12.svelte-p8darm.svelte-p8darm{width:3rem}.w-6.svelte-p8darm.svelte-p8darm{width:1.5rem}.w-4.svelte-p8darm.svelte-p8darm{width:1rem}.max-w-none.svelte-p8darm.svelte-p8darm{max-width:none}.flex-grow.svelte-p8darm.svelte-p8darm{flex-grow:1}.flex-col.svelte-p8darm.svelte-p8darm{flex-direction:column}.items-center.svelte-p8darm.svelte-p8darm{align-items:center}.justify-end.svelte-p8darm.svelte-p8darm{justify-content:flex-end}.gap-10.svelte-p8darm.svelte-p8darm{gap:2.5rem}.gap-2.svelte-p8darm.svelte-p8darm{gap:0.5rem}.gap-4.svelte-p8darm.svelte-p8darm{gap:1rem}.self-end.svelte-p8darm.svelte-p8darm{align-self:flex-end}.rounded-md.svelte-p8darm.svelte-p8darm{border-radius:0.375rem}.rounded-full.svelte-p8darm.svelte-p8darm{border-radius:9999px}.\\!rounded-lg.svelte-p8darm.svelte-p8darm{border-radius:0.5rem !important}.border-gray-300.svelte-p8darm.svelte-p8darm{--tw-border-opacity:1;border-color:rgba(209, 213, 219, var(--tw-border-opacity))}.bg-gray-100.svelte-p8darm.svelte-p8darm{--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity))}.bg-primary-100.svelte-p8darm.svelte-p8darm{--tw-bg-opacity:1;background-color:rgba(224, 242, 254, var(--tw-bg-opacity))}.bg-primary-50.svelte-p8darm.svelte-p8darm{--tw-bg-opacity:1;background-color:rgba(240, 249, 255, var(--tw-bg-opacity))}.\\!bg-primary-200.svelte-p8darm.svelte-p8darm{--tw-bg-opacity:1 !important;background-color:rgba(186, 230, 253, var(--tw-bg-opacity)) !important}.\\!bg-white.svelte-p8darm.svelte-p8darm{--tw-bg-opacity:1 !important;background-color:rgba(255, 255, 255, var(--tw-bg-opacity)) !important}.bg-gradient-to-r.svelte-p8darm.svelte-p8darm{background-image:linear-gradient(to right, var(--tw-gradient-stops))}.from-primary-100.svelte-p8darm.svelte-p8darm{--tw-gradient-from:#e0f2fe;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(224, 242, 254, 0))}.via-blue-100.svelte-p8darm.svelte-p8darm{--tw-gradient-stops:var(--tw-gradient-from), #dbeafe, var(--tw-gradient-to, rgba(219, 234, 254, 0))}.to-purple-100.svelte-p8darm.svelte-p8darm{--tw-gradient-to:#ede9fe}.py-1.svelte-p8darm.svelte-p8darm{padding-top:0.25rem;padding-bottom:0.25rem}.px-6.svelte-p8darm.svelte-p8darm{padding-left:1.5rem;padding-right:1.5rem}.py-4.svelte-p8darm.svelte-p8darm{padding-top:1rem;padding-bottom:1rem}.px-4.svelte-p8darm.svelte-p8darm{padding-left:1rem;padding-right:1rem}.px-2.svelte-p8darm.svelte-p8darm{padding-left:0.5rem;padding-right:0.5rem}.py-2.svelte-p8darm.svelte-p8darm{padding-top:0.5rem;padding-bottom:0.5rem}.\\!px-3.svelte-p8darm.svelte-p8darm{padding-left:0.75rem !important;padding-right:0.75rem !important}.\\!py-1\\.5.svelte-p8darm.svelte-p8darm{padding-top:0.375rem !important;padding-bottom:0.375rem !important}.\\!py-1.svelte-p8darm.svelte-p8darm{padding-top:0.25rem !important;padding-bottom:0.25rem !important}.font-sans.svelte-p8darm.svelte-p8darm{font-family:ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"}.text-3xl.svelte-p8darm.svelte-p8darm{font-size:1.875rem;line-height:2.25rem}.text-2xl.svelte-p8darm.svelte-p8darm{font-size:1.5rem;line-height:2rem}.text-base.svelte-p8darm.svelte-p8darm{font-size:1rem;line-height:1.5rem}.text-lg.svelte-p8darm.svelte-p8darm{font-size:1.125rem;line-height:1.75rem}.font-bold.svelte-p8darm.svelte-p8darm{font-weight:700}.font-medium.svelte-p8darm.svelte-p8darm{font-weight:500}.font-normal.svelte-p8darm.svelte-p8darm{font-weight:400}.font-semibold.svelte-p8darm.svelte-p8darm{font-weight:600}.text-primary-600.svelte-p8darm.svelte-p8darm{--tw-text-opacity:1;color:rgba(2, 132, 199, var(--tw-text-opacity))}.text-primary-900.svelte-p8darm.svelte-p8darm{--tw-text-opacity:1;color:rgba(12, 74, 110, var(--tw-text-opacity))}.text-gray-600.svelte-p8darm.svelte-p8darm{--tw-text-opacity:1;color:rgba(75, 85, 99, var(--tw-text-opacity))}.text-primary-800.svelte-p8darm.svelte-p8darm{--tw-text-opacity:1;color:rgba(7, 89, 133, var(--tw-text-opacity))}.text-gray-400.svelte-p8darm.svelte-p8darm{--tw-text-opacity:1;color:rgba(156, 163, 175, var(--tw-text-opacity))}.text-red-600.svelte-p8darm.svelte-p8darm{--tw-text-opacity:1;color:rgba(220, 38, 38, var(--tw-text-opacity))}.text-pink-600.svelte-p8darm.svelte-p8darm{--tw-text-opacity:1;color:rgba(219, 39, 119, var(--tw-text-opacity))}.\\!ring-1.svelte-p8darm.svelte-p8darm{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color) !important;--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color) !important;box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000) !important}.\\!ring-primary-500.svelte-p8darm.svelte-p8darm{--tw-ring-opacity:1 !important;--tw-ring-color:rgba(14, 165, 233, var(--tw-ring-opacity)) !important}.filter.svelte-p8darm.svelte-p8darm{filter:var(--tw-filter)}.hover\\:bg-primary-100.svelte-p8darm.svelte-p8darm:hover{--tw-bg-opacity:1;background-color:rgba(224, 242, 254, var(--tw-bg-opacity))}.hover\\:bg-primary-200.svelte-p8darm.svelte-p8darm:hover{--tw-bg-opacity:1;background-color:rgba(186, 230, 253, var(--tw-bg-opacity))}.hover\\:bg-red-100\\/60.svelte-p8darm.svelte-p8darm:hover{background-color:rgba(254, 226, 226, 0.6)}.hover\\:bg-pink-100\\/60.svelte-p8darm.svelte-p8darm:hover{background-color:rgba(252, 231, 243, 0.6)}.hover\\:\\!bg-primary-100.svelte-p8darm.svelte-p8darm:hover{--tw-bg-opacity:1 !important;background-color:rgba(224, 242, 254, var(--tw-bg-opacity)) !important}.hover\\:\\!bg-primary-50.svelte-p8darm.svelte-p8darm:hover{--tw-bg-opacity:1 !important;background-color:rgba(240, 249, 255, var(--tw-bg-opacity)) !important}.hover\\:from-primary-200.svelte-p8darm.svelte-p8darm:hover{--tw-gradient-from:#bae6fd;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(186, 230, 253, 0))}.hover\\:via-blue-200.svelte-p8darm.svelte-p8darm:hover{--tw-gradient-stops:var(--tw-gradient-from), #bfdbfe, var(--tw-gradient-to, rgba(191, 219, 254, 0))}.hover\\:to-purple-200.svelte-p8darm.svelte-p8darm:hover{--tw-gradient-to:#ddd6fe}.hover\\:\\!shadow-md.svelte-p8darm.svelte-p8darm:hover{--tw-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow) !important}.hover\\:\\!ring-2.svelte-p8darm.svelte-p8darm:hover{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color) !important;--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color) !important;box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000) !important}.disabled\\:cursor-not-allowed.svelte-p8darm.svelte-p8darm:disabled{cursor:not-allowed}.disabled\\:bg-gray-100.svelte-p8darm.svelte-p8darm:disabled{--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity))}.disabled\\:text-gray-600.svelte-p8darm.svelte-p8darm:disabled{--tw-text-opacity:1;color:rgba(75, 85, 99, var(--tw-text-opacity))}.disabled\\:saturate-50.svelte-p8darm.svelte-p8darm:disabled{--tw-saturate:saturate(.5);filter:var(--tw-filter)}.disabled\\:hover\\:bg-gray-100.svelte-p8darm.svelte-p8darm:disabled:hover{--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity))}.disabled\\:hover\\:from-primary-100.svelte-p8darm.svelte-p8darm:disabled:hover{--tw-gradient-from:#e0f2fe;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(224, 242, 254, 0))}.disabled\\:hover\\:via-blue-100.svelte-p8darm.svelte-p8darm:disabled:hover{--tw-gradient-stops:var(--tw-gradient-from), #dbeafe, var(--tw-gradient-to, rgba(219, 234, 254, 0))}')}function Ou(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function Ru(e,t){let n,r,i,o,a,s,u,l,c,h=t[17]+"",f=(t[4]?"-":t[3][t[17]])+"";function p(){return t[8](t[17])}return{key:e,first:null,c(){n=I("button"),r=I("span"),i=C(h),o=T(),a=C(f),s=T(),N(r,"class","mr-2 svelte-p8darm"),N(n,"type","button"),N(n,"class",u=g((t[2].includes(t[17])?"!bg-primary-200 hover:!bg-primary-100":"!bg-white hover:!bg-primary-50")+" !px-3 !py-1.5 !rounded-lg !ring-1 !ring-primary-500 hover:!ring-2 hover:!shadow-md")+" svelte-p8darm"),this.first=n},m(e,t){w(e,n,t),y(n,r),y(r,i),y(n,o),y(n,a),y(n,s),l||(c=E(n,"click",p),l=!0)},p(e,r){t=e,1&r&&h!==(h=t[17]+"")&&A(i,h),25&r&&f!==(f=(t[4]?"-":t[3][t[17]])+"")&&A(a,f),5&r&&u!==(u=g((t[2].includes(t[17])?"!bg-primary-200 hover:!bg-primary-100":"!bg-white hover:!bg-primary-50")+" !px-3 !py-1.5 !rounded-lg !ring-1 !ring-primary-500 hover:!ring-2 hover:!shadow-md")+" svelte-p8darm")&&N(n,"class",u)},d(e){e&&_(n),l=!1,c()}}}function ju(t){let n,r=[],i=new Map,o=t[0];const a=e=>e[19];for(let e=0;e<o.length;e+=1){let n=Ou(t,o,e),s=a(n);i.set(s,r[e]=Ru(s,n))}return{c(){n=I("div");for(let e=0;e<r.length;e+=1)r[e].c();N(n,"class","flex gap-4 text-2xl mt-3 svelte-p8darm")},m(e,t){w(e,n,t);for(let e=0;e<r.length;e+=1)r[e].m(n,null)},p(e,[t]){61&t&&(o=e[0],r=ee(r,t,a,1,e,o,i,n,Q,Ru,null,Ou))},i:e,o:e,d(e){e&&_(n);for(let e=0;e<r.length;e+=1)r[e].d()}}}function $u(t,n,r){let i,o=e;t.$$.on_destroy.push((()=>o()));let a,s,u,{reactions:l=["😭","😕","😀","🤩"]}=n,{page:h=(window.location.pathname.endsWith("/")?window.location.pathname:window.location.pathname+"/")}=n;try{const e=Nt();a=e.authStore,o(),o=c(a,(e=>r(7,i=e))),s=e.loginWithGoogle,u=e.logout}catch(e){throw e}const f=Ct.database();let p=[],d={};l.forEach((e=>r(3,d[e]=0,d)));let v=!0,m=!0;const g=e=>{!i.user||m||v||(p.includes(e)?(async e=>{r(2,p=p.filter((t=>t!==e))),r(3,d[e]--,d),r(3,d={...d});const t=`posts/${Au(h)}/reactions`,n=`users/activity/${i.user.uid}/${Au(h)}/reactions`,o={};o[`${t}/count/${e}`]=Ct.database.ServerValue.increment(-1),o[`${t}/users/${e}/${i.user.uid}`]=null,o[`${n}/${e}`]=null,f.ref().update(o)})(e):(async e=>{r(2,p=[...p,e]),r(3,d[e]++,d),r(3,d={...d});const t=`posts/${Au(h)}/reactions`,n=`users/activity/${i.user.uid}/${Au(h)}/reactions`,o={};o[`${t}/count/${e}`]=Ct.database.ServerValue.increment(1),o[`${t}/users/${e}/${i.user.uid}`]=!0,o[`${n}/${e}`]=!0,f.ref().update(o)})(e))};return t.$$set=e=>{"reactions"in e&&r(0,l=e.reactions),"page"in e&&r(6,h=e.page)},t.$$.update=()=>{192&t.$$.dirty&&(f.ref(`posts/${Au(h)}/reactions/count`).once("value").then((e=>e.val())).then((e=>(e=>{Object.entries(e).forEach((([e,t])=>{r(3,d[e]=t,d)})),r(4,m=!1)})(e??{}))),i.user?f.ref(`users/activity/${i.user.uid}/${Au(h)}/reactions`).once("value").then((e=>e.val())).then((e=>(e=>{r(2,p=Object.keys(e)),v=!1})(e??{}))):r(2,p=[]))},[l,a,p,d,m,g,h,i,e=>g(e)]}class Du extends ue{constructor(e){super(),se(this,e,$u,ju,a,{reactions:0,page:6},Pu)}}var zu="en",Lu={},Mu={};function Fu(){return zu}function qu(e){return Lu[e]?e:Mu[e.toLowerCase()]?Mu[e.toLowerCase()]:void 0}function Uu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.localeMatcher||"lookup";switch(n){case"lookup":case"best fit":return Vu(e);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(n))}}function Vu(e){var t=qu(e);if(t)return t;for(var n=e.split("-");e.length>1;){n.pop();var r=qu(e=n.join("-"));if(r)return r}}var Wu={af:function(e){return 1==e?"one":"other"},am:function(e){return e>=0&&e<=1?"one":"other"},ar:function(e){var t=String(e).split("."),n=Number(t[0])==e&&t[0].slice(-2);return 0==e?"zero":1==e?"one":2==e?"two":n>=3&&n<=10?"few":n>=11&&n<=99?"many":"other"},ast:function(e){var t=!String(e).split(".")[1];return 1==e&&t?"one":"other"},be:function(e){var t=String(e).split("."),n=Number(t[0])==e,r=n&&t[0].slice(-1),i=n&&t[0].slice(-2);return 1==r&&11!=i?"one":r>=2&&r<=4&&(i<12||i>14)?"few":n&&0==r||r>=5&&r<=9||i>=11&&i<=14?"many":"other"},br:function(e){var t=String(e).split("."),n=Number(t[0])==e,r=n&&t[0].slice(-1),i=n&&t[0].slice(-2),o=n&&t[0].slice(-6);return 1==r&&11!=i&&71!=i&&91!=i?"one":2==r&&12!=i&&72!=i&&92!=i?"two":(3==r||4==r||9==r)&&(i<10||i>19)&&(i<70||i>79)&&(i<90||i>99)?"few":0!=e&&n&&0==o?"many":"other"},bs:function(e){var t=String(e).split("."),n=t[0],r=t[1]||"",i=!t[1],o=n.slice(-1),a=n.slice(-2),s=r.slice(-1),u=r.slice(-2);return i&&1==o&&11!=a||1==s&&11!=u?"one":i&&o>=2&&o<=4&&(a<12||a>14)||s>=2&&s<=4&&(u<12||u>14)?"few":"other"},cs:function(e){var t=String(e).split("."),n=t[0],r=!t[1];return 1==e&&r?"one":n>=2&&n<=4&&r?"few":r?"other":"many"},cy:function(e){return 0==e?"zero":1==e?"one":2==e?"two":3==e?"few":6==e?"many":"other"},da:function(e){var t=String(e).split("."),n=t[0],r=Number(t[0])==e;return 1!=e&&(r||0!=n&&1!=n)?"other":"one"},dsb:function(e){var t=String(e).split("."),n=t[0],r=t[1]||"",i=!t[1],o=n.slice(-2),a=r.slice(-2);return i&&1==o||1==a?"one":i&&2==o||2==a?"two":i&&(3==o||4==o)||3==a||4==a?"few":"other"},dz:function(e){return"other"},fil:function(e){var t=String(e).split("."),n=t[0],r=t[1]||"",i=!t[1],o=n.slice(-1),a=r.slice(-1);return i&&(1==n||2==n||3==n)||i&&4!=o&&6!=o&&9!=o||!i&&4!=a&&6!=a&&9!=a?"one":"other"},fr:function(e){return e>=0&&e<2?"one":"other"},ga:function(e){var t=String(e).split("."),n=Number(t[0])==e;return 1==e?"one":2==e?"two":n&&e>=3&&e<=6?"few":n&&e>=7&&e<=10?"many":"other"},gd:function(e){var t=String(e).split("."),n=Number(t[0])==e;return 1==e||11==e?"one":2==e||12==e?"two":n&&e>=3&&e<=10||n&&e>=13&&e<=19?"few":"other"},he:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=Number(t[0])==e,o=i&&t[0].slice(-1);return 1==e&&r?"one":2==n&&r?"two":r&&(e<0||e>10)&&i&&0==o?"many":"other"},is:function(e){var t=String(e).split("."),n=t[0],r=Number(t[0])==e,i=n.slice(-1),o=n.slice(-2);return r&&1==i&&11!=o||!r?"one":"other"},ksh:function(e){return 0==e?"zero":1==e?"one":"other"},lt:function(e){var t=String(e).split("."),n=t[1]||"",r=Number(t[0])==e,i=r&&t[0].slice(-1),o=r&&t[0].slice(-2);return 1==i&&(o<11||o>19)?"one":i>=2&&i<=9&&(o<11||o>19)?"few":0!=n?"many":"other"},lv:function(e){var t=String(e).split("."),n=t[1]||"",r=n.length,i=Number(t[0])==e,o=i&&t[0].slice(-1),a=i&&t[0].slice(-2),s=n.slice(-2),u=n.slice(-1);return i&&0==o||a>=11&&a<=19||2==r&&s>=11&&s<=19?"zero":1==o&&11!=a||2==r&&1==u&&11!=s||2!=r&&1==u?"one":"other"},mk:function(e){var t=String(e).split("."),n=t[0],r=t[1]||"",i=!t[1],o=n.slice(-1),a=n.slice(-2),s=r.slice(-1),u=r.slice(-2);return i&&1==o&&11!=a||1==s&&11!=u?"one":"other"},mt:function(e){var t=String(e).split("."),n=Number(t[0])==e&&t[0].slice(-2);return 1==e?"one":0==e||n>=2&&n<=10?"few":n>=11&&n<=19?"many":"other"},pa:function(e){return 0==e||1==e?"one":"other"},pl:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-1),o=n.slice(-2);return 1==e&&r?"one":r&&i>=2&&i<=4&&(o<12||o>14)?"few":r&&1!=n&&(0==i||1==i)||r&&i>=5&&i<=9||r&&o>=12&&o<=14?"many":"other"},pt:function(e){var t=String(e).split(".")[0];return 0==t||1==t?"one":"other"},ro:function(e){var t=String(e).split("."),n=!t[1],r=Number(t[0])==e&&t[0].slice(-2);return 1==e&&n?"one":!n||0==e||1!=e&&r>=1&&r<=19?"few":"other"},ru:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-1),o=n.slice(-2);return r&&1==i&&11!=o?"one":r&&i>=2&&i<=4&&(o<12||o>14)?"few":r&&0==i||r&&i>=5&&i<=9||r&&o>=11&&o<=14?"many":"other"},se:function(e){return 1==e?"one":2==e?"two":"other"},si:function(e){var t=String(e).split("."),n=t[0],r=t[1]||"";return 0==e||1==e||0==n&&1==r?"one":"other"},sl:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-2);return r&&1==i?"one":r&&2==i?"two":r&&(3==i||4==i)||!r?"few":"other"}};Wu.as=Wu.am,Wu.az=Wu.af,Wu.bg=Wu.af,Wu.bn=Wu.am,Wu.ca=Wu.ast,Wu.ce=Wu.af,Wu.chr=Wu.af,Wu.de=Wu.ast,Wu.ee=Wu.af,Wu.el=Wu.af,Wu.en=Wu.ast,Wu.es=Wu.af,Wu.et=Wu.ast,Wu.eu=Wu.af,Wu.fa=Wu.am,Wu.fi=Wu.ast,Wu.fo=Wu.af,Wu.fur=Wu.af,Wu.fy=Wu.ast,Wu.gl=Wu.ast,Wu.gu=Wu.am,Wu.hi=Wu.am,Wu.hr=Wu.bs,Wu.hsb=Wu.dsb,Wu.hu=Wu.af,Wu.hy=Wu.fr,Wu.ia=Wu.ast,Wu.id=Wu.dz,Wu.it=Wu.ast,Wu.ja=Wu.dz,Wu.jgo=Wu.af,Wu.jv=Wu.dz,Wu.ka=Wu.af,Wu.kea=Wu.dz,Wu.kk=Wu.af,Wu.kl=Wu.af,Wu.km=Wu.dz,Wu.kn=Wu.am,Wu.ko=Wu.dz,Wu.ku=Wu.af,Wu.ky=Wu.af,Wu.lb=Wu.af,Wu.lkt=Wu.dz,Wu.lo=Wu.dz,Wu.ml=Wu.af,Wu.mn=Wu.af,Wu.mr=Wu.am,Wu.ms=Wu.dz,Wu.my=Wu.dz,Wu.nb=Wu.af,Wu.ne=Wu.af,Wu.nl=Wu.ast,Wu.nn=Wu.af,Wu.or=Wu.af,Wu.ps=Wu.af,Wu["pt-PT"]=Wu.ast,Wu.sah=Wu.dz,Wu.sd=Wu.af,Wu.sk=Wu.cs,Wu.so=Wu.af,Wu.sq=Wu.af,Wu.sr=Wu.bs,Wu.sv=Wu.ast,Wu.sw=Wu.ast,Wu.ta=Wu.af,Wu.te=Wu.af,Wu.th=Wu.dz,Wu.ti=Wu.pa,Wu.tk=Wu.af,Wu.to=Wu.dz,Wu.tr=Wu.af,Wu.ug=Wu.af,Wu.uk=Wu.ru,Wu.ur=Wu.ast,Wu.uz=Wu.af,Wu.vi=Wu.dz,Wu.wae=Wu.af,Wu.yi=Wu.ast,Wu.yue=Wu.dz,Wu.zh=Wu.dz,Wu.zu=Wu.am;var Bu=Wu;function Hu(e){return"pt-PT"===e?e:function(e){var t=e.match(Ku);if(!t)throw new TypeError("Invalid locale: ".concat(e));return t[1]}(e)}var Ku=/^([a-z0-9]+)/i;function Gu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yu=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=e.supportedLocalesOf(t);if(0===r.length)throw new RangeError("Unsupported locale: "+t);if(n&&"cardinal"!==n.type)throw new RangeError('Only "cardinal" "type" is supported');this.$=Bu[Hu(r[0])]}var t,n,r;return t=e,r=[{key:"supportedLocalesOf",value:function(e){return"string"==typeof e&&(e=[e]),e.filter((function(e){return Bu[Hu(e)]}))}}],(n=[{key:"select",value:function(e){return this.$(e)}}])&&Gu(t.prototype,n),r&&Gu(t,r),e}();function Xu(e){return(Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ju(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){tl(e,t,n[t])}))}return e}function Qu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Zu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function el(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nl=["second","minute","hour","day","week","month","quarter","year"],rl=["auto","always"],il=["long","short","narrow"],ol=["lookup","best fit"],al=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Zu(this,e),tl(this,"numeric","always"),tl(this,"style","long"),tl(this,"localeMatcher","lookup");var r=n.numeric,i=n.style,o=n.localeMatcher;if(void 0!==r){if(rl.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(void 0!==i){if(il.indexOf(i)<0)throw new RangeError('Invalid "style" option: '.concat(i));this.style=i}if(void 0!==o){if(ol.indexOf(o)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(o));this.localeMatcher=o}if("string"==typeof t&&(t=[t]),t.push(Fu()),this.locale=e.supportedLocalesOf(t,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("No supported locale was found");Yu.supportedLocalesOf(this.locale).length>0?this.pluralRules=new Yu(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),"undefined"!=typeof Intl&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=Uu(this.locale,{localeMatcher:this.localeMatcher})}var t,n,r;return t=e,(n=[{key:"format",value:function(){var e=cl(arguments),t=Qu(e,2),n=t[0],r=t[1];return this.getRule(n,r).replace("{0}",this.formatNumber(Math.abs(n)))}},{key:"formatToParts",value:function(){var e=cl(arguments),t=Qu(e,2),n=t[0],r=t[1],i=this.getRule(n,r),o=i.indexOf("{0}");if(o<0)return[{type:"literal",value:i}];var a=[];return o>0&&a.push({type:"literal",value:i.slice(0,o)}),a=a.concat(this.formatNumberToParts(Math.abs(n)).map((function(e){return Ju({},e,{unit:r})}))),o+"{0}".length<i.length-1&&a.push({type:"literal",value:i.slice(o+"{0}".length)}),a}},{key:"getRule",value:function(e,t){var n=function(e){return Lu[e]}(this.locale)[this.style][t];if("auto"===this.numeric)if(-2===e||-1===e){var r=n["previous".concat(-1===e?"":"-"+Math.abs(e))];if(r)return r}else if(1===e||2===e){var i=n["next".concat(1===e?"":"-"+Math.abs(e))];if(i)return i}else if(0===e&&n.current)return n.current;var o,a=n[(o=e,o<0||0===o&&function(e){return 1/e==-1/0}(o)?"past":"future")];return"string"==typeof a?a:a[this.pluralRules&&this.pluralRules.select(Math.abs(e))||"other"]||a.other}},{key:"formatNumber",value:function(e){return this.numberFormat?this.numberFormat.format(e):String(e)}},{key:"formatNumberToParts",value:function(e){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(e):[{type:"integer",value:this.formatNumber(e)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}])&&el(t.prototype,n),r&&el(t,r),e}();al.supportedLocalesOf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e)e=[e];else if(!Array.isArray(e))throw new TypeError('Invalid "locales" argument');return e.filter((function(e){return Uu(e,t)}))},al.addLocale=function(e){if(!e)throw new Error("No locale data passed");Lu[e.locale]=e,Mu[e.locale.toLowerCase()]=e.locale},al.setDefaultLocale=function(e){zu=e},al.getDefaultLocale=Fu,al.PluralRules=Yu;var sl='Invalid "unit" argument';function ul(e){if("symbol"===Xu(e))throw new TypeError(sl);if("string"!=typeof e)throw new RangeError("".concat(sl,": ").concat(e));if("s"===e[e.length-1]&&(e=e.slice(0,e.length-1)),nl.indexOf(e)<0)throw new RangeError("".concat(sl,": ").concat(e));return e}function ll(e){if(e=Number(e),Number.isFinite&&!Number.isFinite(e))throw new RangeError("".concat('Invalid "number" argument',": ").concat(e));return e}function cl(e){if(e.length<2)throw new TypeError('"unit" argument is required');return[ll(e[0]),ul(e[1])]}function hl(e){return(hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var pl=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={},(n="cache")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}var t,n,r;return t=e,(n=[{key:"get",value:function(){for(var e=this.cache,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;i++){var o=n[i];if("object"!==hl(e))return;e=e[o]}return e}},{key:"put",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.pop(),i=t.pop(),o=this.cache,a=0;a<t.length;a++){var s=t[a];"object"!==hl(o[s])&&(o[s]={}),o=o[s]}return o[i]=r}}])&&fl(t.prototype,n),r&&fl(t,r),e}();function dl(e){return(dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vl(e,t){var n=e,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;if(t(a))return a;for(var s=a.split("-");s.length>1;)if(s.pop(),t(a=s.join("-")))return a}throw new Error("No locale data has been registered for any of the locales: ".concat(e.join(", ")))}var ml=60,gl=3600,yl=86400,bl=7*yl,wl=2630016,_l=31556952;function kl(e){switch(e){case"second":return 1;case"minute":return ml;case"hour":return gl;case"day":return yl;case"week":return bl;case"month":return wl;case"year":return _l}}function Il(e){return void 0!==e.factor?e.factor:kl(e.unit||e.formatAs)||1}function xl(e){switch(e){case"floor":return Math.floor;default:return Math.round}}function Cl(e){switch(e){case"floor":return 1;default:return.5}}function Tl(e){return(Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sl(e,t){var n,r=t.prevStep,i=t.timestamp,o=t.now,a=t.future,s=t.round;return r&&(r.id||r.unit)&&(n=e["threshold_for_".concat(r.id||r.unit)]),void 0===n&&void 0!==e.threshold&&"function"==typeof(n=e.threshold)&&(n=n(o,a)),void 0===n&&(n=e.minTime),"object"===Tl(n)&&(n=r&&r.id&&void 0!==n[r.id]?n[r.id]:n.default),"function"==typeof n&&(n=n(i,{future:a,getMinTimeForUnit:function(e,t){return El(e,t||r&&r.formatAs,{round:s})}})),void 0===n&&e.test&&(n=e.test(i,{now:o,future:a})?0:9007199254740991),void 0===n&&(r?e.formatAs&&r.formatAs&&(n=El(e.formatAs,r.formatAs,{round:s})):n=0),void 0===n&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(e,null,2)),n}function El(e,t,n){var r,i=n.round,o=kl(e);if(r=kl("now"===t?e:t),void 0!==o&&void 0!==r)return o-r*(1-Cl(i))}function Nl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Al(e,t,n[t])}))}return e}function Al(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pl(e,t,n){var r=n.now,i=n.future,o=n.round,a=n.units,s=n.getNextStep,u=function(e,t,n){var r=n.now,i=n.future,o=n.round;if(0===e.length)return;var a=Ol(e,t,{now:r,future:i||t<0,round:o});if(-1===a)return;var s=e[a];if(s.granularity){if(0===xl(o)(Math.abs(t)/Il(s)/s.granularity)*s.granularity&&a>0)return e[a-1]}return s}(e=function(e,t){return e.filter((function(e){var n=e.unit,r=e.formatAs;return!(n=n||r)||t.indexOf(n)>=0}))}(e,a),t,{now:r,future:i,round:o});return s?u?[e[e.indexOf(u)-1],u,e[e.indexOf(u)+1]]:[void 0,void 0,e[0]]:u}function Ol(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=Sl(e[r],Nl({prevStep:e[r-1],timestamp:n.now-1e3*t},n));return void 0===i||Math.abs(t)<i?r-1:r===e.length-1?r:Ol(e,t,n,r+1)}function Rl(e,t,n){var r=n.now,i=n.round;if(kl(e)){var o=1e3*kl(e),a=t>r,s=Math.abs(t-r),u=xl(i)(s/o)*o;return a?u>0?s-u+function(e,t){return(1-Cl(e))*t+1}(i,o):s-u+1:-(s-u)+function(e,t){return Cl(e)*t}(i,o)}}var jl=31536e9;function $l(e,t,n){var r=n.prevStep,i=n.nextStep,o=n.now,a=n.future,s=n.round,u=e.getTime?e.getTime():e,l=function(e){return Rl(e,u,{now:o,round:s})},c=function(e,t,n){var r=n.now,i=n.future,o=n.round,a=n.prevStep;if(e){var s=function(e,t,n){var r=n.now,i=n.future,o=n.round,a=n.prevStep,s=Sl(e,{timestamp:t,now:r,future:i,round:o,prevStep:a});if(void 0===s)return;return i?t-1e3*s+1:0===s&&t===r?jl:t+1e3*s}(e,t,{now:r,future:i,round:o,prevStep:a});if(void 0===s)return;return s-r}return i?t-r+1:jl}(a?t:i,u,{future:a,now:o,round:s,prevStep:a?r:t});if(void 0!==c){var h;if(t&&(t.getTimeToNextUpdate&&(h=t.getTimeToNextUpdate(u,{getTimeToNextUpdateForUnit:l,getRoundFunction:xl,now:o,future:a,round:s})),void 0===h)){var f=t.unit||t.formatAs;f&&(h=l(f))}return void 0===h?c:Math.min(h,c)}}var Dl={};function zl(e){return Dl[e]}function Ll(e){if(!e)throw new Error("[javascript-time-ago] No locale data passed.");Dl[e.locale]=e}var Ml={steps:[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],labels:"long"};function Fl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ql=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Fl(e,t,n[t])}))}return e}({},Ml,{steps:Ml.steps.filter((function(e){return"second"!==e.formatAs}))}),Ul=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:ml,unit:"minute"},{threshold:150,granularity:5,factor:ml,unit:"minute"},{threshold:1350,factor:1800,unit:"half-hour"},{threshold:2550,threshold_for_minute:3150,factor:gl,unit:"hour"},{threshold:73800,factor:yl,unit:"day"},{threshold:475200,factor:bl,unit:"week"},{threshold:2116800,factor:wl,unit:"month"},{threshold:27615168,factor:_l,unit:"year"}],Vl={gradation:Ul,flavour:"long",units:["now","minute","hour","day","week","month","year"]},Wl={gradation:Ul,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function Bl(e){return e instanceof Date?e:new Date(e)}var Hl=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],Kl={},Gl={minTime:function(e,t){return t.future,(0,t.getMinTimeForUnit)("day")},format:function(e,t){return Kl[t]||(Kl[t]={}),Kl[t].dayMonth||(Kl[t].dayMonth=new Intl.DateTimeFormat(t,{month:"short",day:"numeric"})),Kl[t].dayMonth.format(Bl(e))}},Yl={minTime:function(e,t){return t.future?(e-(new Date(new Date(e).getFullYear(),0).getTime()-1))/1e3:(new Date(new Date(e).getFullYear()+1,0).getTime()-e)/1e3},format:function(e,t){return Kl[t]||(Kl[t]={}),Kl[t].dayMonthYear||(Kl[t].dayMonthYear=new Intl.DateTimeFormat(t,{year:"numeric",month:"short",day:"numeric"})),Kl[t].dayMonthYear.format(Bl(e))}};"object"===("undefined"==typeof Intl?"undefined":dl(Intl))&&"function"==typeof Intl.DateTimeFormat?Hl.push(Gl,Yl):Hl.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});var Xl={steps:Hl,labels:["mini","short-time","narrow","short"]};function Jl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ql=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Jl(e,t,n[t])}))}return e}({},Xl,{steps:[{formatAs:"now"}].concat(Xl.steps)});function Zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ec=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Zl(e,t,n[t])}))}return e}({},Xl,{steps:Xl.steps.filter((function(e){return"second"!==e.formatAs}))});function tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nc=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){tc(e,t,n[t])}))}return e}({},ec,{steps:[{formatAs:"now"}].concat(ec.steps)});function rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ic(e,t,n[t])}))}return e}function ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oc=rc({},Xl,{steps:Xl.steps.filter((function(e){return"second"!==e.formatAs})).map((function(e){return"minute"===e.formatAs?rc({},e,{minTime:ml}):e}))}),ac={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function sc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uc=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){sc(e,t,n[t])}))}return e}({},ac,{steps:[{formatAs:"now"}].concat(ac.steps)});function lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cc=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){lc(e,t,n[t])}))}return e}({},ac,{steps:ac.steps.filter((function(e){return"second"!==e.formatAs}))});function hc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fc=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){hc(e,t,n[t])}))}return e}({},cc,{steps:[{formatAs:"now"}].concat(cc.steps)});function pc(e){switch(e){case"default":case"round":return Ml;case"round-minute":return ql;case"approximate":return Vl;case"time":case"approximate-time":return Wl;case"mini":return ac;case"mini-now":return uc;case"mini-minute":return cc;case"mini-minute-now":return fc;case"twitter":return Xl;case"twitter-now":return Ql;case"twitter-minute":return ec;case"twitter-minute-now":return nc;case"twitter-first-minute":return oc;default:return Vl}}function dc(e){return(dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function mc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yc,bc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.polyfill;mc(this,e),"string"==typeof t&&(t=[t]),this.locale=vl(t.concat(e.getDefaultLocale()),zl),"undefined"!=typeof Intl&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),!1===r?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=al,this.IntlPluralRules=al.PluralRules),this.relativeTimeFormatCache=new pl,this.pluralRulesCache=new pl}var t,n,r;return t=e,(n=[{key:"format",value:function(e,t,n){var r,i;n||(!t||"string"==typeof(r=t)||function(e){return void 0!==dc(e)&&null!==e&&e.constructor===_c}(i=r)&&(Array.isArray(i.steps)||Array.isArray(i.gradation)||Array.isArray(i.flavour)||"string"==typeof i.flavour||Array.isArray(i.labels)||"string"==typeof i.labels||Array.isArray(i.units)||"function"==typeof i.custom)?n={}:(n=t,t=void 0)),t||(t=ql),"string"==typeof t&&(t=pc(t));var o,a=function(e){if(e.constructor===Date||function(e){return"object"===dc(e)&&"function"==typeof e.getTime}(e))return e.getTime();if("number"==typeof e)return e;throw new Error("Unsupported relative time formatter input: ".concat(dc(e),", ").concat(e))}(e),s=this.getLabels(t.flavour||t.labels),u=s.labels,l=s.labelsType;void 0!==t.now&&(o=t.now),void 0===o&&void 0!==n.now&&(o=n.now),void 0===o&&(o=Date.now());var c=(o-a)/1e3,h=n.future||c<0,f=function(e,t,n,r){var i=e.now||t&&t.now;return i?"string"==typeof i?i:r?i.future:i.past:n&&n.second&&n.second.current?n.second.current:void 0}(u,zl(this.locale).now,zl(this.locale).long,h);if(t.custom){var p=t.custom({now:o,date:new Date(a),time:a,elapsed:c,locale:this.locale});if(void 0!==p)return p}var d=function(e,t,n){var r=Object.keys(t);return n&&r.push("now"),e&&(r=e.filter((function(e){return"now"===e||r.indexOf(e)>=0}))),r}(t.units,u,f),v=n.round||t.round,m=vc(Pl(t.gradation||t.steps||ql.steps,c,{now:o,units:d,round:v,future:h,getNextStep:!0}),3),g=m[0],y=m[1],b=m[2],w=this.formatDateForStep(a,y,c,{labels:u,labelsType:l,nowLabel:f,now:o,future:h,round:v})||"";return n.getTimeToNextUpdate?[w,$l(a,y,{nextStep:b,prevStep:g,now:o,future:h,round:v})]:w}},{key:"formatDateForStep",value:function(e,t,n,r){var i=this,o=r.labels,a=r.labelsType,s=r.nowLabel,u=r.now,l=r.future,c=r.round;if(t){if(t.format)return t.format(e,this.locale,{formatAs:function(e,t){return i.formatValue(t,e,{labels:o,future:l})},now:u,future:l});var h=t.unit||t.formatAs;if(!h)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(t)));if("now"===h)return s;var f=Math.abs(n)/Il(t);t.granularity&&(f=xl(c)(f/t.granularity)*t.granularity);var p=-1*Math.sign(n)*xl(c)(f);switch(0===p&&(p=l?0:-0),a){case"long":case"short":case"narrow":return this.getFormatter(a).format(p,h);default:return this.formatValue(p,h,{labels:o,future:l})}}}},{key:"formatValue",value:function(e,t,n){var r=n.labels,i=n.future;return this.getFormattingRule(r,t,e,{future:i}).replace("{0}",this.formatNumber(Math.abs(e)))}},{key:"getFormattingRule",value:function(e,t,n,r){var i=r.future;if(this.locale,"string"==typeof(e=e[t]))return e;var o=e[0===n?i?"future":"past":n<0?"past":"future"]||e;return"string"==typeof o?o:o[this.getPluralRules().select(Math.abs(n))]||o.other}},{key:"formatNumber",value:function(e){return this.numberFormat?this.numberFormat.format(e):String(e)}},{key:"getFormatter",value:function(e){return this.relativeTimeFormatCache.get(this.locale,e)||this.relativeTimeFormatCache.put(this.locale,e,new this.IntlRelativeTimeFormat(this.locale,{style:e}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];"string"==typeof e&&(e=[e]),e=(e=e.map((function(e){switch(e){case"tiny":case"mini-time":return"mini";default:return e}}))).concat("long");var t=zl(this.locale),n=e,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(i>=n.length)break;o=n[i++]}else{if((i=n.next()).done)break;o=i.value}var a=o;if(t[a])return{labelsType:a,labels:t[a]}}}}])&&gc(t.prototype,n),r&&gc(t,r),e}(),wc="en";bc.getDefaultLocale=function(){return wc},bc.setDefaultLocale=function(e){return wc=e},bc.addDefaultLocale=function(e){if(yc)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");yc=!0,bc.setDefaultLocale(e.locale),bc.addLocale(e)},bc.addLocale=function(e){Ll(e),al.addLocale(e)},bc.locale=bc.addLocale,bc.addLabels=function(e,t,n){var r=zl(e);r||(Ll({locale:e}),r=zl(e)),r[t]=n};var _c={}.constructor;var kc={locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}};function Ic(e,t,n){const r=e.slice();return r[15]=t[n],r}function xc(e,t,n){const r=e.slice();return r[15]=t[n],r}function Cc(e,t,n){const r=e.slice();return r[8]=t[n],r}function Tc(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function Sc(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function Ec(e,t,n){const r=e.slice();return r[5]=t[n],r}function Nc(e){let t,n,r,i;const o=[Rc,Oc,Pc],a=[];function s(e,t){return"table"===e[0]?0:"list"===e[0]?1:2}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=S()},m(e,n){a[t].m(e,n),w(e,r,n),i=!0},p(e,i){let u=t;t=s(e),t===u?a[t].p(e,i):(G(),J(a[u],1,1,(()=>{a[u]=null})),Y(),n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),X(n,1),n.m(r.parentNode,r))},i(e){i||(X(n),i=!0)},o(e){J(n),i=!1},d(e){a[t].d(e),e&&_(r)}}}function Ac(e){let t,n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=th(Ec(e,r,t));const o=e=>J(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=S()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);w(e,t,r),n=!0},p(e,n){if(10&n){let a;for(r=e[1],a=0;a<r.length;a+=1){const o=Ec(e,r,a);i[a]?(i[a].p(o,n),X(i[a],1)):(i[a]=th(o),i[a].c(),X(i[a],1),i[a].m(t.parentNode,t))}for(G(),a=r.length;a<i.length;a+=1)o(a);Y()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)X(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)J(i[e]);n=!1},d(e){k(i,e),e&&_(t)}}}function Pc(e){let n,r,i;const o=[e[4]];var a=e[3][e[0]];function s(e){let n={$$slots:{default:[Dc]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return a&&(n=new a(s(e))),{c(){n&&re(n.$$.fragment),r=S()},m(e,t){n&&ie(n,e,t),w(e,r,t),i=!0},p(e,t){const i=16&t?te(o,[ne(e[4])]):{};if(1048602&t&&(i.$$scope={dirty:t,ctx:e}),a!==(a=e[3][e[0]])){if(n){G();const e=n;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),Y()}a?(n=new a(s(e)),re(n.$$.fragment),X(n.$$.fragment,1),ie(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(e){i||(n&&X(n.$$.fragment,e),i=!0)},o(e){n&&J(n.$$.fragment,e),i=!1},d(e){e&&_(r),n&&oe(n,e)}}}function Oc(e){let t,n,r,i;const o=[Lc,zc],a=[];function s(e,t){return e[2]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=S()},m(e,n){a[t].m(e,n),w(e,r,n),i=!0},p(e,i){let u=t;t=s(e),t===u?a[t].p(e,i):(G(),J(a[u],1,1,(()=>{a[u]=null})),Y(),n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),X(n,1),n.m(r.parentNode,r))},i(e){i||(X(n),i=!0)},o(e){J(n),i=!1},d(e){a[t].d(e),e&&_(r)}}}function Rc(e){let t,n,r;var i=e[3].table;function o(e){return{props:{$$slots:{default:[eh]},$$scope:{ctx:e}}}}return i&&(t=new i(o(e))),{c(){t&&re(t.$$.fragment),n=S()},m(e,i){t&&ie(t,e,i),w(e,n,i),r=!0},p(e,r){const a={};if(1048602&r&&(a.$$scope={dirty:r,ctx:e}),i!==(i=e[3].table)){if(t){G();const e=t;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),Y()}i?(t=new i(o(e)),re(t.$$.fragment),X(t.$$.fragment,1),ie(t,n.parentNode,n)):t=null}else i&&t.$set(a)},i(e){r||(t&&X(t.$$.fragment,e),r=!0)},o(e){t&&J(t.$$.fragment,e),r=!1},d(e){e&&_(n),t&&oe(t,e)}}}function jc(t){let n,r=t[4].raw+"";return{c(){n=C(r)},m(e,t){w(e,n,t)},p(e,t){16&t&&r!==(r=e[4].raw+"")&&A(n,r)},i:e,o:e,d(e){e&&_(n)}}}function $c(e){let t,n;return t=new ih({props:{tokens:e[1],renderers:e[3]}}),{c(){re(t.$$.fragment)},m(e,r){ie(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.tokens=e[1]),8&n&&(r.renderers=e[3]),t.$set(r)},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Dc(e){let t,n,r,i;const o=[$c,jc],a=[];function s(e,t){return e[1]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=S()},m(e,n){a[t].m(e,n),w(e,r,n),i=!0},p(e,i){let u=t;t=s(e),t===u?a[t].p(e,i):(G(),J(a[u],1,1,(()=>{a[u]=null})),Y(),n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),X(n,1),n.m(r.parentNode,r))},i(e){i||(X(n),i=!0)},o(e){J(n),i=!1},d(e){a[t].d(e),e&&_(r)}}}function zc(e){let n,r,i;const o=[{ordered:e[2]},e[4]];var a=e[3].list;function s(e){let n={$$slots:{default:[qc]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return a&&(n=new a(s(e))),{c(){n&&re(n.$$.fragment),r=S()},m(e,t){n&&ie(n,e,t),w(e,r,t),i=!0},p(e,t){const i=20&t?te(o,[4&t&&{ordered:e[2]},16&t&&ne(e[4])]):{};if(1048600&t&&(i.$$scope={dirty:t,ctx:e}),a!==(a=e[3].list)){if(n){G();const e=n;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),Y()}a?(n=new a(s(e)),re(n.$$.fragment),X(n.$$.fragment,1),ie(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(e){i||(n&&X(n.$$.fragment,e),i=!0)},o(e){n&&J(n.$$.fragment,e),i=!1},d(e){e&&_(r),n&&oe(n,e)}}}function Lc(e){let n,r,i;const o=[{ordered:e[2]},e[4]];var a=e[3].list;function s(e){let n={$$slots:{default:[Wc]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return a&&(n=new a(s(e))),{c(){n&&re(n.$$.fragment),r=S()},m(e,t){n&&ie(n,e,t),w(e,r,t),i=!0},p(e,t){const i=20&t?te(o,[4&t&&{ordered:e[2]},16&t&&ne(e[4])]):{};if(1048600&t&&(i.$$scope={dirty:t,ctx:e}),a!==(a=e[3].list)){if(n){G();const e=n;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),Y()}a?(n=new a(s(e)),re(n.$$.fragment),X(n.$$.fragment,1),ie(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(e){i||(n&&X(n.$$.fragment,e),i=!0)},o(e){n&&J(n.$$.fragment,e),i=!1},d(e){e&&_(r),n&&oe(n,e)}}}function Mc(e){let t,n,r;return t=new ih({props:{tokens:e[15].tokens,renderers:e[3]}}),{c(){re(t.$$.fragment),n=T()},m(e,i){ie(t,e,i),w(e,n,i),r=!0},p(e,n){const r={};16&n&&(r.tokens=e[15].tokens),8&n&&(r.renderers=e[3]),t.$set(r)},i(e){r||(X(t.$$.fragment,e),r=!0)},o(e){J(t.$$.fragment,e),r=!1},d(e){oe(t,e),e&&_(n)}}}function Fc(e){let n,r,i;const o=[e[15]];var a=e[3].unorderedlistitem||e[3].listitem;function s(e){let n={$$slots:{default:[Mc]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return a&&(n=new a(s(e))),{c(){n&&re(n.$$.fragment),r=S()},m(e,t){n&&ie(n,e,t),w(e,r,t),i=!0},p(e,t){const i=16&t?te(o,[ne(e[15])]):{};if(1048600&t&&(i.$$scope={dirty:t,ctx:e}),a!==(a=e[3].unorderedlistitem||e[3].listitem)){if(n){G();const e=n;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),Y()}a?(n=new a(s(e)),re(n.$$.fragment),X(n.$$.fragment,1),ie(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(e){i||(n&&X(n.$$.fragment,e),i=!0)},o(e){n&&J(n.$$.fragment,e),i=!1},d(e){e&&_(r),n&&oe(n,e)}}}function qc(e){let t,n,r=e[4].items,i=[];for(let t=0;t<r.length;t+=1)i[t]=Fc(Ic(e,r,t));const o=e=>J(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=S()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);w(e,t,r),n=!0},p(e,n){if(24&n){let a;for(r=e[4].items,a=0;a<r.length;a+=1){const o=Ic(e,r,a);i[a]?(i[a].p(o,n),X(i[a],1)):(i[a]=Fc(o),i[a].c(),X(i[a],1),i[a].m(t.parentNode,t))}for(G(),a=r.length;a<i.length;a+=1)o(a);Y()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)X(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)J(i[e]);n=!1},d(e){k(i,e),e&&_(t)}}}function Uc(e){let t,n,r;return t=new ih({props:{tokens:e[15].tokens,renderers:e[3]}}),{c(){re(t.$$.fragment),n=T()},m(e,i){ie(t,e,i),w(e,n,i),r=!0},p(e,n){const r={};16&n&&(r.tokens=e[15].tokens),8&n&&(r.renderers=e[3]),t.$set(r)},i(e){r||(X(t.$$.fragment,e),r=!0)},o(e){J(t.$$.fragment,e),r=!1},d(e){oe(t,e),e&&_(n)}}}function Vc(e){let n,r,i;const o=[e[15]];var a=e[3].orderedlistitem||e[3].listitem;function s(e){let n={$$slots:{default:[Uc]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return a&&(n=new a(s(e))),{c(){n&&re(n.$$.fragment),r=S()},m(e,t){n&&ie(n,e,t),w(e,r,t),i=!0},p(e,t){const i=16&t?te(o,[ne(e[15])]):{};if(1048600&t&&(i.$$scope={dirty:t,ctx:e}),a!==(a=e[3].orderedlistitem||e[3].listitem)){if(n){G();const e=n;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),Y()}a?(n=new a(s(e)),re(n.$$.fragment),X(n.$$.fragment,1),ie(n,r.parentNode,r)):n=null}else a&&n.$set(i)},i(e){i||(n&&X(n.$$.fragment,e),i=!0)},o(e){n&&J(n.$$.fragment,e),i=!1},d(e){e&&_(r),n&&oe(n,e)}}}function Wc(e){let t,n,r=e[4].items,i=[];for(let t=0;t<r.length;t+=1)i[t]=Vc(xc(e,r,t));const o=e=>J(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=S()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);w(e,t,r),n=!0},p(e,n){if(24&n){let a;for(r=e[4].items,a=0;a<r.length;a+=1){const o=xc(e,r,a);i[a]?(i[a].p(o,n),X(i[a],1)):(i[a]=Vc(o),i[a].c(),X(i[a],1),i[a].m(t.parentNode,t))}for(G(),a=r.length;a<i.length;a+=1)o(a);Y()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)X(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)J(i[e]);n=!1},d(e){k(i,e),e&&_(t)}}}function Bc(e){let t,n,r;return t=new ih({props:{tokens:e[11],renderers:e[3]}}),{c(){re(t.$$.fragment),n=T()},m(e,i){ie(t,e,i),w(e,n,i),r=!0},p(e,n){const r={};2&n&&(r.tokens=e[11]),8&n&&(r.renderers=e[3]),t.$set(r)},i(e){r||(X(t.$$.fragment,e),r=!0)},o(e){J(t.$$.fragment,e),r=!1},d(e){oe(t,e),e&&_(n)}}}function Hc(e){let t,n,r;var i=e[3].tablecell;function o(e){return{props:{header:!0,align:e[4].align[e[13]]||"center",$$slots:{default:[Bc]},$$scope:{ctx:e}}}}return i&&(t=new i(o(e))),{c(){t&&re(t.$$.fragment),n=S()},m(e,i){t&&ie(t,e,i),w(e,n,i),r=!0},p(e,r){const a={};if(16&r&&(a.align=e[4].align[e[13]]||"center"),1048586&r&&(a.$$scope={dirty:r,ctx:e}),i!==(i=e[3].tablecell)){if(t){G();const e=t;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),Y()}i?(t=new i(o(e)),re(t.$$.fragment),X(t.$$.fragment,1),ie(t,n.parentNode,n)):t=null}else i&&t.$set(a)},i(e){r||(t&&X(t.$$.fragment,e),r=!0)},o(e){t&&J(t.$$.fragment,e),r=!1},d(e){e&&_(n),t&&oe(t,e)}}}function Kc(e){let t,n,r=e[1].header,i=[];for(let t=0;t<r.length;t+=1)i[t]=Hc(Sc(e,r,t));const o=e=>J(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=S()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);w(e,t,r),n=!0},p(e,n){if(26&n){let a;for(r=e[1].header,a=0;a<r.length;a+=1){const o=Sc(e,r,a);i[a]?(i[a].p(o,n),X(i[a],1)):(i[a]=Hc(o),i[a].c(),X(i[a],1),i[a].m(t.parentNode,t))}for(G(),a=r.length;a<i.length;a+=1)o(a);Y()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)X(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)J(i[e]);n=!1},d(e){k(i,e),e&&_(t)}}}function Gc(e){let t,n,r;var i=e[3].tablerow;function o(e){return{props:{$$slots:{default:[Kc]},$$scope:{ctx:e}}}}return i&&(t=new i(o(e))),{c(){t&&re(t.$$.fragment),n=S()},m(e,i){t&&ie(t,e,i),w(e,n,i),r=!0},p(e,r){const a={};if(1048602&r&&(a.$$scope={dirty:r,ctx:e}),i!==(i=e[3].tablerow)){if(t){G();const e=t;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),Y()}i?(t=new i(o(e)),re(t.$$.fragment),X(t.$$.fragment,1),ie(t,n.parentNode,n)):t=null}else i&&t.$set(a)},i(e){r||(t&&X(t.$$.fragment,e),r=!0)},o(e){t&&J(t.$$.fragment,e),r=!1},d(e){e&&_(n),t&&oe(t,e)}}}function Yc(e){let t,n;return t=new ih({props:{tokens:e[11],renderers:e[3]}}),{c(){re(t.$$.fragment)},m(e,r){ie(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.tokens=e[11]),8&n&&(r.renderers=e[3]),t.$set(r)},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Xc(e){let t,n,r;var i=e[3].tablecell;function o(e){return{props:{header:!1,align:e[4].align[e[13]]||"center",$$slots:{default:[Yc]},$$scope:{ctx:e}}}}return i&&(t=new i(o(e))),{c(){t&&re(t.$$.fragment),n=S()},m(e,i){t&&ie(t,e,i),w(e,n,i),r=!0},p(e,r){const a={};if(16&r&&(a.align=e[4].align[e[13]]||"center"),1048586&r&&(a.$$scope={dirty:r,ctx:e}),i!==(i=e[3].tablecell)){if(t){G();const e=t;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),Y()}i?(t=new i(o(e)),re(t.$$.fragment),X(t.$$.fragment,1),ie(t,n.parentNode,n)):t=null}else i&&t.$set(a)},i(e){r||(t&&X(t.$$.fragment,e),r=!0)},o(e){t&&J(t.$$.fragment,e),r=!1},d(e){e&&_(n),t&&oe(t,e)}}}function Jc(e){let t,n,r=e[8],i=[];for(let t=0;t<r.length;t+=1)i[t]=Xc(Tc(e,r,t));const o=e=>J(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=T()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);w(e,t,r),n=!0},p(e,n){if(26&n){let a;for(r=e[8],a=0;a<r.length;a+=1){const o=Tc(e,r,a);i[a]?(i[a].p(o,n),X(i[a],1)):(i[a]=Xc(o),i[a].c(),X(i[a],1),i[a].m(t.parentNode,t))}for(G(),a=r.length;a<i.length;a+=1)o(a);Y()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)X(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)J(i[e]);n=!1},d(e){k(i,e),e&&_(t)}}}function Qc(e){let t,n,r;var i=e[3].tablerow;function o(e){return{props:{$$slots:{default:[Jc]},$$scope:{ctx:e}}}}return i&&(t=new i(o(e))),{c(){t&&re(t.$$.fragment),n=S()},m(e,i){t&&ie(t,e,i),w(e,n,i),r=!0},p(e,r){const a={};if(1048602&r&&(a.$$scope={dirty:r,ctx:e}),i!==(i=e[3].tablerow)){if(t){G();const e=t;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),Y()}i?(t=new i(o(e)),re(t.$$.fragment),X(t.$$.fragment,1),ie(t,n.parentNode,n)):t=null}else i&&t.$set(a)},i(e){r||(t&&X(t.$$.fragment,e),r=!0)},o(e){t&&J(t.$$.fragment,e),r=!1},d(e){e&&_(n),t&&oe(t,e)}}}function Zc(e){let t,n,r=e[1].cells,i=[];for(let t=0;t<r.length;t+=1)i[t]=Qc(Cc(e,r,t));const o=e=>J(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=S()},m(e,r){for(let t=0;t<i.length;t+=1)i[t].m(e,r);w(e,t,r),n=!0},p(e,n){if(26&n){let a;for(r=e[1].cells,a=0;a<r.length;a+=1){const o=Cc(e,r,a);i[a]?(i[a].p(o,n),X(i[a],1)):(i[a]=Qc(o),i[a].c(),X(i[a],1),i[a].m(t.parentNode,t))}for(G(),a=r.length;a<i.length;a+=1)o(a);Y()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)X(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)J(i[e]);n=!1},d(e){k(i,e),e&&_(t)}}}function eh(e){let t,n,r,i,o;var a=e[3].tablehead;function s(e){return{props:{$$slots:{default:[Gc]},$$scope:{ctx:e}}}}a&&(t=new a(s(e)));var u=e[3].tablebody;function l(e){return{props:{$$slots:{default:[Zc]},$$scope:{ctx:e}}}}return u&&(r=new u(l(e))),{c(){t&&re(t.$$.fragment),n=T(),r&&re(r.$$.fragment),i=S()},m(e,a){t&&ie(t,e,a),w(e,n,a),r&&ie(r,e,a),w(e,i,a),o=!0},p(e,o){const c={};if(1048602&o&&(c.$$scope={dirty:o,ctx:e}),a!==(a=e[3].tablehead)){if(t){G();const e=t;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),Y()}a?(t=new a(s(e)),re(t.$$.fragment),X(t.$$.fragment,1),ie(t,n.parentNode,n)):t=null}else a&&t.$set(c);const h={};if(1048602&o&&(h.$$scope={dirty:o,ctx:e}),u!==(u=e[3].tablebody)){if(r){G();const e=r;J(e.$$.fragment,1,0,(()=>{oe(e,1)})),Y()}u?(r=new u(l(e)),re(r.$$.fragment),X(r.$$.fragment,1),ie(r,i.parentNode,i)):r=null}else u&&r.$set(h)},i(e){o||(t&&X(t.$$.fragment,e),r&&X(r.$$.fragment,e),o=!0)},o(e){t&&J(t.$$.fragment,e),r&&J(r.$$.fragment,e),o=!1},d(e){t&&oe(t,e),e&&_(n),e&&_(i),r&&oe(r,e)}}}function th(e){let n,r;const i=[e[5],{renderers:e[3]}];let o={};for(let e=0;e<i.length;e+=1)o=t(o,i[e]);return n=new ih({props:o}),{c(){re(n.$$.fragment)},m(e,t){ie(n,e,t),r=!0},p(e,t){const r=10&t?te(i,[2&t&&ne(e[5]),8&t&&{renderers:e[3]}]):{};n.$set(r)},i(e){r||(X(n.$$.fragment,e),r=!0)},o(e){J(n.$$.fragment,e),r=!1},d(e){oe(n,e)}}}function nh(e){let t,n,r,i;const o=[Ac,Nc],a=[];function s(e,t){return e[0]?e[3][e[0]]?1:-1:0}return~(t=s(e))&&(n=a[t]=o[t](e)),{c(){n&&n.c(),r=S()},m(e,n){~t&&a[t].m(e,n),w(e,r,n),i=!0},p(e,[i]){let u=t;t=s(e),t===u?~t&&a[t].p(e,i):(n&&(G(),J(a[u],1,1,(()=>{a[u]=null})),Y()),~t?(n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),X(n,1),n.m(r.parentNode,r)):n=null)},i(e){i||(X(n),i=!0)},o(e){J(n),i=!1},d(e){~t&&a[t].d(e),e&&_(r)}}}function rh(e,n,r){const i=["type","tokens","ordered","renderers"];let o=m(n,i),{type:a}=n,{tokens:s}=n,{ordered:u=!1}=n,{renderers:l}=n;return e.$$set=e=>{n=t(t({},n),function(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}(e)),r(4,o=m(n,i)),"type"in e&&r(0,a=e.type),"tokens"in e&&r(1,s=e.tokens),"ordered"in e&&r(2,u=e.ordered),"renderers"in e&&r(3,l=e.renderers)},[a,s,u,l,o]}class ih extends ue{constructor(e){super(),se(this,e,rh,nh,a,{type:0,tokens:1,ordered:2,renderers:3})}}function oh(t){let n;return{c(){n=C(t[1])},m(e,t){w(e,n,t)},p(e,t){2&t&&A(n,e[1])},i:e,o:e,d(e){e&&_(n)}}}function ah(e){let t,n;const r=e[3].default,i=h(r,e,e[2],null);return{c(){t=I("h6"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||4&t)&&d(i,r,e,e[2],n?p(r,e[2],t,null):v(e[2]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function sh(e){let t,n;const r=e[3].default,i=h(r,e,e[2],null);return{c(){t=I("h5"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||4&t)&&d(i,r,e,e[2],n?p(r,e[2],t,null):v(e[2]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function uh(e){let t,n;const r=e[3].default,i=h(r,e,e[2],null);return{c(){t=I("h4"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||4&t)&&d(i,r,e,e[2],n?p(r,e[2],t,null):v(e[2]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function lh(e){let t,n;const r=e[3].default,i=h(r,e,e[2],null);return{c(){t=I("h3"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||4&t)&&d(i,r,e,e[2],n?p(r,e[2],t,null):v(e[2]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function ch(e){let t,n;const r=e[3].default,i=h(r,e,e[2],null);return{c(){t=I("h2"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||4&t)&&d(i,r,e,e[2],n?p(r,e[2],t,null):v(e[2]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function hh(e){let t,n;const r=e[3].default,i=h(r,e,e[2],null);return{c(){t=I("h1"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||4&t)&&d(i,r,e,e[2],n?p(r,e[2],t,null):v(e[2]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function fh(e){let t,n,r,i;const o=[hh,ch,lh,uh,sh,ah,oh],a=[];function s(e,t){return 1===e[0]?0:2===e[0]?1:3===e[0]?2:4===e[0]?3:5===e[0]?4:6===e[0]?5:6}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=S()},m(e,n){a[t].m(e,n),w(e,r,n),i=!0},p(e,[i]){let u=t;t=s(e),t===u?a[t].p(e,i):(G(),J(a[u],1,1,(()=>{a[u]=null})),Y(),n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),X(n,1),n.m(r.parentNode,r))},i(e){i||(X(n),i=!0)},o(e){J(n),i=!1},d(e){a[t].d(e),e&&_(r)}}}function ph(e,t,n){let{$$slots:r={},$$scope:i}=t,{depth:o}=t,{raw:a}=t;return e.$$set=e=>{"depth"in e&&n(0,o=e.depth),"raw"in e&&n(1,a=e.raw),"$$scope"in e&&n(2,i=e.$$scope)},[o,a,i,r]}function dh(e){let t,n;const r=e[1].default,i=h(r,e,e[0],null);return{c(){t=I("p"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):v(e[0]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function vh(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function mh(e){let t;const n=e[1].default,r=h(n,e,e[0],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[i]){r&&r.p&&(!t||1&i)&&d(r,n,e,e[0],t?p(n,e[0],i,null):v(e[0]),null)},i(e){t||(X(r,e),t=!0)},o(e){J(r,e),t=!1},d(e){r&&r.d(e)}}}function gh(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function yh(t){let n,r;return{c(){n=I("img"),l(n.src,r=t[0])||N(n,"src",r),N(n,"title",t[1]),N(n,"alt",t[2])},m(e,t){w(e,n,t)},p(e,[t]){1&t&&!l(n.src,r=e[0])&&N(n,"src",r),2&t&&N(n,"title",e[1]),4&t&&N(n,"alt",e[2])},i:e,o:e,d(e){e&&_(n)}}}function bh(e,t,n){let{href:r=""}=t,{title:i}=t,{text:o=""}=t;return e.$$set=e=>{"href"in e&&n(0,r=e.href),"title"in e&&n(1,i=e.title),"text"in e&&n(2,o=e.text)},[r,i,o]}function wh(e){let t,n;const r=e[3].default,i=h(r,e,e[2],null);return{c(){t=I("a"),i&&i.c(),N(t,"href",e[0]),N(t,"title",e[1])},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,[o]){i&&i.p&&(!n||4&o)&&d(i,r,e,e[2],n?p(r,e[2],o,null):v(e[2]),null),(!n||1&o)&&N(t,"href",e[0]),(!n||2&o)&&N(t,"title",e[1])},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function _h(e,t,n){let{$$slots:r={},$$scope:i}=t,{href:o=""}=t,{title:a}=t;return e.$$set=e=>{"href"in e&&n(0,o=e.href),"title"in e&&n(1,a=e.title),"$$scope"in e&&n(2,i=e.$$scope)},[o,a,i,r]}function kh(e){let t,n;const r=e[1].default,i=h(r,e,e[0],null);return{c(){t=I("em"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):v(e[0]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function Ih(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function xh(e){let t,n;const r=e[1].default,i=h(r,e,e[0],null);return{c(){t=I("del"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):v(e[0]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function Ch(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function Th(t){let n,r,i=t[0].replace(/`/g,"")+"";return{c(){n=I("code"),r=C(i)},m(e,t){w(e,n,t),y(n,r)},p(e,[t]){1&t&&i!==(i=e[0].replace(/`/g,"")+"")&&A(r,i)},i:e,o:e,d(e){e&&_(n)}}}function Sh(e,t,n){let{raw:r}=t;return e.$$set=e=>{"raw"in e&&n(0,r=e.raw)},[r]}function Eh(e){let t,n;const r=e[1].default,i=h(r,e,e[0],null);return{c(){t=I("strong"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):v(e[0]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function Nh(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function Ah(e){let t,n;const r=e[1].default,i=h(r,e,e[0],null);return{c(){t=I("table"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):v(e[0]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function Ph(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function Oh(e){let t,n;const r=e[1].default,i=h(r,e,e[0],null);return{c(){t=I("thead"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):v(e[0]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function Rh(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function jh(e){let t,n;const r=e[1].default,i=h(r,e,e[0],null);return{c(){t=I("tbody"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):v(e[0]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function $h(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function Dh(e){let t,n;const r=e[1].default,i=h(r,e,e[0],null);return{c(){t=I("tr"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):v(e[0]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function zh(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function Lh(e){let t,n;const r=e[3].default,i=h(r,e,e[2],null);return{c(){t=I("td"),i&&i.c(),N(t,"align",e[1])},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,o){i&&i.p&&(!n||4&o)&&d(i,r,e,e[2],n?p(r,e[2],o,null):v(e[2]),null),(!n||2&o)&&N(t,"align",e[1])},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function Mh(e){let t,n;const r=e[3].default,i=h(r,e,e[2],null);return{c(){t=I("th"),i&&i.c(),N(t,"align",e[1])},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,o){i&&i.p&&(!n||4&o)&&d(i,r,e,e[2],n?p(r,e[2],o,null):v(e[2]),null),(!n||2&o)&&N(t,"align",e[1])},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function Fh(e){let t,n,r,i;const o=[Mh,Lh],a=[];function s(e,t){return e[0]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=S()},m(e,n){a[t].m(e,n),w(e,r,n),i=!0},p(e,[i]){let u=t;t=s(e),t===u?a[t].p(e,i):(G(),J(a[u],1,1,(()=>{a[u]=null})),Y(),n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),X(n,1),n.m(r.parentNode,r))},i(e){i||(X(n),i=!0)},o(e){J(n),i=!1},d(e){a[t].d(e),e&&_(r)}}}function qh(e,t,n){let{$$slots:r={},$$scope:i}=t,{header:o}=t,{align:a}=t;return e.$$set=e=>{"header"in e&&n(0,o=e.header),"align"in e&&n(1,a=e.align),"$$scope"in e&&n(2,i=e.$$scope)},[o,a,i,r]}function Uh(e){let t,n;const r=e[3].default,i=h(r,e,e[2],null);return{c(){t=I("ul"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||4&t)&&d(i,r,e,e[2],n?p(r,e[2],t,null):v(e[2]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function Vh(e){let t,n;const r=e[3].default,i=h(r,e,e[2],null);return{c(){t=I("ol"),i&&i.c(),N(t,"start",e[1])},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,o){i&&i.p&&(!n||4&o)&&d(i,r,e,e[2],n?p(r,e[2],o,null):v(e[2]),null),(!n||2&o)&&N(t,"start",e[1])},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function Wh(e){let t,n,r,i;const o=[Vh,Uh],a=[];function s(e,t){return e[0]?0:1}return t=s(e),n=a[t]=o[t](e),{c(){n.c(),r=S()},m(e,n){a[t].m(e,n),w(e,r,n),i=!0},p(e,[i]){let u=t;t=s(e),t===u?a[t].p(e,i):(G(),J(a[u],1,1,(()=>{a[u]=null})),Y(),n=a[t],n?n.p(e,i):(n=a[t]=o[t](e),n.c()),X(n,1),n.m(r.parentNode,r))},i(e){i||(X(n),i=!0)},o(e){J(n),i=!1},d(e){a[t].d(e),e&&_(r)}}}function Bh(e,t,n){let{$$slots:r={},$$scope:i}=t,{ordered:o}=t,{start:a}=t;return e.$$set=e=>{"ordered"in e&&n(0,o=e.ordered),"start"in e&&n(1,a=e.start),"$$scope"in e&&n(2,i=e.$$scope)},[o,a,i,r]}function Hh(e){let t,n;const r=e[1].default,i=h(r,e,e[0],null);return{c(){t=I("li"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):v(e[0]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function Kh(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function Gh(t){let n;return{c(){n=I("hr")},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&_(n)}}}function Yh(t){let n,r;return{c(){n=new O,r=S(),n.a=r},m(e,i){n.m(t[0],e,i),w(e,r,i)},p(e,[t]){1&t&&n.p(e[0])},i:e,o:e,d(e){e&&_(r),e&&n.d()}}}function Xh(e,t,n){let{text:r}=t;return e.$$set=e=>{"text"in e&&n(0,r=e.text)},[r]}function Jh(e){let t,n;const r=e[1].default,i=h(r,e,e[0],null);return{c(){t=I("blockquote"),i&&i.c()},m(e,r){w(e,t,r),i&&i.m(t,null),n=!0},p(e,[t]){i&&i.p&&(!n||1&t)&&d(i,r,e,e[0],n?p(r,e[0],t,null):v(e[0]),null)},i(e){n||(X(i,e),n=!0)},o(e){J(i,e),n=!1},d(e){e&&_(t),i&&i.d(e)}}}function Qh(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,r]}function Zh(e){let t,n,r;const i=e[2].default,o=h(i,e,e[1],null);return{c(){t=I("pre"),n=I("code"),o&&o.c(),N(t,"class",e[0])},m(e,i){w(e,t,i),y(t,n),o&&o.m(n,null),r=!0},p(e,[n]){o&&o.p&&(!r||2&n)&&d(o,i,e,e[1],r?p(i,e[1],n,null):v(e[1]),null),(!r||1&n)&&N(t,"class",e[0])},i(e){r||(X(o,e),r=!0)},o(e){J(o,e),r=!1},d(e){e&&_(t),o&&o.d(e)}}}function ef(e,t,n){let{$$slots:r={},$$scope:i}=t,{lang:o}=t;return e.$$set=e=>{"lang"in e&&n(0,o=e.lang),"$$scope"in e&&n(1,i=e.$$scope)},[o,i,r]}var tf=function(e){var t={exports:{}};return e(t,t.exports),t.exports}((function(e){function t(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:t,changeDefaults:function(t){e.exports.defaults=t}}}));const nf=/[&<>"']/,rf=/[&<>"']/g,of=/[<>"']|&(?!#?\w+;)/,af=/[<>"']|&(?!#?\w+;)/g,sf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},uf=e=>sf[e];const lf=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function cf(e){return e.replace(lf,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const hf=/(^|[^\[])\^/g;const ff=/[^\w:]/g,pf=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;const df={},vf=/^[^:]+:\/*[^/]*$/,mf=/^([^:]+:)[\s\S]*$/,gf=/^([^:]+:\/*[^/]*)[\s\S]*$/;function yf(e,t){df[" "+e]||(vf.test(e)?df[" "+e]=e+"/":df[" "+e]=bf(e,"/",!0));const n=-1===(e=df[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(mf,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(gf,"$1")+t:e+t}function bf(e,t,n){const r=e.length;if(0===r)return"";let i=0;for(;i<r;){const o=e.charAt(r-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.substr(0,r-i)}var wf={escape:function(e,t){if(t){if(nf.test(e))return e.replace(rf,uf)}else if(of.test(e))return e.replace(af,uf);return e},unescape:cf,edit:function(e,t){e=e.source||e,t=t||"";const n={replace:(t,r)=>(r=(r=r.source||r).replace(hf,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n},cleanUrl:function(e,t,n){if(e){let e;try{e=decodeURIComponent(cf(n)).replace(ff,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!pf.test(n)&&(n=yf(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n},resolveUrl:yf,noopTest:{exec:function(){}},merge:function(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},splitCells:function(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"})).split(/ \|/);let r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},rtrim:bf,findClosingBracket:function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1},checkSanitizeDeprecation:function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},repeatString:function(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}};const{defaults:_f}=tf,{rtrim:kf,splitCells:If,escape:xf,findClosingBracket:Cf}=wf;function Tf(e,t,n){const r=t.href,i=t.title?xf(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:o}:{type:"image",raw:n,href:r,title:i,text:xf(o)}}const{noopTest:Sf,edit:Ef,merge:Nf}=wf,Af={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:Sf,table:Sf,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Af.def=Ef(Af.def).replace("label",Af._label).replace("title",Af._title).getRegex(),Af.bullet=/(?:[*+-]|\d{1,9}[.)])/,Af.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,Af.item=Ef(Af.item,"gm").replace(/bull/g,Af.bullet).getRegex(),Af.listItemStart=Ef(/^( *)(bull) */).replace("bull",Af.bullet).getRegex(),Af.list=Ef(Af.list).replace(/bull/g,Af.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Af.def.source+")").getRegex(),Af._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Af._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Af.html=Ef(Af.html,"i").replace("comment",Af._comment).replace("tag",Af._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Af.paragraph=Ef(Af._paragraph).replace("hr",Af.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Af._tag).getRegex(),Af.blockquote=Ef(Af.blockquote).replace("paragraph",Af.paragraph).getRegex(),Af.normal=Nf({},Af),Af.gfm=Nf({},Af.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Af.gfm.nptable=Ef(Af.gfm.nptable).replace("hr",Af.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Af._tag).getRegex(),Af.gfm.table=Ef(Af.gfm.table).replace("hr",Af.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Af._tag).getRegex(),Af.pedantic=Nf({},Af.normal,{html:Ef("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Af._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Sf,paragraph:Ef(Af.normal._paragraph).replace("hr",Af.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Af.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Pf={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Sf,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Sf,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};Pf.punctuation=Ef(Pf.punctuation).replace(/punctuation/g,Pf._punctuation).getRegex(),Pf.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Pf.escapedEmSt=/\\\*|\\_/g,Pf._comment=Ef(Af._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Pf.emStrong.lDelim=Ef(Pf.emStrong.lDelim).replace(/punct/g,Pf._punctuation).getRegex(),Pf.emStrong.rDelimAst=Ef(Pf.emStrong.rDelimAst,"g").replace(/punct/g,Pf._punctuation).getRegex(),Pf.emStrong.rDelimUnd=Ef(Pf.emStrong.rDelimUnd,"g").replace(/punct/g,Pf._punctuation).getRegex(),Pf._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Pf._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Pf._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Pf.autolink=Ef(Pf.autolink).replace("scheme",Pf._scheme).replace("email",Pf._email).getRegex(),Pf._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Pf.tag=Ef(Pf.tag).replace("comment",Pf._comment).replace("attribute",Pf._attribute).getRegex(),Pf._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Pf._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Pf._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Pf.link=Ef(Pf.link).replace("label",Pf._label).replace("href",Pf._href).replace("title",Pf._title).getRegex(),Pf.reflink=Ef(Pf.reflink).replace("label",Pf._label).getRegex(),Pf.reflinkSearch=Ef(Pf.reflinkSearch,"g").replace("reflink",Pf.reflink).replace("nolink",Pf.nolink).getRegex(),Pf.normal=Nf({},Pf),Pf.pedantic=Nf({},Pf.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ef(/^!?\[(label)\]\((.*?)\)/).replace("label",Pf._label).getRegex(),reflink:Ef(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Pf._label).getRegex()}),Pf.gfm=Nf({},Pf.normal,{escape:Ef(Pf.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Pf.gfm.url=Ef(Pf.gfm.url,"i").replace("email",Pf.gfm._extended_email).getRegex(),Pf.breaks=Nf({},Pf.gfm,{br:Ef(Pf.br).replace("{2,}","*").getRegex(),text:Ef(Pf.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Of={block:Af,inline:Pf};const{defaults:Rf}=tf,{block:jf,inline:$f}=Of,{repeatString:Df}=wf;function zf(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Lf(e){let t,n,r="";const i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var Mf=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Rf,this.options.tokenizer=this.options.tokenizer||new class{constructor(e){this.options=e||_f}space(e){const t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:kf(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const r=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=r.length?e.slice(r.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=kf(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e}}}nptable(e){const t=this.rules.block.nptable.exec(e);if(t){const e={type:"table",header:If(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(e.header.length===e.align.length){let t,n=e.align.length;for(t=0;t<n;t++)/^ *-+: *$/.test(e.align[t])?e.align[t]="right":/^ *:-+: *$/.test(e.align[t])?e.align[t]="center":/^ *:-+ *$/.test(e.align[t])?e.align[t]="left":e.align[t]=null;for(n=e.cells.length,t=0;t<n;t++)e.cells[t]=If(e.cells[t],e.header.length);return e}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:e}}}list(e){const t=this.rules.block.list.exec(e);if(t){let e=t[0];const n=t[2],r=n.length>1,i={type:"list",raw:e,ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]},o=t[0].match(this.rules.block.item);let a,s,u,l,c,h,f,p,d,v=!1,m=o.length;u=this.rules.block.listItemStart.exec(o[0]);for(let t=0;t<m;t++){if(a=o[t],e=a,this.options.pedantic||(d=a.match(new RegExp("\\n\\s*\\n {0,"+(u[0].length-1)+"}\\S")),d&&(c=a.length-d.index+o.slice(t+1).join("\n").length,i.raw=i.raw.substring(0,i.raw.length-c),a=a.substring(0,d.index),e=a,m=t+1)),t!==m-1){if(l=this.rules.block.listItemStart.exec(o[t+1]),this.options.pedantic?l[1].length>u[1].length:l[1].length>=u[0].length||l[1].length>3){o.splice(t,2,o[t]+(!this.options.pedantic&&l[1].length<u[0].length&&!o[t].match(/\n$/)?"":"\n")+o[t+1]),t--,m--;continue}(!this.options.pedantic||this.options.smartLists?l[2][l[2].length-1]!==n[n.length-1]:r===(1===l[2].length))&&(c=o.slice(t+1).join("\n").length,i.raw=i.raw.substring(0,i.raw.length-c),t=m-1),u=l}s=a.length,a=a.replace(/^ *([*+-]|\d+[.)]) ?/,""),~a.indexOf("\n ")&&(s-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+s+"}","gm"),"")),a=kf(a,"\n"),t!==m-1&&(e+="\n"),h=v||/\n\n(?!\s*$)/.test(e),t!==m-1&&(v="\n\n"===e.slice(-2),h||(h=v)),h&&(i.loose=!0),this.options.gfm&&(f=/^\[[ xX]\] /.test(a),p=void 0,f&&(p=" "!==a[1],a=a.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:e,task:f,checked:p,loose:h,text:a})}return i}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):xf(t[0]):t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:If(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,r=e.align.length;for(n=0;n<r;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(r=e.cells.length,n=0;n<r;n++)e.cells[n]=If(e.cells[n].replace(/^ *\| *| *\| *$/g,""),e.header.length);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0]}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:xf(t[1])}}tag(e,t,n){const r=this.rules.inline.tag.exec(e);if(r)return!t&&/^<a /i.test(r[0])?t=!0:t&&/^<\/a>/i.test(r[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):xf(r[0]):r[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=kf(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=Cf(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),Tf(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0])}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return Tf(n,e,n[0])}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r)return;if(r[3]&&n.match(/[\p{L}\p{N}]/u))return;const i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){const n=r[0].length-1;let i,o,a=n,s=0;const u="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=u.exec(t));)if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],i)if(o=i.length,r[3]||r[4])a+=o;else if(!((r[5]||r[6])&&n%3)||(n+o)%3){if(a-=o,!(a>0))return o=Math.min(o,o+a+s),Math.min(n,o)%2?{type:"em",raw:e.slice(0,n+r.index+o+1),text:e.slice(1,n+r.index+o)}:{type:"strong",raw:e.slice(0,n+r.index+o+1),text:e.slice(2,n+r.index+o-1)}}else s+=o}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=xf(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,r;return"@"===n[2]?(e=xf(this.options.mangle?t(n[1]):n[1]),r="mailto:"+e):(e=xf(n[1]),r=e),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])e=xf(this.options.mangle?t(n[0]):n[0]),r="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=xf(n[0]),r="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t,n){const r=this.rules.inline.text.exec(e);if(r){let e;return e=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):xf(r[0]):r[0]:xf(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:e}}}},this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;const t={block:jf.normal,inline:$f.normal};this.options.pedantic?(t.block=jf.pedantic,t.inline=$f.pedantic):this.options.gfm&&(t.block=jf.gfm,this.options.breaks?t.inline=$f.breaks:t.inline=$f.gfm),this.tokenizer.rules=t}static get rules(){return{block:jf,inline:$f}}static lex(t,n){return new e(n).lex(t)}static lexInline(t,n){return new e(n).inlineTokens(t)}lex(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens}blockTokens(e,t=[],n=!0){let r,i,o,a,s,u;for(this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((n=>!!(r=n.call(this,e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))))if(r=this.tokenizer.space(e))e=e.substring(r.raw.length),r.type&&t.push(r);else if(r=this.tokenizer.code(e))e=e.substring(r.raw.length),a=t[t.length-1],a&&"paragraph"===a.type?(a.raw+="\n"+r.raw,a.text+="\n"+r.text):t.push(r);else if(r=this.tokenizer.fences(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.heading(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.nptable(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.hr(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.blockquote(e))e=e.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),t.push(r);else if(r=this.tokenizer.list(e)){for(e=e.substring(r.raw.length),o=r.items.length,i=0;i<o;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);t.push(r)}else if(r=this.tokenizer.html(e))e=e.substring(r.raw.length),t.push(r);else if(n&&(r=this.tokenizer.def(e)))e=e.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.lheading(e))e=e.substring(r.raw.length),t.push(r);else{if(s=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startBlock.forEach((function(e){r=e.call(this,n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(s=e.substring(0,t+1))}if(n&&(r=this.tokenizer.paragraph(s)))a=t[t.length-1],u&&"paragraph"===a.type?(a.raw+="\n"+r.raw,a.text+="\n"+r.text):t.push(r),u=s.length!==e.length,e=e.substring(r.raw.length);else if(r=this.tokenizer.text(e))e=e.substring(r.raw.length),a=t[t.length-1],a&&"text"===a.type?(a.raw+="\n"+r.raw,a.text+="\n"+r.text):t.push(r);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return t}inline(e){let t,n,r,i,o,a;const s=e.length;for(t=0;t<s;t++)switch(a=e[t],a.type){case"paragraph":case"text":case"heading":a.tokens=[],this.inlineTokens(a.text,a.tokens);break;case"table":for(a.tokens={header:[],cells:[]},i=a.header.length,n=0;n<i;n++)a.tokens.header[n]=[],this.inlineTokens(a.header[n],a.tokens.header[n]);for(i=a.cells.length,n=0;n<i;n++)for(o=a.cells[n],a.tokens.cells[n]=[],r=0;r<o.length;r++)a.tokens.cells[n][r]=[],this.inlineTokens(o[r],a.tokens.cells[n][r]);break;case"blockquote":this.inline(a.tokens);break;case"list":for(i=a.items.length,n=0;n<i;n++)this.inline(a.items[n].tokens)}return e}inlineTokens(e,t=[],n=!1,r=!1){let i,o,a,s,u,l,c=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,s.index)+"["+Df("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,s.index)+"["+Df("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,s.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(u||(l=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((n=>!!(i=n.call(this,e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))))if(i=this.tokenizer.escape(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.tag(e,n,r))e=e.substring(i.raw.length),n=i.inLink,r=i.inRawBlock,o=t[t.length-1],o&&"text"===i.type&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(i=this.tokenizer.link(e))e=e.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),t.push(i);else if(i=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(i.raw.length),o=t[t.length-1],"link"===i.type?(i.tokens=this.inlineTokens(i.text,[],!0,r),t.push(i)):o&&"text"===i.type&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(i=this.tokenizer.emStrong(e,c,l))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.codespan(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.br(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.del(e))e=e.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),t.push(i);else if(i=this.tokenizer.autolink(e,Lf))e=e.substring(i.raw.length),t.push(i);else if(n||!(i=this.tokenizer.url(e,Lf))){if(a=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let r;this.options.extensions.startInline.forEach((function(e){r=e.call(this,n),"number"==typeof r&&r>=0&&(t=Math.min(t,r))})),t<1/0&&t>=0&&(a=e.substring(0,t+1))}if(i=this.tokenizer.inlineText(a,r,zf))e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),u=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):t.push(i);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(i.raw.length),t.push(i);return t}};const Ff={heading:class extends ue{constructor(e){super(),se(this,e,ph,fh,a,{depth:0,raw:1})}},paragraph:class extends ue{constructor(e){super(),se(this,e,vh,dh,a,{})}},text:class extends ue{constructor(e){super(),se(this,e,gh,mh,a,{})}},image:class extends ue{constructor(e){super(),se(this,e,bh,yh,a,{href:0,title:1,text:2})}},link:class extends ue{constructor(e){super(),se(this,e,_h,wh,a,{href:0,title:1})}},em:class extends ue{constructor(e){super(),se(this,e,Ih,kh,a,{})}},strong:class extends ue{constructor(e){super(),se(this,e,Nh,Eh,a,{})}},codespan:class extends ue{constructor(e){super(),se(this,e,Sh,Th,a,{raw:0})}},del:class extends ue{constructor(e){super(),se(this,e,Ch,xh,a,{})}},table:class extends ue{constructor(e){super(),se(this,e,Ph,Ah,a,{})}},tablehead:class extends ue{constructor(e){super(),se(this,e,Rh,Oh,a,{})}},tablebody:class extends ue{constructor(e){super(),se(this,e,$h,jh,a,{})}},tablerow:class extends ue{constructor(e){super(),se(this,e,zh,Dh,a,{})}},tablecell:class extends ue{constructor(e){super(),se(this,e,qh,Fh,a,{header:0,align:1})}},list:class extends ue{constructor(e){super(),se(this,e,Bh,Wh,a,{ordered:0,start:1})}},orderedlistitem:null,unorderedlistitem:null,listitem:class extends ue{constructor(e){super(),se(this,e,Kh,Hh,a,{})}},hr:class extends ue{constructor(e){super(),se(this,e,null,Gh,a,{})}},html:class extends ue{constructor(e){super(),se(this,e,Xh,Yh,a,{text:0})}},blockquote:class extends ue{constructor(e){super(),se(this,e,Qh,Jh,a,{})}},code:class extends ue{constructor(e){super(),se(this,e,ef,Zh,a,{lang:0})}}},qf={baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1};function Uf(e){let t,n;return t=new ih({props:{tokens:e[0],renderers:e[1]}}),{c(){re(t.$$.fragment)},m(e,r){ie(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.tokens=e[0]),2&n&&(r.renderers=e[1]),t.$set(r)},i(e){n||(X(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function Vf(e,t,n){let r,i,o,{source:a=""}=t,{renderers:s={}}=t,{options:u={}}=t;return e.$$set=e=>{"source"in e&&n(2,a=e.source),"renderers"in e&&n(3,s=e.renderers),"options"in e&&n(4,u=e.options)},e.$$.update=()=>{52&e.$$.dirty&&(n(5,i=new Mf({...qf,...u})),n(0,o=i.lex(a))),8&e.$$.dirty&&n(1,r={...Ff,...s})},[o,r,a,s,u,i]}class Wf extends ue{constructor(e){super(),se(this,e,Vf,Uf,a,{source:2,renderers:3,options:4})}}function Bf(e){b(e,"svelte-172fzj0",'.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0,.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0::before,.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0::after{box-sizing:border-box}button.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0,textarea.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{text-transform:none}button.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0,[type=\'button\'].svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{-webkit-appearance:button}.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0::-moz-focus-inner{border-style:none;padding:0}.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0:-moz-focusring{outline:1px dotted ButtonText}.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0:-moz-ui-invalid{box-shadow:none}.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0::-webkit-inner-spin-button,.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0::-webkit-outer-spin-button{height:auto}.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0::-webkit-search-decoration{-webkit-appearance:none}.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}h4.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0,p.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{margin:0}button.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{background-color:transparent;background-image:none}.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0,.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0::before,.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}img.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{border-style:solid}textarea.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{resize:vertical}textarea.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0::-moz-placeholder{opacity:1;color:#9ca3af}textarea.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0:-ms-input-placeholder{opacity:1;color:#9ca3af}textarea.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0::placeholder{opacity:1;color:#9ca3af}button.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{cursor:pointer}h4.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{font-size:inherit;font-weight:inherit}button.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0,textarea.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{padding:0;line-height:inherit;color:inherit}img.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0,svg.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{display:block;vertical-align:middle}img.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{max-width:100%;height:auto}.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0,.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0::before,.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0::after{--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59, 130, 246, 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-blur:var(--tw-empty,/*!*/ /*!*/);--tw-brightness:var(--tw-empty,/*!*/ /*!*/);--tw-contrast:var(--tw-empty,/*!*/ /*!*/);--tw-grayscale:var(--tw-empty,/*!*/ /*!*/);--tw-hue-rotate:var(--tw-empty,/*!*/ /*!*/);--tw-invert:var(--tw-empty,/*!*/ /*!*/);--tw-saturate:var(--tw-empty,/*!*/ /*!*/);--tw-sepia:var(--tw-empty,/*!*/ /*!*/);--tw-drop-shadow:var(--tw-empty,/*!*/ /*!*/);--tw-filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.form-textarea.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border-color:#6b7280;border-width:1px;border-radius:0px;padding-top:0.5rem;padding-right:0.75rem;padding-bottom:0.5rem;padding-left:0.75rem;font-size:1rem;line-height:1.5rem}.form-textarea.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#2563eb;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);border-color:#2563eb}.form-textarea.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0::-moz-placeholder{color:#6b7280;opacity:1}.form-textarea.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0:-ms-input-placeholder{color:#6b7280;opacity:1}.form-textarea.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0::placeholder{color:#6b7280;opacity:1}.prose.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{color:#374151;max-width:65ch}.prose.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{font-size:1rem;line-height:1.75}.mt-6.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{margin-top:1.5rem}.mb-2.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{margin-bottom:0.5rem}.flex.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{display:flex}.h-28.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{height:7rem}.h-12.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{height:3rem}.h-6.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{height:1.5rem}.w-full.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{width:100%}.w-3\\/4.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{width:75%}.w-12.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{width:3rem}.w-6.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{width:1.5rem}.max-w-none.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{max-width:none}.flex-grow.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{flex-grow:1}.flex-col.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{flex-direction:column}.items-center.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{align-items:center}.justify-end.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{justify-content:flex-end}.gap-2.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{gap:0.5rem}.gap-4.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{gap:1rem}.space-x-4.svelte-172fzj0>.svelte-172fzj0:not([hidden])~.svelte-172fzj0:not([hidden]){--tw-space-x-reverse:0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-8.svelte-172fzj0>.svelte-172fzj0:not([hidden])~.svelte-172fzj0:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(2rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(2rem * var(--tw-space-y-reverse))}.self-end.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{align-self:flex-end}.rounded-md.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{border-radius:0.375rem}.rounded-full.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{border-radius:9999px}.border-gray-300.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{--tw-border-opacity:1;border-color:rgba(209, 213, 219, var(--tw-border-opacity))}.bg-gray-100.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity))}.bg-primary-100.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{--tw-bg-opacity:1;background-color:rgba(224, 242, 254, var(--tw-bg-opacity))}.bg-primary-50.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{--tw-bg-opacity:1;background-color:rgba(240, 249, 255, var(--tw-bg-opacity))}.py-1.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{padding-top:0.25rem;padding-bottom:0.25rem}.px-6.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{padding-left:1.5rem;padding-right:1.5rem}.py-4.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{padding-top:1rem;padding-bottom:1rem}.px-4.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{padding-left:1rem;padding-right:1rem}.px-2.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{padding-left:0.5rem;padding-right:0.5rem}.py-2.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{padding-top:0.5rem;padding-bottom:0.5rem}.font-sans.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{font-family:ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"}.text-base.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{font-size:1rem;line-height:1.5rem}.text-lg.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{font-size:1.125rem;line-height:1.75rem}.font-medium.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{font-weight:500}.font-normal.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{font-weight:400}.font-semibold.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{font-weight:600}.text-gray-600.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{--tw-text-opacity:1;color:rgba(75, 85, 99, var(--tw-text-opacity))}.text-primary-800.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{--tw-text-opacity:1;color:rgba(7, 89, 133, var(--tw-text-opacity))}.text-gray-400.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{--tw-text-opacity:1;color:rgba(156, 163, 175, var(--tw-text-opacity))}.text-red-600.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{--tw-text-opacity:1;color:rgba(220, 38, 38, var(--tw-text-opacity))}.text-pink-600.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{--tw-text-opacity:1;color:rgba(219, 39, 119, var(--tw-text-opacity))}.primary-btn.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0{border-radius:0.375rem;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#e0f2fe;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(224, 242, 254, 0));--tw-gradient-stops:var(--tw-gradient-from), #dbeafe, var(--tw-gradient-to, rgba(219, 234, 254, 0));--tw-gradient-to:#ede9fe;--tw-text-opacity:1;color:rgba(12, 74, 110, var(--tw-text-opacity))}.primary-btn.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0:hover{--tw-bg-opacity:1;background-color:rgba(224, 242, 254, var(--tw-bg-opacity));--tw-gradient-from:#bae6fd;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(186, 230, 253, 0));--tw-gradient-stops:var(--tw-gradient-from), #bfdbfe, var(--tw-gradient-to, rgba(191, 219, 254, 0));--tw-gradient-to:#ddd6fe}.primary-btn.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0:disabled{cursor:not-allowed;--tw-saturate:saturate(.5);filter:var(--tw-filter)}.primary-btn.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0:disabled:hover{--tw-gradient-from:#e0f2fe;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(224, 242, 254, 0));--tw-gradient-stops:var(--tw-gradient-from), #dbeafe, var(--tw-gradient-to, rgba(219, 234, 254, 0));--tw-gradient-to:#ede9fe}.hover\\:bg-primary-200.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0:hover{--tw-bg-opacity:1;background-color:rgba(186, 230, 253, var(--tw-bg-opacity))}.hover\\:bg-red-100\\/60.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0:hover{background-color:rgba(254, 226, 226, 0.6)}.hover\\:bg-pink-100\\/60.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0:hover{background-color:rgba(252, 231, 243, 0.6)}.disabled\\:cursor-not-allowed.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0:disabled{cursor:not-allowed}.disabled\\:bg-gray-100.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0:disabled{--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity))}.disabled\\:text-gray-600.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0:disabled{--tw-text-opacity:1;color:rgba(75, 85, 99, var(--tw-text-opacity))}.disabled\\:hover\\:bg-gray-100.svelte-172fzj0.svelte-172fzj0.svelte-172fzj0:disabled:hover{--tw-bg-opacity:1;background-color:rgba(243, 244, 246, var(--tw-bg-opacity))}')}function Hf(e,t,n){const r=e.slice();return r[24]=t[n],r}function Kf(t){let n,r,i,o,a,s,u,l;return{c(){n=I("label"),r=I("p"),r.textContent="Add a comment (markdown is supported)",i=T(),o=I("textarea"),N(r,"class","text-gray-600 svelte-172fzj0"),N(o,"class","border-gray-300 rounded-md w-full form-textarea font-sans h-28 disabled:cursor-not-allowed svelte-172fzj0"),N(o,"placeholder",a=t[0].user?"Write your thoughts...":"Login to leave a comment"),o.disabled=s=!t[0].user,N(n,"class","svelte-172fzj0")},m(e,a){w(e,n,a),y(n,r),y(n,i),y(n,o),P(o,t[3]),u||(l=E(o,"input",t[12]),u=!0)},p(e,t){1&t&&a!==(a=e[0].user?"Write your thoughts...":"Login to leave a comment")&&N(o,"placeholder",a),1&t&&s!==(s=!e[0].user)&&(o.disabled=s),8&t&&P(o,e[3])},i:e,o:e,d(e){e&&_(n),u=!1,l()}}}function Gf(e){let t,n,r,i,o;return i=new Wf({props:{source:e[3]||"Nothing to preview"}}),{c(){t=I("p"),t.textContent="Add a comment (markdown is supported)",n=T(),r=I("p"),re(i.$$.fragment),N(t,"class","text-gray-600 svelte-172fzj0"),N(r,"class","text-base prose max-w-none bg-gray-100 px-6 py-4 svelte-172fzj0")},m(e,a){w(e,t,a),w(e,n,a),w(e,r,a),ie(i,r,null),o=!0},p(e,t){const n={};8&t&&(n.source=e[3]||"Nothing to preview"),i.$set(n)},i(e){o||(X(i.$$.fragment,e),o=!0)},o(e){J(i.$$.fragment,e),o=!1},d(e){e&&_(t),e&&_(n),e&&_(r),oe(i)}}}function Yf(e){let t,n,r=[],i=new Map,o=e[2];const a=e=>e[24].id;for(let t=0;t<o.length;t+=1){let n=Hf(e,o,t),s=a(n);i.set(s,r[t]=Zf(s,n))}return{c(){t=I("div");for(let e=0;e<r.length;e+=1)r[e].c();N(t,"class","space-y-8 svelte-172fzj0")},m(e,i){w(e,t,i);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,n){1749&n&&(o=e[2],G(),r=ee(r,n,a,1,e,o,i,t,Z,Zf,null,Hf),Y())},i(e){if(!n){for(let e=0;e<o.length;e+=1)X(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)J(r[e]);n=!1},d(e){e&&_(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Xf(e){let t,n,r;function i(){return e[15](e[24])}return{c(){t=I("button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class=" h-6 w-6 text-red-600 svelte-172fzj0"><polyline points="3 6 5 6 21 6" class="svelte-172fzj0"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" class="svelte-172fzj0"></path><line x1="10" y1="11" x2="10" y2="17" class="svelte-172fzj0"></line><line x1="14" y1="11" x2="14" y2="17" class="svelte-172fzj0"></line></svg>',N(t,"class","hover:bg-red-100/60 px-2 py-2 rounded-full svelte-172fzj0")},m(e,o){w(e,t,o),n||(r=E(t,"click",i),n=!0)},p(t,n){e=t},d(e){e&&_(t),n=!1,r()}}}function Jf(e){let t,n,r,i,o,a=(e[24].likes??0)+"";return{c(){t=I("div"),n=x("svg"),r=x("path"),i=T(),o=C(a),N(r,"d","M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"),N(r,"class","svelte-172fzj0"),N(n,"xmlns","http://www.w3.org/2000/svg"),N(n,"viewBox","0 0 24 24"),N(n,"fill","none"),N(n,"stroke","currentColor"),N(n,"stroke-width","2"),N(n,"stroke-linecap","round"),N(n,"stroke-linejoin","round"),N(n,"class","h-6 w-6 text-pink-600 svelte-172fzj0"),N(t,"class","px-2 py-2 flex text-pink-600 font-semibold gap-2 items-center svelte-172fzj0")},m(e,a){w(e,t,a),y(t,n),y(n,r),y(t,i),y(t,o)},p(e,t){4&t&&a!==(a=(e[24].likes??0)+"")&&A(o,a)},d(e){e&&_(t)}}}function Qf(e){let t,n,r,i,o,a,s,u,l=(e[24].likes??0)+"";function c(){return e[16](e[24])}return{c(){t=I("button"),n=x("svg"),r=x("path"),o=T(),a=C(l),N(r,"d","M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"),N(r,"class","svelte-172fzj0"),N(n,"xmlns","http://www.w3.org/2000/svg"),N(n,"viewBox","0 0 24 24"),N(n,"fill",i=e[6].includes(e[24].id)?"currentColor":"none"),N(n,"stroke","currentColor"),N(n,"stroke-width","2"),N(n,"stroke-linecap","round"),N(n,"stroke-linejoin","round"),N(n,"class","h-6 w-6 text-pink-600 svelte-172fzj0"),N(t,"class","px-2 py-2 rounded-full hover:bg-pink-100/60 flex text-pink-600 font-semibold gap-2 items-center svelte-172fzj0")},m(e,i){w(e,t,i),y(t,n),y(n,r),y(t,o),y(t,a),s||(u=E(t,"click",c),s=!0)},p(t,r){e=t,68&r&&i!==(i=e[6].includes(e[24].id)?"currentColor":"none")&&N(n,"fill",i),4&r&&l!==(l=(e[24].likes??0)+"")&&A(a,l)},d(e){e&&_(t),s=!1,u()}}}function Zf(e,t){let n,r,i,o,a,s,u,c,h,f,p,d,v,m,g,b,k,x,S,E,P=t[4][t[24].user].name+"",O=t[7].format(t[24].timestamp)+"";g=new Wf({props:{source:t[24].text}});let R=t[0].user&&t[24].user==t[0].user.uid&&Xf(t);function j(e,t){return e[0].user?Qf:Jf}let $=j(t),D=$(t);return{key:e,first:null,c(){n=I("div"),r=I("img"),a=T(),s=I("div"),u=I("h4"),c=C(P),h=T(),f=I("span"),p=C("commented "),d=C(O),v=T(),m=I("p"),re(g.$$.fragment),b=T(),k=I("div"),R&&R.c(),x=T(),D.c(),S=T(),l(r.src,i=t[4][t[24].user].photo)||N(r,"src",i),N(r,"alt",o=t[4][t[24].user].name+"'s profile picture"),N(r,"class","h-12 w-12 rounded-full svelte-172fzj0"),N(f,"class","text-base text-gray-400 font-normal svelte-172fzj0"),N(u,"class","text-lg text-primary-800 mb-2 font-medium svelte-172fzj0"),N(m,"class","text-base prose max-w-none svelte-172fzj0"),N(k,"class","w-full flex justify-end items-center gap-2 svelte-172fzj0"),N(s,"class","bg-primary-50 flex-grow px-6 py-4 svelte-172fzj0"),N(n,"class","flex gap-4 svelte-172fzj0"),this.first=n},m(e,t){w(e,n,t),y(n,r),y(n,a),y(n,s),y(s,u),y(u,c),y(u,h),y(u,f),y(f,p),y(f,d),y(s,v),y(s,m),ie(g,m,null),y(s,b),y(s,k),R&&R.m(k,null),y(k,x),D.m(k,null),y(n,S),E=!0},p(e,n){t=e,(!E||20&n&&!l(r.src,i=t[4][t[24].user].photo))&&N(r,"src",i),(!E||20&n&&o!==(o=t[4][t[24].user].name+"'s profile picture"))&&N(r,"alt",o),(!E||20&n)&&P!==(P=t[4][t[24].user].name+"")&&A(c,P),(!E||4&n)&&O!==(O=t[7].format(t[24].timestamp)+"")&&A(d,O);const a={};4&n&&(a.source=t[24].text),g.$set(a),t[0].user&&t[24].user==t[0].user.uid?R?R.p(t,n):(R=Xf(t),R.c(),R.m(k,x)):R&&(R.d(1),R=null),$===($=j(t))&&D?D.p(t,n):(D.d(1),D=$(t),D&&(D.c(),D.m(k,null)))},i(e){E||(X(g.$$.fragment,e),E=!0)},o(e){J(g.$$.fragment,e),E=!1},d(e){e&&_(n),oe(g),R&&R.d(),D.d()}}}function ep(e){let t,n,r,o,a,s,u,l,c,h,f,p,d,v,m,g,b=e[5]?"Edit":"Preview",k=Object.keys(e[4]).length;const x=[Gf,Kf],S=[];function P(e,t){return e[5]?0:1}n=P(e),r=S[n]=x[n](e);let O=k&&Yf(e);return{c(){t=I("div"),r.c(),o=T(),a=I("div"),s=I("button"),u=C(b),c=T(),h=I("button"),f=C("Submit"),d=T(),O&&O.c(),N(s,"class","text-lg bg-primary-100 hover:bg-primary-200 text-primary-800 px-4 py-1 rounded-md disabled:bg-gray-100 disabled:hover:bg-gray-100 disabled:cursor-not-allowed disabled:text-gray-600 svelte-172fzj0"),s.disabled=l=!e[0].user||!e[3],N(h,"type","button"),N(h,"class","text-lg primary-btn px-4 py-1 svelte-172fzj0"),h.disabled=p=!e[0].user||!e[3],N(a,"class","self-end space-x-4 svelte-172fzj0"),N(t,"class","flex flex-col gap-4 mt-6 w-3/4 svelte-172fzj0")},m(r,i){w(r,t,i),S[n].m(t,null),y(t,o),y(t,a),y(a,s),y(s,u),y(a,c),y(a,h),y(h,f),y(t,d),O&&O.m(t,null),v=!0,m||(g=[E(s,"click",e[13]),E(h,"click",e[14])],m=!0)},p(e,[i]){let a=n;n=P(e),n===a?S[n].p(e,i):(G(),J(S[a],1,1,(()=>{S[a]=null})),Y(),r=S[n],r?r.p(e,i):(r=S[n]=x[n](e),r.c()),X(r,1),r.m(t,o)),(!v||32&i)&&b!==(b=e[5]?"Edit":"Preview")&&A(u,b),(!v||9&i&&l!==(l=!e[0].user||!e[3]))&&(s.disabled=l),(!v||9&i&&p!==(p=!e[0].user||!e[3]))&&(h.disabled=p),16&i&&(k=Object.keys(e[4]).length),k?O?(O.p(e,i),16&i&&X(O,1)):(O=Yf(e),O.c(),X(O,1),O.m(t,null)):O&&(G(),J(O,1,1,(()=>{O=null})),Y())},i(e){v||(X(r),X(O),v=!0)},o(e){J(r),J(O),v=!1},d(e){e&&_(t),S[n].d(),O&&O.d(),m=!1,i(g)}}}function tp(t,n,r){let i,o=e;t.$$.on_destroy.push((()=>o())),bc.addDefaultLocale(kc);const a=new bc("en-US");console.log("comments");let s,u,l,{page:h=(window.location.pathname.endsWith("/")?window.location.pathname:window.location.pathname+"/")}=n;try{const e=Nt();s=e.authStore,o(),o=c(s,(e=>r(0,i=e))),u=e.loginWithGoogle,l=e.logout}catch(e){throw e}const f=Ct.database();let p=[],d="",v={},m=!1,g=[];j((async()=>{r(4,v=await f.ref("users/info").once("value").then((e=>e.val()))??{})}));const y=()=>{if(!i.user||!d)return;const e=`posts/${Au(h)}/comments`,t=f.ref(e).push({user:i.user.uid,text:d,timestamp:Ct.database.ServerValue.TIMESTAMP,likes:0}).key;r(2,p=[{id:t,user:i.user.uid,text:d,timestamp:Date.now(),likes:0},...p]),r(3,d=""),r(5,m=!1)},b=async e=>{i.user&&e.user==i.user.uid&&(await f.ref(`posts/${Au(h)}/comments/${e.id}`).set(null),r(2,p=p.filter((t=>t.id!==e.id))))},w=async e=>{g.includes(e.id)?(async e=>{if(!i.user)return;const t={};t[`posts/${Au(h)}/comments/${e.id}/likes`]=Ct.database.ServerValue.increment(-1),t[`users/activity/${i.user.uid}/${Au(h)}/commentLikes/${e.id}`]=null,await f.ref().update(t),e.likes--,r(2,p=[...p]),r(6,g=g.filter((t=>t!==e.id)))})(e):(async e=>{if(!i.user)return;const t={};t[`posts/${Au(h)}/comments/${e.id}/likes`]=Ct.database.ServerValue.increment(1),t[`users/activity/${i.user.uid}/${Au(h)}/commentLikes/${e.id}`]=!0,await f.ref().update(t),e.likes++,r(2,p=[...p]),r(6,g=[...g,e.id])})(e)};return t.$$set=e=>{"page"in e&&r(11,h=e.page)},t.$$.update=()=>{2049&t.$$.dirty&&(f.ref(`posts/${Au(h)}/comments`).orderByChild("timestamp").once("value").then((e=>e.val())).then((e=>{var t;t=Object.entries(e).map((([e,t])=>({id:e,...t}))).reverse(),r(2,p=t)})),i.user?f.ref(`users/activity/${i.user.uid}/${Au(h)}/commentLikes`).once("value").then((e=>e.val())).then((e=>{return t=e??{},void r(6,g=Object.keys(t));var t})):r(6,g=[]))},[i,s,p,d,v,m,g,a,y,b,w,h,function(){d=this.value,r(3,d)},()=>{r(5,m=!m)},()=>y(),e=>b(e),e=>w(e)]}class np extends ue{constructor(e){super(),se(this,e,tp,ep,a,{page:11},Bf)}}function rp(e){b(e,"svelte-1q8bwxn",'.svelte-1q8bwxn,.svelte-1q8bwxn::before,.svelte-1q8bwxn::after{box-sizing:border-box}button.svelte-1q8bwxn{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button.svelte-1q8bwxn{text-transform:none}button.svelte-1q8bwxn,[type=\'button\'].svelte-1q8bwxn{-webkit-appearance:button}.svelte-1q8bwxn::-moz-focus-inner{border-style:none;padding:0}.svelte-1q8bwxn:-moz-focusring{outline:1px dotted ButtonText}.svelte-1q8bwxn:-moz-ui-invalid{box-shadow:none}.svelte-1q8bwxn::-webkit-inner-spin-button,.svelte-1q8bwxn::-webkit-outer-spin-button{height:auto}.svelte-1q8bwxn::-webkit-search-decoration{-webkit-appearance:none}.svelte-1q8bwxn::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}h2.svelte-1q8bwxn,h3.svelte-1q8bwxn{margin:0}button.svelte-1q8bwxn{background-color:transparent;background-image:none}.svelte-1q8bwxn,.svelte-1q8bwxn::before,.svelte-1q8bwxn::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:currentColor}button.svelte-1q8bwxn{cursor:pointer}h2.svelte-1q8bwxn,h3.svelte-1q8bwxn{font-size:inherit;font-weight:inherit}button.svelte-1q8bwxn{padding:0;line-height:inherit;color:inherit}.svelte-1q8bwxn,.svelte-1q8bwxn::before,.svelte-1q8bwxn::after{--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-ring-inset:var(--tw-empty,/*!*/ /*!*/);--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59, 130, 246, 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-blur:var(--tw-empty,/*!*/ /*!*/);--tw-brightness:var(--tw-empty,/*!*/ /*!*/);--tw-contrast:var(--tw-empty,/*!*/ /*!*/);--tw-grayscale:var(--tw-empty,/*!*/ /*!*/);--tw-hue-rotate:var(--tw-empty,/*!*/ /*!*/);--tw-invert:var(--tw-empty,/*!*/ /*!*/);--tw-saturate:var(--tw-empty,/*!*/ /*!*/);--tw-sepia:var(--tw-empty,/*!*/ /*!*/);--tw-drop-shadow:var(--tw-empty,/*!*/ /*!*/);--tw-filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}main.svelte-1q8bwxn{margin:0;font-family:ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,\n        "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif,\n        "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n        "Noto Color Emoji";line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:100%}.mx-auto.svelte-1q8bwxn{margin-left:auto;margin-right:auto}.my-16.svelte-1q8bwxn{margin-top:4rem;margin-bottom:4rem}.mt-4.svelte-1q8bwxn{margin-top:1rem}.flex.svelte-1q8bwxn{display:flex}.h-9.svelte-1q8bwxn{height:2.25rem}.w-full.svelte-1q8bwxn{width:100%}.flex-col.svelte-1q8bwxn{flex-direction:column}.items-center.svelte-1q8bwxn{align-items:center}.gap-10.svelte-1q8bwxn{gap:2.5rem}.gap-2.svelte-1q8bwxn{gap:0.5rem}.text-3xl.svelte-1q8bwxn{font-size:1.875rem;line-height:2.25rem}.text-2xl.svelte-1q8bwxn{font-size:1.5rem;line-height:2rem}.font-bold.svelte-1q8bwxn{font-weight:700}.font-medium.svelte-1q8bwxn{font-weight:500}.text-primary-600.svelte-1q8bwxn{--tw-text-opacity:1;color:rgba(2, 132, 199, var(--tw-text-opacity))}.primary-btn.svelte-1q8bwxn{border-radius:0.375rem;background-image:linear-gradient(to right, var(--tw-gradient-stops));--tw-gradient-from:#e0f2fe;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(224, 242, 254, 0));--tw-gradient-stops:var(--tw-gradient-from), #dbeafe, var(--tw-gradient-to, rgba(219, 234, 254, 0));--tw-gradient-to:#ede9fe;padding-top:0.25rem;padding-bottom:0.25rem;padding-left:0.5rem;padding-right:0.5rem;--tw-text-opacity:1;color:rgba(12, 74, 110, var(--tw-text-opacity))}.primary-btn.svelte-1q8bwxn:hover{--tw-bg-opacity:1;background-color:rgba(224, 242, 254, var(--tw-bg-opacity));--tw-gradient-from:#bae6fd;--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to, rgba(186, 230, 253, 0));--tw-gradient-stops:var(--tw-gradient-from), #bfdbfe, var(--tw-gradient-to, rgba(191, 219, 254, 0));--tw-gradient-to:#ddd6fe}')}function ip(t){let n;return{c(){n=I("div"),N(n,"class","h-9 svelte-1q8bwxn")},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&_(n)}}}function op(t){let n,r,i,a,s;return{c(){n=I("div"),r=I("button"),r.textContent="Login",i=C("\n      to add reactions."),N(r,"type","button"),N(r,"class","primary-btn text-md svelte-1q8bwxn"),N(n,"class","svelte-1q8bwxn")},m(e,u){w(e,n,u),y(n,r),y(n,i),a||(s=E(r,"click",(function(){o(t[4])&&t[4].apply(this,arguments)})),a=!0)},p(e,n){t=e},i:e,o:e,d(e){e&&_(n),a=!1,s()}}}function ap(e){let t,n,r,i,a,s,u,l,c,h,f,p,d,v=e[6].user.displayName+"";return c=new Cu({}),{c(){t=I("div"),n=I("h2"),r=C("Hi "),i=I("span"),a=C(v),s=C(" 👋!"),u=T(),l=I("button"),re(c.$$.fragment),h=C("\n        Logout"),N(i,"class","text-primary-600 svelte-1q8bwxn"),N(n,"class","text-3xl font-bold svelte-1q8bwxn"),N(l,"type","button"),N(l,"class","flex items-center gap-2 text-md primary-btn svelte-1q8bwxn"),N(t,"class","flex gap-10 items-center svelte-1q8bwxn")},m(v,m){w(v,t,m),y(t,n),y(n,r),y(n,i),y(i,a),y(n,s),y(t,u),y(t,l),ie(c,l,null),y(l,h),f=!0,p||(d=E(l,"click",(function(){o(e[5])&&e[5].apply(this,arguments)})),p=!0)},p(t,n){e=t,(!f||64&n)&&v!==(v=e[6].user.displayName+"")&&A(a,v)},i(e){f||(X(c.$$.fragment,e),f=!0)},o(e){J(c.$$.fragment,e),f=!1},d(e){e&&_(t),oe(c),p=!1,d()}}}function sp(e){let t,n,r,i,o,a,s,u,l,c,h;const f=[ap,op,ip],p=[];function d(e,t){return e[6].user?0:e[6].loading?2:1}return n=d(e),r=p[n]=f[n](e),u=new Du({props:{page:e[1],reactions:e[0]}}),c=new np({props:{page:e[1]}}),{c(){t=I("main"),r.c(),i=T(),o=I("h3"),a=C(e[2]),s=T(),re(u.$$.fragment),l=T(),re(c.$$.fragment),N(o,"class","text-2xl mt-4 font-medium svelte-1q8bwxn"),N(t,"class","w-full mx-auto flex flex-col items-center my-16 svelte-1q8bwxn")},m(e,r){w(e,t,r),p[n].m(t,null),y(t,i),y(t,o),y(o,a),y(t,s),ie(u,t,null),y(t,l),ie(c,t,null),h=!0},p(e,[o]){let s=n;n=d(e),n===s?p[n].p(e,o):(G(),J(p[s],1,1,(()=>{p[s]=null})),Y(),r=p[n],r?r.p(e,o):(r=p[n]=f[n](e),r.c()),X(r,1),r.m(t,i)),(!h||4&o)&&A(a,e[2]);const l={};2&o&&(l.page=e[1]),1&o&&(l.reactions=e[0]),u.$set(l);const v={};2&o&&(v.page=e[1]),c.$set(v)},i(e){h||(X(r),X(u.$$.fragment,e),X(c.$$.fragment,e),h=!0)},o(e){J(r),J(u.$$.fragment,e),J(c.$$.fragment,e),h=!1},d(e){e&&_(t),p[n].d(),oe(u),oe(c)}}}function up(t,n,r){let i,o=e;t.$$.on_destroy.push((()=>o()));let a,s,u,{firebaseConfig:l}=n,{reactions:h=["😭","😕","😀","🤩"]}=n,{page:f=(window.location.pathname.endsWith("/")?window.location.pathname:window.location.pathname+"/")}=n,{reactionText:p="Did you enjoy this post? Leave your reactions below!"}=n;if(!l)throw new Error("No firebaseConfig was provided");Ct.apps.length||Ct.initializeApp(l);try{const e=Nt();a=e.authStore,o(),o=c(a,(e=>r(6,i=e))),s=e.loginWithGoogle,u=e.logout}catch(e){throw e}return t.$$set=e=>{"firebaseConfig"in e&&r(7,l=e.firebaseConfig),"reactions"in e&&r(0,h=e.reactions),"page"in e&&r(1,f=e.page),"reactionText"in e&&r(2,p=e.reactionText)},[h,f,p,a,s,u,i,l]}class lp extends ue{constructor(e){super(),se(this,e,up,sp,a,{firebaseConfig:7,reactions:0,page:1,reactionText:2},rp)}}const cp={install:({firebaseConfig:e,reactions:t,page:n,reactionText:r})=>{const i=document.getElementById("reactive_widget");new lp({target:i,props:{firebaseConfig:e,page:n,reactions:t,reactionText:r}})},version:"1.0.2"};return cp}));
